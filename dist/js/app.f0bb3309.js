(function(){"use strict";var e={1642:function(e,t,a){var o={};a.r(o),a.d(o,{A:function(){return wt},h:function(){return At}});var r=a(5130),n=a(6768);const l={id:"app"},s={class:"navbar navbar-expand-lg navbar-dark bg-primary"},i={class:"container-fluid"},c=(0,n.Lk)("a",{class:"navbar-brand",href:"#"},"M.A.R.Y.",-1),u=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarNavDropdown"},m={class:"navbar-nav"},p={class:"nav-item"},h={class:"nav-item"},v=(0,n.Lk)("li",{class:"nav-item"},[(0,n.Lk)("a",{class:"nav-link",target:"_blank",href:"https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io/"},"Generate XML")],-1),y={class:"nav-item dropdown"},g=(0,n.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Configuration ",-1),f={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"};function k(e,t,a,o,r,k){const b=(0,n.g2)("router-link"),L=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("nav",s,[(0,n.Lk)("div",i,[c,u,(0,n.Lk)("div",d,[(0,n.Lk)("ul",m,[(0,n.Lk)("li",p,[(0,n.bF)(b,{class:"nav-link active",to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("New Entry")])),_:1})]),(0,n.Lk)("li",h,[(0,n.bF)(b,{class:"nav-link",to:"/view-entries"},{default:(0,n.k6)((()=>[(0,n.eW)("Entry List")])),_:1})]),v,(0,n.Lk)("li",y,[g,(0,n.Lk)("ul",f,[(0,n.bF)(b,{class:"dropdown-item",to:"/buyers"},{default:(0,n.k6)((()=>[(0,n.eW)("Importers")])),_:1}),(0,n.bF)(b,{class:"dropdown-item",to:"/sellers"},{default:(0,n.k6)((()=>[(0,n.eW)("Shippers")])),_:1}),(0,n.bF)(b,{class:"dropdown-item",to:"/declarants"},{default:(0,n.k6)((()=>[(0,n.eW)("Declarants")])),_:1})])])])])])]),(0,n.bF)(L)])}var b={name:"App",components:{}},L=a(1241);const D=(0,L.A)(b,[["render",k]]);var _=D,C=a(1387),S=a(4232);const x={id:"app"},T=(0,n.Lk)("h1",null,"New Entry",-1),F={class:"row"},I=(0,n.Lk)("div",{class:"col-md-5"},null,-1),E={class:"col-md-2"},w=(0,n.Lk)("div",{class:"col-md-5"},null,-1),A={key:0},N=(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onclick:"document.querySelector('input[type=file]').click()"},"Choose Files",-1),O=(0,n.Lk)("h3",null,"Header Information",-1),P={class:"form-row"},B={class:"row"},V={class:"col-md-3"},U=(0,n.Lk)("label",{for:"InvoiceNumber"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),R=["onUpdate:modelValue"],X={class:"col-md-3"},$=(0,n.Lk)("label",{for:"SupplierName"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),W=["onUpdate:modelValue"],J={class:"col-md-2"},q=(0,n.Lk)("label",{for:"InvoiceDate"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),G=["onUpdate:modelValue"],K={class:"col-md-2"},Y=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),M=["onUpdate:modelValue"],j=(0,n.Lk)("option",{value:"",disabled:""},"Select a Currency",-1),H=["value"],Q={class:"col-md-2"},Z=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),z=["onUpdate:modelValue"],ee=(0,n.Lk)("h3",null,"Line Details",-1),te=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Country of Origin"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"VAT Applicable"),(0,n.Lk)("th",null,"Actions")])],-1),ae=["onBlur"],oe=["onBlur"],re=["onInput","onBlur"],ne=["onBlur"],le=["onBlur"],se=["onBlur"],ie=["onUpdate:modelValue"],ce=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),ue=["value"],de=["onUpdate:modelValue"],me=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),pe=["value"],he=["onUpdate:modelValue"],ve=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),ye=["value"],ge={class:"form-check form-switch"},fe=["onUpdate:modelValue"],ke=["onClick"],be=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),Le=[be],De={colspan:"7"},_e=["onClick"],Ce=(0,n.Lk)("h3",null,"Footer Information",-1),Se=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges")])],-1),xe=["onBlur"],Te=["onBlur"],Fe=["onBlur"],Ie=["onBlur"],Ee=(0,n.Lk)("h3",null,"Calculated Check",-1),we=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),Ae={key:1},Ne=(0,n.Lk)("h3",null,"Entry Summary",-1),Oe=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),Pe=["disabled"],Be=["disabled"];function Ve(e,t,a,o,l,s){const i=(0,n.g2)("CustomsEntryForm");return(0,n.uX)(),(0,n.CE)("div",x,[T,(0,n.Lk)("div",F,[I,(0,n.Lk)("div",E,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.referenceNumber=e),placeholder:"Enter Reference Number",onInput:t[1]||(t[1]=(...e)=>s.validateInput&&s.validateInput(...e))},null,544),[[r.Jo,l.referenceNumber]])]),w]),l.isValidReference?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("div",{class:"dropzone",onDragover:t[5]||(t[5]=(0,r.D$)(((...e)=>s.dragOver&&s.dragOver(...e)),["prevent"])),onDragenter:t[6]||(t[6]=(0,r.D$)(((...e)=>s.dragEnter&&s.dragEnter(...e)),["prevent"])),onDragleave:t[7]||(t[7]=(0,r.D$)(((...e)=>s.dragLeave&&s.dragLeave(...e)),["prevent"])),onDrop:t[8]||(t[8]=(0,r.D$)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},[(0,n.eW)(" Please Upload Commercial Invoices "),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[2]||(t[2]=(...e)=>s.handleFileUpload&&s.handleFileUpload(...e)),style:{display:"none"}},null,32),N,(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[3]||(t[3]=(...e)=>s.uploadFiles&&s.uploadFiles(...e))},"Upload Files AWS"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[4]||(t[4]=(...e)=>s.uploadFilesMicrosoft&&s.uploadFilesMicrosoft(...e))},"Upload Files GABRIEL")],32),(0,n.Lk)("div",null,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.selectedFiles,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,S.v_)(e.name),1)))),128))]),(0,n.bF)(i,{customsEntryForm:l.customsEntryForm,onUpdateCustomsEntryForm:t[9]||(t[9]=e=>l.customsEntryForm=e)},null,8,["customsEntryForm"])])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.invoiceDataArray,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,S.v_)(t+1),1),O,(0,n.Lk)("div",P,[(0,n.Lk)("div",B,[(0,n.Lk)("div",V,[U,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_id=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,R),[[r.Jo,e.invoice_id]])]),(0,n.Lk)("div",X,[$,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,W),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",J,[q,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,G),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",K,[Y,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>e.currency=t},[j,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.currencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,H)))),128))],8,M),[[r.u1,e.currency]])]),(0,n.Lk)("div",Q,[Z,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,z),[[r.Jo,e.rate_of_exchange]])])])]),ee,(0,n.Lk)("table",null,[te,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.invoice_items,((t,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("td",null,(0,S.v_)(a+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateItem(e,a,"product_code",t.target.innerText)},(0,S.v_)(t.product_code||"N/A"),41,ae),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateItem(e,a,"description",t.target.innerText)},(0,S.v_)(t.description||"N/A"),41,oe),(0,n.Lk)("td",{contenteditable:"true",onInput:e=>s.handleInput(e,a,"thn_code"),onBlur:t=>s.updateItem(e,a,"thn_code",t.target.innerText)},(0,S.v_)(t.thn_code||"N/A"),41,re),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateItem(e,a,"quantity",t.target.innerText),style:(0,S.Tr)(s.naStyle(t.quantity))},(0,S.v_)(t.quantity||"N/A"),45,ne),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateItem(e,a,"unit_price",t.target.innerText),style:(0,S.Tr)(s.naStyle(t.unit_price))},(0,S.v_)(t.unit_price||"N/A"),45,le),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateItem(e,a,"amount",t.target.innerText),style:(0,S.Tr)(s.extensionStyle(t))},(0,S.v_)(t.amount||"N/A"),45,se),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>t.country_of_origin=e,id:"country"},[ce,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code),9,ue)))),128))],8,ie),[[r.u1,t.country_of_origin]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>t.cpcCode=e,id:"cpcCode"},[me,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.availableCPCCodes,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.cpcId,value:e.cpcId},(0,S.v_)(e.code),9,pe)))),128))],8,de),[[r.u1,t.cpcCode]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>t.npcCode=e,id:"npcCode"},[ve,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.npcCodeOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,S.v_)(e),9,ye)))),128))],8,he),[[r.u1,t.npcCode]])]),(0,n.Lk)("td",null,[(0,n.Lk)("div",ge,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e=>t.vatApplicable=e},null,8,fe),[[r.lH,t.vatApplicable]])])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>s.deleteRow(e,a)},Le,8,ke)])])))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",De,[(0,n.Lk)("button",{onClick:t=>s.addNewLine(e)},"Add New Line",8,_e)])])])]),Ce,(0,n.Lk)("table",null,[Se,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateData(e,"invoice_total",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.invoice_total))},(0,S.v_)(e.invoice_total||"N/A"),45,xe),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateData(e,"inland",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.inland))},(0,S.v_)(e.inland||"N/A"),45,Te),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateData(e,"insurance",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.insurance))},(0,S.v_)(e.insurance||"N/A"),45,Fe),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateData(e,"otherCharges",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.otherCharges))},(0,S.v_)(e.otherCharges||"N/A"),45,Ie)])])]),Ee,(0,n.Lk)("table",null,[we,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,S.Tr)(s.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,S.v_)(s.calculateTotalExtensionPrice(e.invoice_items)),1),(0,n.Lk)("td",null,(0,S.v_)(e.invoice_items.length),1),(0,n.Lk)("td",null,(0,S.v_)(s.calculateTotalExtensionPrice(e.invoice_items)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),l.selectedFiles.length?((0,n.uX)(),(0,n.CE)("div",Ae,[Ne,(0,n.Lk)("table",null,[Oe,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,S.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,S.v_)(this.totalFOBValue),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:s.entryButtonDisabled,onClick:t[10]||(t[10]=e=>s.createInvoices(l.invoiceDataArray))},"Save Entry",8,Pe)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:s.thnCodesCompleted,onClick:t[11]||(t[11]=(...e)=>s.generateWorkSheet&&s.generateWorkSheet(...e))},"Generate WorkSheet",8,Be)])])])])])):(0,n.Q3)("",!0)])}a(4114),a(4603),a(7566),a(8721);var Ue=a(8047),Re=a.n(Ue);const Xe="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/",$e="https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//",We=async(e,t,a=null)=>{try{const o=await Re()({method:e,url:t,data:a});return o.data}catch(o){throw console.error("API error:",o),o}},Je=async e=>await We("post",`${Xe}commercial_invoices`,e),qe=async e=>{try{const t=await Re()({url:`${Xe}generate-customs-declaration`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Ge=async e=>{try{const t=await Re()({url:`${Xe}generate-pre-signed-valuation-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Ke=async e=>{try{const t=await Re()({url:`${Xe}customs-declaration`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Ye=async e=>{console.log(e);try{const t=await Re()({url:`${Xe}customs-declaration/${e}`,method:"GET"});return t}catch(t){throw console.error("API error:",t),t}},Me=async()=>{try{const e=await Re()({url:`${Xe}buyers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},je=async()=>{try{const e=await Re()({url:`${Xe}declarants`,method:"GET"});return console.log(e),e.data}catch(e){throw console.error("API error:",e),e}},He=async()=>{try{const e=await Re()({url:`${Xe}customs-entry-declarants`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Qe=async()=>{try{const e=await Re()({url:`${Xe}shippers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Ze=async(e,t)=>{try{const a=await Re()({url:`${Xe}customs-declaration/${e}`,method:"PUT",data:t});return a}catch(a){throw console.error("API error:",a),a}},ze=async()=>{try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();return t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},et=async e=>{try{const t=await Re()({url:`${Xe}buyers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},tt=async e=>{try{const t=await Re()({url:`${Xe}shippers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},at=async e=>{try{const t=await Re()({url:`${Xe}declarants`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},ot=async e=>{try{const t=await Re()({url:`${Xe}cpc-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},rt=async()=>{try{const e=await Re()({url:`${Xe}ports/TT`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},nt=async()=>{try{const e=await Re()({url:`${Xe}vessels`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},lt=async e=>{try{const t=await Re()({url:`${$e}generate-worksheet-json`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},st=async e=>{try{const t=await Re()({url:`${$e}commodity-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},it=async e=>{try{const t=await Re()({url:`${Xe}deposit-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ct=async e=>{try{const t=await Re()({url:`${Xe}tt-c84`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ut=async e=>{try{const t=await Re()({url:`${Xe}overtime-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},dt=async e=>{try{const t=await Re()({url:`${Xe}special-exemptions-declarations/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},mt=(e,t,a,o,r,n,l,s,i,c,u,d,m,p,h,v)=>{const y={reference_number:e,country:t,declarant:{name:a,tin:o},regime:r,waybill:{importer:{name:n,tin:l},exporter:{name:s,tin:i},vessel:c,port_of_discharge:u,external_freight:parseFloat(pt(v))},valuation:{additional_local_charges:{deposit:d,container_charges:m,additional_charges:p,local_fee:h}}};return y},pt=e=>void 0===e||null===e||""===e||"0.0"===e||isNaN(e)||"N/A"===e?0:e,ht=(e,t,a,o,r,n)=>{e=parseFloat(pt(e)),t=parseFloat(pt(t)),a=parseFloat(pt(a)),o=parseFloat(pt(o)),r=parseFloat(pt(r)),n=parseFloat(pt(n)),console.log("Calculating CIF..."),console.log(e,parseFloat(t),a,o,r,n);const l=e/parseFloat(t)*a;return e+l+o+r+parseFloat(n)},vt=(e,t)=>{console.log("Charge Data: ",e);let a=[];for(const[o,r]of Object.entries(e)){let e={name:o,value:"0",id:null,operand_field:"",subjected_to_vat:!0};r.forEach((a=>{void 0!==a.charge_amount&&(e.value=a.charge_amount,e.id=a.tariff_charge_id),"value added tax"===a.name&&(e.value=t?"12.5":"0")})),void 0!==r[1].operand_field&&(e.operand_field=r[1].operand_field),void 0!==r[1].subjected_to_vat&&(e.subjected_to_vat=r[1].subjected_to_vat),a.push(e)}return a},yt=(e,t,a)=>e.map((e=>({name:e.invoice_number,supplier:e.supplier_name,exworks:parseFloat(e.invoice_total),invoice_currency:e.currency,cif_foreign_currency:ht(e.invoice_total,a,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:ht(e.invoice_total,a,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(pt(e.inland)),insurance:parseFloat(pt(e.insurance)),other:parseFloat(pt(e.other_charges)),deductions:0},line_items:e.lines.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.extension_price),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))}))),gt=(e,t,a)=>e.map((e=>({name:e.invoice_id,supplier:e.vendor_name,exworks:e.invoice_total,invoice_currency:e.currency,cif_foreign_currency:ht(e.invoice_total,a,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:ht(e.invoice_total,a,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(e.inland),insurance:parseFloat(e.insurance),other:parseFloat(e.otherCharges),deductions:0},line_items:e.invoice_items.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.amount),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))})));function ft(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear(),r=`${t}/${a}/${o}`;return r}const kt=(e,t,a,o,r,n,l,s,i,c,u,d,m,p,h,v,y,g)=>({regimeType:e,waybillNumber:t,waybillDate:a,incoTerms:o,termsOfPayment:"SDT",importer:r,imorterNo:null===n?"":n,declarant:l,declarantNo:s,reference:i,consignor:c,countryOfConsignment:u,countryOfConsignmentCode:d,meansOfTransportation:m,rotation:"/24",mode:p,portOfImportation:h,portCode:v,dateOfImportation:ft(),depositAmount:parseFloat(y).toFixed(2),reason:g});var bt=a(4874),Lt=a.n(bt);function Dt(e){Lt().fire({position:"top-end",toast:!0,icon:"success",title:e,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}function _t(){Lt().close()}function Ct(e){Lt().fire({icon:"error",title:"Oops...",text:e})}function St(e){Lt().fire({title:"One moment...",html:e,allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{Lt().showLoading()}})}async function xt(e,t){const a=Object.entries(e).map((([e,t])=>`<option value="${e}">${t}</option>`)).join(""),o=t.map((e=>`<option value="${e.id}">${e.name}</option>`)).join("");return await Lt().fire({title:"Special Exemption Details",html:`\n            <select id="swal-input1" class="swal2-input">\n                <option value="" selected disabled>Please select declaration number</option>\n                ${a}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <select id="swal-input2" class="swal2-input">\n                <option value="" selected disabled>Please select signatory</option>\n                ${o}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <div id="swal-radio-group" class="swal2-input">\n                <label>Generate Pre-Signed:</label>\n                <div>\n                    <input type="radio" id="generate-yes" name="generate-pre-signed" value="yes">\n                    <label for="generate-yes">Yes</label>\n                    <input type="radio" id="generate-no" name="generate-pre-signed" value="no" checked>\n                    <label for="generate-no">No</label>\n                </div>\n            </div>\n        `,focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const e=Lt().getPopup().querySelector("#swal-input1").value,t=Lt().getPopup().querySelector("#swal-input2").value,a=Lt().getPopup().querySelector('input[name="generate-pre-signed"]:checked').value;return e&&t||Lt().showValidationMessage("Please select both declaration numbers"),{select1:e,select2:t,generatePreSigned:"yes"===a}}}).then((e=>{if(e.isConfirmed)return e.value}))}async function Tt(){return await Lt().fire({title:"Cargo Details",input:"text",inputLabel:"Please enter the cargo details:",inputPlaceholder:"Enter cargo details here...",showCancelButton:!0,inputValidator:e=>{if(!e)return"You need to write something!"}}).then((e=>{if(e.isConfirmed)return console.log("Cargo Details:",e.value),e.value}))}var Ft=a(144);function It(){const e=(0,Ft.KR)([{value:"1A",text:"Drum, steel"},{value:"1B",text:"Drum, aluminium"},{value:"1D",text:"Drum, plywood"},{value:"1G",text:"Drum, fibre"},{value:"1W",text:"Drum, wooden"},{value:"2C",text:"Barrel, wooden"},{value:"3A",text:"Jerrican, steel"},{value:"3H",text:"Jerrican, plastic"},{value:"43",text:"Bag, super bulk"},{value:"4A",text:"Box, steel"},{value:"4B",text:"Box, aluminium"},{value:"4C",text:"Box, natural wood"},{value:"4D",text:"Box, plywood"},{value:"4F",text:"Box, reconstituted wood"},{value:"4G",text:"Box, fibreboard"},{value:"4H",text:"Box, plastic"},{value:"5H",text:"Bag, woven plastic"},{value:"5L",text:"Bag, textile"},{value:"5M",text:"Bag, paper"},{value:"6H",text:"Composite packaging, plastic receptacle"},{value:"6P",text:"Composite packaging, glass receptacle"},{value:"AA",text:"Intermediate bulk container, rigid"},{value:"AB",text:"Receptacle, fibre"},{value:"AC",text:"Receptacle, paper"},{value:"AD",text:"Receptacle, wooden"},{value:"AE",text:"Aerosol"},{value:"AF",text:"Pallet, modular, collars 80cms * 6"},{value:"AG",text:"Pallet, shrinkwrapped"},{value:"AH",text:"Pallet, 100cms * 110cms"},{value:"AI",text:"Clamshell"},{value:"AJ",text:"Cone"},{value:"AM",text:"Ampoule, non-protected"},{value:"AP",text:"Ampoule, protected"},{value:"AT",text:"Atomizer"},{value:"AV",text:"Capsule"},{value:"BA",text:"Barrel"},{value:"BB",text:"Bobbin"},{value:"BC",text:"Bottlecrate / bottlerack"},{value:"BD",text:"Board"},{value:"BE",text:"Bundle"},{value:"BF",text:"Balloon, non-protected"},{value:"BG",text:"Bag"},{value:"BH",text:"Bunch"},{value:"BI",text:"Bin"},{value:"BJ",text:"Bucket"},{value:"BK",text:"Basket"},{value:"BL",text:"Bale, compressed"},{value:"BM",text:"Basin"},{value:"BN",text:"Bale, non-compressed"},{value:"BO",text:"Bottle, non-protected, cylindrical"},{value:"BP",text:"Balloon, protected"},{value:"BQ",text:"Bottle, protected cylindrical"},{value:"BR",text:"Bar"},{value:"BS",text:"Bottle, non-protected, bulbous"},{value:"BT",text:"Bolt"},{value:"BU",text:"Butt"},{value:"BV",text:"Bottle, protected bulbous"},{value:"BW",text:"Box, for liquids"},{value:"BX",text:"Box"},{value:"BY",text:"Board, in bundle/bunch/truss"},{value:"BZ",text:"Bars, in bundle/bunch/truss"},{value:"CA",text:"Can, rectangular"},{value:"CB",text:"Crate, beer"},{value:"CC",text:"Churn"},{value:"CD",text:"Can, with handle and spout"},{value:"CE",text:"Creel"},{value:"CF",text:"Coffer"},{value:"CG",text:"Cage"},{value:"CH",text:"Chest"},{value:"CI",text:"Canister"},{value:"CJ",text:"Coffin"},{value:"CK",text:"Cask"},{value:"CL",text:"Coil"},{value:"CM",text:"Card"},{value:"CN",text:"Container, not otherwise specified"},{value:"CO",text:"Carboy, non-protected"},{value:"CP",text:"Carboy, protected"},{value:"CQ",text:"Cartridge"},{value:"CR",text:"Crate"},{value:"CS",text:"Case"},{value:"CT",text:"Carton"},{value:"CU",text:"Cup"},{value:"CV",text:"Cover"},{value:"CW",text:"Cage, roll"},{value:"CX",text:"Can, cylindrical"},{value:"CY",text:"Cylinder"},{value:"CZ",text:"Canvas"},{value:"DA",text:"Crate, multiple layer, plastic"},{value:"DB",text:"Crate, multiple layer, wooden"},{value:"DC",text:"Crate, multiple layer, cardboard"},{value:"DG",text:"Cage, Commonwealth Handling Equipment"},{value:"DH",text:"Box, Commonwealth Handling Equipment"},{value:"DI",text:"Drum, iron"},{value:"DJ",text:"Demijohn, non-protected"},{value:"DK",text:"Crate, bulk, cardboard"},{value:"DL",text:"Crate, bulk, plastic"},{value:"DM",text:"Crate, bulk, wooden"},{value:"DN",text:"Dispenser"},{value:"DP",text:"Demijohn, protected"},{value:"DR",text:"Drum"},{value:"DS",text:"Tray, one layer no cover, plastic"},{value:"DT",text:"Tray, one layer no cover, wooden"},{value:"DU",text:"Tray, one layer no cover, polystyrene"},{value:"DV",text:"Tray, one layer no cover, cardboard"},{value:"DW",text:"Tray, two layers no cover, plastic"},{value:"DX",text:"Tray, two layers no cover, wooden"},{value:"DY",text:"Tray, two layers no cover, cardboard"},{value:"EC",text:"Bag, plastic"},{value:"ED",text:"Case, with pallet base"},{value:"EE",text:"Case, with pallet base, wooden"},{value:"EF",text:"Case, with pallet base, cardboard"},{value:"EG",text:"Case, with pallet base, plastic"},{value:"EH",text:"Case, with pallet base, metal"},{value:"EI",text:"Case, isothermic"},{value:"EN",text:"Envelope"},{value:"FC",text:"Crate, fruit"},{value:"FD",text:"Crate, framed"},{value:"FI",text:"Firkin"},{value:"FL",text:"Flask"},{value:"FO",text:"Footlocker"},{value:"FP",text:"Filmpack"},{value:"FR",text:"Frame"},{value:"FT",text:"Foodtainer"},{value:"FW",text:"Cart, flatbed"},{value:"FX",text:"Bag, flexible container"},{value:"GB",text:"Bottle, gas"},{value:"GI",text:"Girder"},{value:"GR",text:"Receptacle, glass"},{value:"GU",text:"Tray, containing horizontally stacked"},{value:"GZ",text:"Girders, in bundle/bunch/truss"},{value:"HA",text:"Basket, with handle, plastic"},{value:"HB",text:"Basket, with handle, wooden"},{value:"HC",text:"Basket, with handle, cardboard"},{value:"HG",text:"Hogshead"},{value:"HR",text:"Hamper"},{value:"IA",text:"Package, display, wooden"},{value:"IB",text:"Package, display, cardboard"},{value:"IC",text:"Package, display, plastic"},{value:"ID",text:"Package, display, metal"},{value:"IE",text:"Package, show"},{value:"IF",text:"Package, flow"},{value:"IG",text:"Package, paper wrapped"},{value:"IH",text:"Drum, plastic"},{value:"IK",text:"Package, cardboard, with bottle grip"},{value:"IL",text:"Tray, rigid, lidded stackable (CEN)"},{value:"IN",text:"Ingot"},{value:"IZ",text:"Ingots, in bundle/bunch/truss"},{value:"JC",text:"Jerrican, rectangular"},{value:"JG",text:"Jug"},{value:"JR",text:"Jar"},{value:"JT",text:"Jutebag"},{value:"JY",text:"Jerrican, cylindrical"},{value:"KG",text:"Keg"},{value:"LG",text:"Log"},{value:"LT",text:"Lot"},{value:"LV",text:"Liftvan"},{value:"LZ",text:"Logs, in bundle/bunch/truss"},{value:"MB",text:"Bag, multiply"},{value:"MC",text:"Crate, milk"},{value:"MR",text:"Receptacle, metal"},{value:"MS",text:"Sack, multi-wall"},{value:"MT",text:"Mat"},{value:"MW",text:"Receptacle, plastic wrapped"},{value:"MX",text:"Matchbox"},{value:"NA",text:"Not available"},{value:"NE",text:"Unpacked or unpackaged"},{value:"NF",text:"Unpacked or unpackaged, single unit"},{value:"NG",text:"Unpacked or unpackaged, multiple units"},{value:"NS",text:"Nest"},{value:"NT",text:"Net"},{value:"NU",text:"Net, tube, plastic"},{value:"NV",text:"Net, tube, textile"},{value:"OA",text:"Pallet, CHEP 40 cm x 60 cm"},{value:"OB",text:"Pallet, CHEP 80 cm x 120 cm"},{value:"OC",text:"Pallet, CHEP 100 cm x 120 cm"},{value:"OD",text:"Pallet, AS 4068-1993"},{value:"OE",text:"Pallet, ISO T11"},{value:"OF",text:"Platform, unspecified weight or dimensions"},{value:"OK",text:"Block"},{value:"PA",text:"Packet"},{value:"PB",text:"Pallet, box Combined open-ended box"},{value:"PC",text:"Parcel"},{value:"PD",text:"Pallet, modular, collars 80cms * 1"},{value:"PE",text:"Pallet, modular, collars 80cms * 1"},{value:"PF",text:"Pen"},{value:"PG",text:"Plate"},{value:"PH",text:"Pitcher"},{value:"PI",text:"Pipe"},{value:"PJ",text:"Punnet"},{value:"PK",text:"Package"},{value:"PL",text:"Pail"},{value:"PN",text:"Plank"},{value:"PO",text:"Pouch"},{value:"PR",text:"Receptacle, plastic"},{value:"PT",text:"Pot"},{value:"PU",text:"Tray"},{value:"PV",text:"Pipes, in bundle/bunch/truss"},{value:"PX",text:"Pallet"},{value:"PY",text:"Plates, in bundle/bunch/truss"},{value:"PZ",text:"Planks, in bundle/bunch/truss"},{value:"QA",text:"Drum, steel, non-removable head"},{value:"QB",text:"Drum, steel, removable head"},{value:"QC",text:"Drum, aluminium, non-removable head"},{value:"QD",text:"Drum, aluminium, removable head"},{value:"QF",text:"Drum, plastic, non-removable head"},{value:"QG",text:"Drum, plastic, removable head"},{value:"QH",text:"Barrel, wooden, bung type"},{value:"QJ",text:"Barrel, wooden, removable head"},{value:"QK",text:"Jerrican, steel, non-removable head"},{value:"QL",text:"Jerrican, steel, removable head"},{value:"QM",text:"Jerrican, plastic, non-removable head"},{value:"QN",text:"Jerrican, plastic, removable head"},{value:"QP",text:"Box, wooden, natural wood, ordinary"},{value:"QQ",text:"Box, wooden, natural wood, with side"},{value:"QR",text:"Box, plastic, expanded"},{value:"QS",text:"Box, plastic, solid"},{value:"RD",text:"Rod"},{value:"RG",text:"Ring"},{value:"RJ",text:"Rack, clothing hanger"},{value:"RK",text:"Rack"},{value:"RL",text:"Reel"},{value:"RO",text:"Roll"},{value:"RT",text:"Rednet"},{value:"RZ",text:"Rods, in bundle/bunch/truss"},{value:"SA",text:"Sack"},{value:"SB",text:"Slab"},{value:"SC",text:"Crate, shallow"},{value:"SD",text:"Spindle"},{value:"SE",text:"Sea-chest"},{value:"SH",text:"Sachet"},{value:"SI",text:"Skid"},{value:"SK",text:"Case, skeleton"},{value:"SL",text:"Slipsheet"},{value:"SM",text:"Sheetmetal"},{value:"SO",text:"Spool"},{value:"SP",text:"Sheet, plastic wrapping"},{value:"SS",text:"Case, steel"},{value:"ST",text:"Sheet"},{value:"SU",text:"Suitcase"},{value:"SV",text:"Envelope, steel"},{value:"SW",text:"Shrinkwrapped"},{value:"SX",text:"Set"},{value:"SY",text:"Sleeve"},{value:"SZ",text:"Sheets, in bundle/bunch/truss"},{value:"TB",text:"Tub"},{value:"TC",text:"Tea-chest"},{value:"TD",text:"Tube, collapsible"},{value:"TI",text:"Tierce"},{value:"TK",text:"Tank, rectangular"},{value:"TL",text:"Tub, with lid"},{value:"TN",text:"Tin"},{value:"TO",text:"Tun"},{value:"TR",text:"Trunk"},{value:"TS",text:"Truss"},{value:"TU",text:"Tube"},{value:"TV",text:"Tube, with nozzle"},{value:"TY",text:"Tank, cylindrical"},{value:"TZ",text:"Tubes, in bundle/bunch/truss"},{value:"UC",text:"Uncaged"},{value:"UN",text:"Unit (single item or object)"},{value:"VA",text:"Vat"},{value:"VG",text:"Bulk, gas (at 1031 mbar and 15°C)"},{value:"VI",text:"Vial"},{value:"VK",text:"Vanpack"},{value:"VL",text:"Bulk, liquid"},{value:"VN",text:"Vehicle"},{value:"VO",text:"Bulk, solid, large particles"},{value:"VP",text:"Vacuum-packed"},{value:"VQ",text:"Bulk, liquefied gas (at abnormal temperature/pressure)"},{value:"VR",text:"Bulk, solid, granular particles (i.e., granulates)"},{value:"VY",text:"Bulk, solid, fine particles (i.e., powdered)"},{value:"WA",text:"Intermediate bulk container"},{value:"WB",text:"Wickerbottle"},{value:"WC",text:"Intermediate bulk container, steel"},{value:"WD",text:"Intermediate bulk container, aluminium"},{value:"WF",text:"Intermediate bulk container, metal"},{value:"WG",text:"Intermediate bulk container, steel"},{value:"WH",text:"Intermediate bulk container, aluminium"},{value:"WJ",text:"Intermediate bulk container, metal"},{value:"WK",text:"Intermediate bulk container, steel"},{value:"WL",text:"Intermediate bulk container, aluminium"},{value:"WM",text:"Intermediate bulk container, metal"},{value:"WN",text:"Intermediate bulk container, woven"},{value:"WP",text:"Intermediate bulk container, woven"},{value:"WQ",text:"Intermediate bulk container, woven"},{value:"WR",text:"Intermediate bulk container, woven"},{value:"WS",text:"Intermediate bulk container, plastic"},{value:"WT",text:"Intermediate bulk container, textile"},{value:"WU",text:"Intermediate bulk container, natural"},{value:"WV",text:"Intermediate bulk container, textile"},{value:"WW",text:"Intermediate bulk container, textile"},{value:"WX",text:"Intermediate bulk container, textile"},{value:"WY",text:"Intermediate bulk container, plywood"},{value:"WZ",text:"Intermediate bulk container, reconstructed"},{value:"XA",text:"Bag, woven plastic, without inner coat"},{value:"XB",text:"Bag, woven plastic, sift proof"},{value:"XC",text:"Bag, woven plastic, water resistant"},{value:"XD",text:"Bag, plastics film"},{value:"XF",text:"Bag, textile, without inner coat"},{value:"XG",text:"Bag, textile, sift proof"},{value:"XH",text:"Bag, textile, water resistant"},{value:"XJ",text:"Bag, paper, multi-wall"},{value:"XK",text:"Bag, paper, multi-wall, water resistant"},{value:"YA",text:"Composite packaging, plastic receptacle"},{value:"YB",text:"Composite packaging, plastic receptacle"},{value:"YC",text:"Composite packaging, plastic receptacle"},{value:"YD",text:"Composite packaging, plastic receptacle"},{value:"YF",text:"Composite packaging, plastic receptacle"},{value:"YG",text:"Composite packaging, plastic receptacle"},{value:"YH",text:"Composite packaging, plastic receptacle"},{value:"YJ",text:"Composite packaging, plastic receptacle"},{value:"YK",text:"Composite packaging, plastic receptacle"},{value:"YL",text:"Composite packaging, plastic receptacle"},{value:"YM",text:"Composite packaging, plastic receptacle"},{value:"YN",text:"Composite packaging, glass receptacle"},{value:"YP",text:"Composite packaging, glass receptacle"},{value:"YQ",text:"Composite packaging, glass receptacle"},{value:"YR",text:"Composite packaging, glass receptacle"},{value:"YS",text:"Composite packaging, glass receptacle"},{value:"YT",text:"Composite packaging, glass receptacle"},{value:"YV",text:"Composite packaging, glass receptacle"},{value:"YW",text:"Composite packaging, glass receptacle"},{value:"YX",text:"Composite packaging, glass receptacle"},{value:"YY",text:"Composite packaging, glass receptacle"},{value:"YZ",text:"Composite packaging, glass receptacle"},{value:"ZA",text:"Intermediate bulk container, paper"},{value:"ZB",text:"Bag, large"},{value:"ZC",text:"Intermediate bulk container, paper"},{value:"ZD",text:"Intermediate bulk container, rigid"},{value:"ZF",text:"Intermediate bulk container, rigid"},{value:"ZG",text:"Intermediate bulk container, rigid"},{value:"ZH",text:"Intermediate bulk container, rigid"},{value:"ZJ",text:"Intermediate bulk container, rigid"},{value:"ZK",text:"Intermediate bulk container, rigid"},{value:"ZL",text:"Intermediate bulk container, composite"},{value:"ZM",text:"Intermediate bulk container, composite"},{value:"ZN",text:"Intermediate bulk container, composite"},{value:"ZP",text:"Intermediate bulk container, composite"},{value:"ZQ",text:"Intermediate bulk container, composite"},{value:"ZR",text:"Intermediate bulk container, fibre"},{value:"ZS",text:"Intermediate bulk container, fibre"},{value:"ZT",text:"Intermediate bulk container, fibre"},{value:"ZU",text:"Intermediate bulk container, flexible"},{value:"ZV",text:"Intermediate bulk container, metal"},{value:"ZW",text:"Intermediate bulk container, natural"},{value:"ZX",text:"Intermediate bulk container, plywood"},{value:"ZY",text:"Intermediate bulk container, reconstructed"},{value:"ZZ",text:"Mutually defined"}]);return e}function Et(){const e=(0,Ft.KR)([{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"}]);return e}function wt(){const e={defaultCPCCode:"4000",defaultRegimeType:"IM4"};return e}function At(){const e=[{modeOfTransport:"Ocean",freightTypes:[{code:"12",name:"FCL"},{code:"13",name:"LCL"},{code:"11",name:"Break Bulk"}]},{modeOfTransport:"Air",freightTypes:[{code:"41",name:"Express"},{code:"42",name:"Loose"}]}];return e}const Nt=e=>((0,n.Qi)("data-v-118a8725"),e=e(),(0,n.jt)(),e),Ot={class:"customs-entry-form"},Pt={class:"row"},Bt={class:"col-md-3"},Vt={class:"form-group"},Ut=Nt((()=>(0,n.Lk)("label",{class:"required",for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"Importer")],-1))),Rt=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select an Importer",-1))),Xt=["value"],$t={class:"col-md-3"},Wt={class:"form-group"},Jt=Nt((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"Exporter")],-1))),qt=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Exporter",-1))),Gt=["value"],Kt={class:"col-md-3"},Yt={class:"form-group"},Mt=Nt((()=>(0,n.Lk)("label",{for:"modeOfTransport"},[(0,n.Lk)("strong",null,"Mode of Transport")],-1))),jt=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Mode of Transport",-1))),Ht=["value"],Qt={class:"col-md-3"},Zt={class:"form-group"},zt=Nt((()=>(0,n.Lk)("label",{for:"freightType"},[(0,n.Lk)("strong",null,"Freight Type")],-1))),ea=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Freight Type",-1))),ta=["value"],aa={class:"row"},oa={class:"col-md-3"},ra={class:"form-group"},na=Nt((()=>(0,n.Lk)("label",{for:"waybillNumber"},[(0,n.Lk)("strong",null,"Waybill Number")],-1))),la={class:"col-md-3"},sa={class:"form-group"},ia=Nt((()=>(0,n.Lk)("label",{for:"waybillDate"},[(0,n.Lk)("strong",null,"Waybill Date")],-1))),ca={class:"col-md-3"},ua={class:"form-group"},da=Nt((()=>(0,n.Lk)("label",{for:"vessel"},[(0,n.Lk)("strong",null,"Vessel")],-1))),ma=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Vessel",-1))),pa=["value"],ha={class:"col-md-3"},va={class:"form-group"},ya=Nt((()=>(0,n.Lk)("label",{for:"portOfDischarge"},[(0,n.Lk)("strong",null,"Port of Discharge")],-1))),ga=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Port of Discharge",-1))),fa=["value"],ka={class:"row"},ba={class:"col-md-3"},La={class:"form-group"},Da=Nt((()=>(0,n.Lk)("label",{for:"netWeight"},[(0,n.Lk)("strong",null,"Net Weight")],-1))),_a={class:"col-md-3"},Ca={class:"form-group"},Sa=Nt((()=>(0,n.Lk)("label",{for:"grossWeight"},[(0,n.Lk)("strong",null,"Gross Weight")],-1))),xa={class:"col-md-3"},Ta={class:"form-group"},Fa=Nt((()=>(0,n.Lk)("label",{for:"numberOfPackages"},[(0,n.Lk)("strong",null,"Number of Packages")],-1))),Ia={class:"col-md-3"},Ea={class:"form-group"},wa=Nt((()=>(0,n.Lk)("label",{for:"packageType"},[(0,n.Lk)("strong",null,"Package Type")],-1))),Aa=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Package Type",-1))),Na=["value"],Oa={class:"row"},Pa={class:"col-md-3"},Ba={class:"form-group"},Va=Nt((()=>(0,n.Lk)("label",{for:"marksAndNumbers"},[(0,n.Lk)("strong",null,"Marks and Numbers")],-1))),Ua={class:"col-md-3"},Ra={class:"form-group"},Xa=Nt((()=>(0,n.Lk)("label",{for:"totalCargoValue"},[(0,n.Lk)("strong",null,"Total Cargo Value")],-1))),$a={class:"col-md-3"},Wa={class:"form-group"},Ja=Nt((()=>(0,n.Lk)("label",{for:"freightAmount"},[(0,n.Lk)("strong",null,"Freight Amount")],-1))),qa={class:"col-md-3"},Ga=Nt((()=>(0,n.Lk)("label",{for:"country"},[(0,n.Lk)("strong",null,"Country of Origin")],-1))),Ka=Nt((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),Ya=["value"],Ma={class:"row"},ja={class:"col-md-3"},Ha={class:"form-group"},Qa=Nt((()=>(0,n.Lk)("label",{for:"declarant"},[(0,n.Lk)("strong",null,"Declarant")],-1))),Za=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),za=["value"],eo={class:"col-md-3"},to={class:"form-group"},ao=Nt((()=>(0,n.Lk)("label",{for:"regimeType"},[(0,n.Lk)("strong",null,"Regime Type")],-1))),oo=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Regime Type",-1))),ro=["value"],no={class:"col-md-3"},lo=Nt((()=>(0,n.Lk)("label",{for:"incoTerms"},[(0,n.Lk)("strong",null,"Incoterms")],-1))),so=Nt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select an Incoterm",-1))),io=["value"],co=Nt((()=>(0,n.Lk)("div",{class:"col-md-3"},null,-1))),uo={class:"row"},mo={class:"col-md-3"},po={class:"form-group"},ho=Nt((()=>(0,n.Lk)("label",{for:"containerCharges"},[(0,n.Lk)("strong",null,"Container Charges")],-1))),vo={class:"col-md-3"},yo={class:"form-group"},go=Nt((()=>(0,n.Lk)("label",{for:"localFee"},[(0,n.Lk)("strong",null,"Local Fee")],-1))),fo={class:"col-md-3"},ko={class:"form-group"},bo=Nt((()=>(0,n.Lk)("label",{for:"depositAmount"},[(0,n.Lk)("strong",null,"Deposit Amount")],-1))),Lo={class:"col-md-3"},Do={class:"form-group"},_o=Nt((()=>(0,n.Lk)("label",{for:"additionalCharges"},[(0,n.Lk)("strong",null,"Additional Charges")],-1)));function Co(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",Ot,[(0,n.Lk)("div",Pt,[(0,n.Lk)("div",Bt,[(0,n.Lk)("div",Vt,[Ut,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>l.localData.importerId=e)},[Rt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.importers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,Xt)))),128))],512),[[r.u1,l.localData.importerId]])])]),(0,n.Lk)("div",$t,[(0,n.Lk)("div",Wt,[Jt,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=e=>l.localData.exporterId=e)},[qt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.exporters,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,Gt)))),128))],512),[[r.u1,l.localData.exporterId]])])]),(0,n.Lk)("div",Kt,[(0,n.Lk)("div",Yt,[Mt,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>l.localData.modeOfTransport=e),ref:"modeOfTransportSelect"},[jt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.modeOfTransportOOptions,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.modeOfTransport},(0,S.v_)(e.modeOfTransport),9,Ht)))),128))],512),[[r.u1,l.localData.modeOfTransport]])])]),(0,n.Lk)("div",Qt,[(0,n.Lk)("div",Zt,[zt,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>l.localData.freightType=e)},[ea,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.availableFreightTypes,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.name},(0,S.v_)(e.name),9,ta)))),128))],512),[[r.u1,l.localData.freightType]])])])]),(0,n.Lk)("div",aa,[(0,n.Lk)("div",oa,[(0,n.Lk)("div",ra,[na,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"waybillNumber","onUpdate:modelValue":t[4]||(t[4]=e=>l.localData.waybillNumber=e),placeholder:"Please Enter Waybill Number",required:""},null,512),[[r.Jo,l.localData.waybillNumber]])])]),(0,n.Lk)("div",la,[(0,n.Lk)("div",sa,[ia,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"waybillDate","onUpdate:modelValue":t[5]||(t[5]=e=>l.localData.waybillDate=e),required:""},null,512),[[r.Jo,l.localData.waybillDate]])])]),(0,n.Lk)("div",ca,[(0,n.Lk)("div",ua,[da,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>l.localData.vesselId=e)},[ma,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.vessels,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,pa)))),128))],512),[[r.u1,l.localData.vesselId]])])]),(0,n.Lk)("div",ha,[(0,n.Lk)("div",va,[ya,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[7]||(t[7]=e=>l.localData.portOfDischargeId=e)},[ga,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.ports,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,fa)))),128))],512),[[r.u1,l.localData.portOfDischargeId]])])])]),(0,n.Lk)("div",ka,[(0,n.Lk)("div",ba,[(0,n.Lk)("div",La,[Da,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netWeight","onUpdate:modelValue":t[8]||(t[8]=e=>l.localData.netWeight=e),required:""},null,512),[[r.Jo,l.localData.netWeight]])])]),(0,n.Lk)("div",_a,[(0,n.Lk)("div",Ca,[Sa,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"grossWeight","onUpdate:modelValue":t[9]||(t[9]=e=>l.localData.grossWeight=e),required:""},null,512),[[r.Jo,l.localData.grossWeight]])])]),(0,n.Lk)("div",xa,[(0,n.Lk)("div",Ta,[Fa,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"numberOfPackages","onUpdate:modelValue":t[10]||(t[10]=e=>l.localData.numberOfPackages=e),required:""},null,512),[[r.Jo,l.localData.numberOfPackages]])])]),(0,n.Lk)("div",Ia,[(0,n.Lk)("div",Ea,[wa,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[11]||(t[11]=e=>l.localData.packageType=e)},[Aa,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.packageTypes,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.value},(0,S.v_)(e.text),9,Na)))),128))],512),[[r.u1,l.localData.packageType]])])])]),(0,n.Lk)("div",Oa,[(0,n.Lk)("div",Pa,[(0,n.Lk)("div",Ba,[Va,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"marksAndNumbers","onUpdate:modelValue":t[12]||(t[12]=e=>l.localData.marksAndNumbers=e),required:""},null,512),[[r.Jo,l.localData.marksAndNumbers]])])]),(0,n.Lk)("div",Ua,[(0,n.Lk)("div",Ra,[Xa,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalCargoValue","onUpdate:modelValue":t[13]||(t[13]=e=>l.localData.totalCargoValue=e),required:""},null,512),[[r.Jo,l.localData.totalCargoValue]])])]),(0,n.Lk)("div",$a,[(0,n.Lk)("div",Wa,[Ja,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"freightAmount","onUpdate:modelValue":t[14]||(t[14]=e=>l.localData.freightAmount=e),required:""},null,512),[[r.Jo,l.localData.freightAmount]])])]),(0,n.Lk)("div",qa,[Ga,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=e=>l.localData.countryOfOrigin=e),id:"country",onChange:t[16]||(t[16]=(...t)=>e.countryChange&&e.countryChange(...t))},[Ka,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.countryList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,Ya)))),128))],544),[[r.u1,l.localData.countryOfOrigin]])])]),(0,n.Lk)("div",Ma,[(0,n.Lk)("div",ja,[(0,n.Lk)("div",Ha,[Qa,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[17]||(t[17]=e=>l.localData.declarantId=e)},[Za,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,za)))),128))],512),[[r.u1,l.localData.declarantId]])])]),(0,n.Lk)("div",eo,[(0,n.Lk)("div",to,[ao,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[18]||(t[18]=e=>l.localData.regimeType=e)},[oo,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.regimeTypeOptions,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.regimeTypeId},(0,S.v_)(e.regimeType),9,ro)))),128))],512),[[r.u1,l.localData.regimeType]])])]),(0,n.Lk)("div",no,[lo,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=e=>l.localData.incoTerms=e)},[so,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.incotermsList,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,io)))),128))],512),[[r.u1,l.localData.incoTerms]])]),co]),(0,n.Lk)("div",uo,[(0,n.Lk)("div",mo,[(0,n.Lk)("div",po,[ho,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containerCharges","onUpdate:modelValue":t[20]||(t[20]=e=>l.localData.containerCharges=e),required:""},null,512),[[r.Jo,l.localData.containerCharges]])])]),(0,n.Lk)("div",vo,[(0,n.Lk)("div",yo,[go,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"localFee","onUpdate:modelValue":t[21]||(t[21]=e=>l.localData.localFee=e),required:""},null,512),[[r.Jo,l.localData.localFee]])])]),(0,n.Lk)("div",fo,[(0,n.Lk)("div",ko,[bo,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"depositAmount","onUpdate:modelValue":t[22]||(t[22]=e=>l.localData.depositAmount=e),required:""},null,512),[[r.Jo,l.localData.depositAmount]])])]),(0,n.Lk)("div",Lo,[(0,n.Lk)("div",Do,[_o,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"additionalCharges","onUpdate:modelValue":t[23]||(t[23]=e=>l.localData.additionalCharges=e),required:""},null,512),[[r.Jo,l.localData.additionalCharges]])])])])])}function So(){const e=(0,Ft.KR)([{code:"EXW",name:"Ex Works"},{code:"FCA",name:"Free Carrier"},{code:"CPT",name:"Carriage Paid To"},{code:"CIP",name:"Carriage and Insurance Paid To"},{code:"DAP",name:"Delivered At Place"},{code:"DAT",name:"Delivered At Terminal"},{code:"DDP",name:"Delivered Duty Paid"},{code:"FAS",name:"Free Alongside Ship"},{code:"FOB",name:"Free On Board"},{code:"CFR",name:"Cost and Freight"},{code:"CIF",name:"Cost, Insurance and Freight"}]);return e}var xo={name:"CustomsEntryForm",props:["customsEntryForm"],mounted(){this.getConfigurations(),this.localData.packageTypes=It(),this.localData.incotermsList=So(),this.localData.modeOfTransportOOptions=At()},data(){return{freightTypeOptions:[],localData:this.customsEntryForm,countryList:[]}},computed:{availableFreightTypes(){const e=this.localData.modeOfTransportOOptions?.find((e=>e.modeOfTransport===this.localData.modeOfTransport))?.freightTypes;return e}},methods:{setModeOfTransport(e){this.$nextTick((()=>{this.localData.modeOfTransport=e,this.$refs.modeOfTransportSelect.dispatchEvent(new Event("change"))}))},updateModeOfTransport(e){const t=this.localData.modeOfTransportOOptions.find((t=>t.modeOfTransport===e.target.value));this.freightTypeOptions=t.freightTypes},updateField(e,t){this.localData[e]=t,console.log(this.localData),this.$emit("update-section-one",this.localData)},async getConfigurations(){this.localData.ports=await rt(),Promise.all([Qe(),Me(),nt(),He(),ze()]).then((([e,t,a,o,r])=>{this.localData.exporters=e,this.localData.importers=t,this.localData.vessels=a,this.localData.declarants=o,this.countryList=r}))}},watch:{customsEntryForm:{deep:!0,handler(e){this.localData=e,this.localData.portOfDischargeName=this.localData.ports.find((e=>e.id===this.localData.portOfDischargeId))?.name,this.localData.vesselName=this.localData.vessels.find((e=>e.id===this.localData.vesselId))?.name,this.localData.regimeTypeCode=this.localData.regimeTypeOptions.find((e=>e.regimeTypeId===this.localData.regimeType))?.regimeTypeCode;const t=this.localData.importers.find((e=>e.id===this.localData.importerId)),a=this.localData.exporters.find((e=>e.id===this.localData.exporterId));this.localData.importerName=void 0!==t?t.name:"",this.localData.importerTaxIdentificationNumber=void 0!==t?t.taxIdentificationNumber:"",this.localData.exporterName=void 0!==a?a.name:"",this.localData.exporterTaxIdentificationNumber=void 0!==a?a.taxIdentificationNumber:"",this.localData.exporterCountry=void 0!==a?a.country:""}}}};const To=(0,L.A)(xo,[["render",Co],["__scopeId","data-v-118a8725"]]);var Fo=To,Io={name:"App",components:{CustomsEntryForm:Fo},data(){return{referenceNumber:"",selectedFiles:[],invoiceDataArray:[],isDragOver:!1,isValidReference:!1,waybillNumber:"",waybillDate:(new Date).toISOString().substr(0,10),modeOfTransport:"",freightType:"",marksAndNumbers:"As Addressed",countryOfOrigin:"",cpcCode:"4000",npcCode:"0000",kindOfPackage:"CT",numberOfPackages:"",consignee:"",shipper:"",supplier:"",totalCargoValue:0,totalNumberOfLines:0,freightCharge:0,rateOfExchange:1,netWeight:0,grossWeight:0,editableContent:"0",countries:[],modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["0000"],packageTypeOptions:[],currencies:[],showModeofTransportDropdown:!1,customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:""}}},watch:{"customsEntryForm.countryOfOrigin"(e,t){this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.country_of_origin&&0!==t.country_of_origin.trim().length||(t.country_of_origin=e)}))}))}},setup(){return{}},mounted(){this.fetchCountries(),this.packageTypeOptions=It(),this.currencies=Et(),this.updateEntryFields("marksAndNumbers","As Addressed"),this.getTotalNumberOfLines(),this.getRegimeTypes()},computed:{thnCodesCompleted(){return this.invoiceDataArray.some((e=>e.invoice_items.some((e=>!e.thn_code||""===e.thn_code.trim()))))},totalFOBValue(){return this.invoiceDataArray.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},entryButtonDisabled(){return!(this.hasInvoiceNumber||this.waybillNumber.trim().length>0||this.consignee.trim().length>0)},hasInvoiceNumber(){for(let e of this.invoiceDataArray)if(e.invoice_id&&e.invoice_id.trim().length>0)return console.log("Invoice Number Found"),!0;return!1},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},methods:{setDefaults(){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===o.defaultRegimeTypeCode));this.customsEntryForm.regimeType=e.regimeTypeId,console.log("Regime Data: ",e)},async getRegimeTypes(){ot("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e;const t=e.find((e=>e.regimeTypeCode===wt().defaultRegimeType));this.customsEntryForm.regimeType=t.regimeTypeId}))},setInvoiceLineWorksheetData(){let e=[];return this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const a=st(t.thn_code.replace(/\./g,"")).then((e=>{let a=vt(e.charges);t.commodity={code:t.thn_code.replace(/\./g,""),id:e.id,charges:a}}));e.push(a)}))})),Promise.all(e)},generateWorkSheet(){console.log("Generating WorkSheet"),this.setInvoiceLineWorksheetData();const e=mt(this.referenceNumber,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee),t=gt(this.invoiceDataArray,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),lt(e).then((e=>{_t(),Dt("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),o=`Worksheet - ${this.entryDetails?.entry_number}.pdf`;a.href=t,a.setAttribute("download",o),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),Ct("Failed to generate worksheet!")}))},convertAWSData(e){return e.map((e=>e.map((e=>{const t=e.summary_fields,a=e.line_items.map((e=>{const t={product_code:"",quantity:"",unit_price:"",description:"",amount:""};return e.forEach((e=>{switch(e.field_type){case"PRODUCT_CODE":t.product_code=e.cell_data.text;break;case"QUANTITY":t.quantity=e.cell_data.text;break;case"UNIT_PRICE":t.unit_price=e.cell_data.text;break;case"ITEM":t.description=e.cell_data.text;break;case"PRICE":t.amount=e.cell_data.text;break}})),t}));return{vendor_name:t.VENDOR_NAME,subtotal:t.SUBTOTAL,invoice_total:t.TOTAL,customer_name:t.RECEIVER_NAME,invoice_date:t.INVOICE_RECEIPT_DATE,invoice_id:t.INVOICE_RECEIPT_ID,invoice_items:a}})))).flat()},formatInvoiceData(){const e=this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes)),t=e.find((e=>e.code===wt().defaultCPCCode)).cpcId;console.log("All CPC Codes: ",e),console.log("Default CPC Code: ",t),this.invoiceDataArray.forEach((e=>{e.invoice_total=this.parseFloatFromString(e.invoice_total),e.inland=this.parseFloatFromString(e.inland),e.insurance=this.parseFloatFromString(e.insurance),e.otherCharges=this.parseFloatFromString(e.otherCharges),e.final_total=this.parseFloatFromString(e.final_total),e.invoice_items.forEach((e=>{e.country_of_origin="",e.quantity=this.parseFloatFromString(e.quantity),e.unit_price=this.parseFloatFromString(e.unit_price).toFixed(2),e.amount=this.parseFloatFromString(e.amount).toFixed(2),e.vatApplicable=!0,e.cpcCode=t,e.npcCode="0000",e.thn_code=""}))}))},getTotalNumberOfLines(){let e=0;for(let t of this.invoiceDataArray)e+=t.invoice_items.length;this.totalNumberOfLines=e},calculateTotalCargoValue(){let e=0;for(let t of this.invoiceDataArray)e+=this.parseFloatFromString(t.invoice_total);this.customsEntryForm.totalCargoValue=e},validateIntegerInput(e){let t=e.target.innerText.trim();/^\d+$/.test(t)?this.editableContent=t:e.target.innerText=this.editableContent,this.moveCursorToEnd(e.target)},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3.1/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},updateEntryFields(e,t){this[e]=t},selectOption(e){this.$refs.editableDiv.innerText=e,this.showModeofTransportDropdown=!1},verifyData(e){return void 0!==e&&null!==e&&""!==e},validateData(){return console.log("Importer ID: ",this.verifyData(this.customsEntryForm.importerId)),this.verifyData(this.customsEntryForm.importerId)?!!this.verifyData(this.customsEntryForm.exporterId)||(Ct("Please select an exporter"),!1):(Ct("Please select an importer"),!1)},async createInvoices(e){if(!this.validateData())return;const t={referenceNumber:this.referenceNumber,waybillNumber:this.customsEntryForm.waybillNumber,waybillDate:this.customsEntryForm.waybillDate,modeOfTransport:this.customsEntryForm.modeOfTransport,freightType:this.customsEntryForm.freightType,marksAndNumbers:this.customsEntryForm.marksAndNumbers,countryOfOrigin:this.customsEntryForm.countryOfOrigin,kindOfPackage:this.customsEntryForm.packageType,numberOfPackages:this.customsEntryForm.numberOfPackages,totalCargoValue:this.customsEntryForm.totalCargoValue,freightCharge:this.customsEntryForm.freightAmount,rateOfExchange:this.customsEntryForm.rateOfExchange,netWeight:this.customsEntryForm.netWeight,grossWeight:this.customsEntryForm.grossWeight,invoiceList:e,declarant:this.customsEntryForm.declarantId,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,portOfDischarge:this.customsEntryForm.portOfDischargeId,regimeType:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,containerCharges:this.customsEntryForm.containerCharges,additionalCharges:this.customsEntryForm.additionalCharges,localFee:this.customsEntryForm.localFee};try{St("Saving your Entry..."),Je(t).then((e=>{console.log("Entry created successfully:",e),this.redirectToEntryDetails(e.entryId),_t(),Dt("Entry created successfully")})).catch((e=>{console.error("Failed to create the Entry:",e),Ct("Failed to create the Entry. Please try again.")}))}catch(a){console.error("Failed to create the invoice:",a),Ct("Failed to create the Entry. Please try again.")}},redirectToEntryDetails(e){this.$router.push({name:"EntryDetails",params:{entryId:e}})},handleInput(e,t,a){const o=e.target.innerText,r=o.replace(/[^0-9]/g,""),n=this.formatValue(r);e.target.innerText=n,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let a=0;a<e.length;a++)4!==a&&6!==a||(t+="."),t+=e[a];return this.truncateString(t)},truncateString(e){return e.length>13?e.substring(0,13):e},moveCursorToEnd(e){const t=document.createRange(),a=window.getSelection();t.selectNodeContents(e),t.collapse(!1),a.removeAllRanges(),a.addRange(t)},validateInput(){this.isValidReference=this.referenceNumber.trim().length>0},handleFileUpload(e){this.isValidReference&&(this.selectedFiles=Array.from(e.target.files))},dragOver(e){this.isValidReference&&(this.isDragOver=!0)},dragEnter(e){this.isValidReference&&(this.isDragOver=!0)},dragLeave(e){this.isValidReference&&(this.isDragOver=!1)},uploadFilesMicrosoft(){if(!this.isValidReference||0===this.selectedFiles.length)return void alert("Please enter a valid reference number and select files before uploading.");const e=new FormData;e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("files",t)})),St("Reading your invoice..."),fetch("https://gabrielle-flask.azurewebsites.net/read_vendor_invoice",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=e,this.formatInvoiceData(),_t(),Dt("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))},uploadFiles(){if(!this.isValidReference||0===this.selectedFiles.length)return void alert("Please enter a valid reference number and select files before uploading.");const e=new FormData;e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("commercialInvoice",t)})),St("Reading your invoice..."),fetch("https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//analyze-document",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=this.convertAWSData(e),this.formatInvoiceData(),_t(),Dt("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+this.parseFloatFromString(t.amount||0)),0).toFixed(2)},updateData(e,t,a){e[t]=a},updateItem(e,t,a,o){e.invoice_items[t][a]=o},deleteRow(e,t){e.invoice_items.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.invoice_items.push(t)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),a=parseFloat(e.amount).toFixed(2);return[e.unit_price,e.quantity,e.amount].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==a?{"font-weight":"bold",color:"red"}:{}},naStyle(e){return[null,void 0,"",!1].includes(e)?{"font-weight":"bold",color:"#B8860B"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.invoice_items),a=parseFloat(e.invoice_total||0).toFixed(2);return t!==a?{backgroundColor:"red",color:"white"}:{}},parseFloatFromString(e){if(!e||void 0===e||null===e)return 0;if("number"===typeof e)return e;let t=e.replace(/[^0-9.]/g,""),a=parseFloat(t);return a}}};const Eo=(0,L.A)(Io,[["render",Ve]]);var wo=Eo;const Ao=(0,n.Lk)("h1",null,"Entries",-1),No={class:"table table-bordered"},Oo=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Entry #"),(0,n.Lk)("th",null,"Consignee"),(0,n.Lk)("th",null,"Invoice Number"),(0,n.Lk)("th",null,"Waybill Number"),(0,n.Lk)("th",null,"Actions")])],-1),Po=["onClick"],Bo={key:0,class:"error-message"};function Vo(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",null,[Ao,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>l.searchTerm=e),placeholder:"Search entries"},null,512),[[r.Jo,l.searchTerm]]),(0,n.Lk)("table",No,[Oo,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredEntries,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.entry_id},[(0,n.Lk)("td",null,(0,S.v_)(e.entry_number),1),(0,n.Lk)("td",null,(0,S.v_)(e.importerName),1),(0,n.Lk)("td",null,(0,S.v_)(e.invoice_number?e.invoice_number.split("; ")[0]:""),1),(0,n.Lk)("td",null,(0,S.v_)(e.waybill_number),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",onClick:t=>s.openEntry(e.entry_id)},"Edit",8,Po)])])))),128))])]),l.error?((0,n.uX)(),(0,n.CE)("div",Bo,(0,S.v_)(l.error),1)):(0,n.Q3)("",!0)])}var Uo={data(){return{entries:[],error:null,searchTerm:""}},created(){this.fetchEntries()},methods:{openEntry(e){this.$router.push({name:"EntryDetails",params:{entryId:e}})},async fetchEntries(){try{const e=await Re().get("https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/entries");this.entries=e.data}catch(e){this.error=e.message,console.error("There was an error!",e)}}},computed:{filteredEntries(){if(!this.searchTerm)return this.entries;const e=this.searchTerm.toLowerCase();return this.entries.filter((t=>t.entry_number&&t.entry_number.toString().toLowerCase().includes(e)||t.waybill_number&&t.waybill_number.toString().toLowerCase().includes(e)||t.invoice_number&&t.invoice_number.split("; ").some((t=>t.toLowerCase().includes(e)))||t.consignee&&t.consignee.toString().toLowerCase().includes(e)))}}};const Ro=(0,L.A)(Uo,[["render",Vo]]);var Xo=Ro;const $o={key:0},Wo=(0,n.Lk)("h1",null,"Entry Details",-1),Jo={key:0},qo=(0,n.Lk)("h3",null,"Commercial Invoices",-1),Go=(0,n.Lk)("h3",null,"Header Information",-1),Ko={class:"form-row"},Yo={class:"row"},Mo={class:"col-md-3"},jo=(0,n.Lk)("label",{for:"InvoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),Ho=["onUpdate:modelValue"],Qo={class:"col-md-3"},Zo=(0,n.Lk)("label",{for:"SupplierName",class:"form-label"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),zo=["onUpdate:modelValue"],er={class:"col-md-2"},tr=(0,n.Lk)("label",{for:"InvoiceDate",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),ar=["onUpdate:modelValue"],or={class:"col-md-2"},rr=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),nr=["onUpdate:modelValue"],lr=(0,n.Lk)("option",{value:"",disabled:""},"Select a Currency",-1),sr=["value"],ir={class:"col-md-2"},cr=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),ur=["onUpdate:modelValue"],dr=(0,n.Lk)("h3",null,"Line Details",-1),mr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line Number"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Country of Origin"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"VAT Applicable"),(0,n.Lk)("th",null,"Actions")])],-1),pr=["onBlur"],hr=["onBlur"],vr=["onBlur"],yr=["onBlur"],gr=["onBlur"],fr=["onBlur"],kr=["onUpdate:modelValue"],br=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Lr=["value"],Dr=["onUpdate:modelValue"],_r=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Cr=["value"],Sr=["onUpdate:modelValue"],xr=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Tr=["value"],Fr={class:"form-check form-switch"},Ir=["onUpdate:modelValue"],Er=["onClick"],wr=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),Ar=[wr],Nr={colspan:"7"},Or=["onClick"],Pr=(0,n.Lk)("h3",null,"Footer Information",-1),Br=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges"),(0,n.Lk)("th",null,"Final Total")])],-1),Vr=["onBlur"],Ur=["onBlur"],Rr=["onBlur"],Xr=["onBlur"],$r=["onBlur"],Wr=(0,n.Lk)("h3",null,"Calculated Check",-1),Jr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),qr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),Gr=["disabled"],Kr=["disabled"];function Yr(e,t,a,o,l,s){const i=(0,n.g2)("CustomsEntryForm");return l.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",$o,[Wo,(0,n.Lk)("h2",null,"Reference Number: "+(0,S.v_)(this.entryDetails?.entry_number),1),(0,n.bF)(i,{ref:"myCustomsForm",customsEntryForm:l.customsEntryForm,onUpdateCustomsEntryForm:t[0]||(t[0]=e=>l.customsEntryForm=e)},null,8,["customsEntryForm"]),l.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",Jo,[qo,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.commercialInvoices,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,S.v_)(a+1),1),Go,(0,n.Lk)("div",Ko,[(0,n.Lk)("div",Yo,[(0,n.Lk)("div",Mo,[jo,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_number=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,Ho),[[r.Jo,e.invoice_number]])]),(0,n.Lk)("div",Qo,[Zo,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,zo),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",er,[tr,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,ar),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",or,[rr,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t=>e.currency=t},[lr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.currencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,sr)))),128))],8,nr),[[r.u1,e.currency]])]),(0,n.Lk)("div",ir,[cr,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,ur),[[r.Jo,e.rate_of_exchange]])])])]),dr,(0,n.Lk)("table",null,[mr,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.lines,((a,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("td",null,(0,S.v_)(o+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>s.updateInvoiceData(a,"product_code",e.target.innerText)},(0,S.v_)(a.product_code||"N/A"),41,pr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>s.updateInvoiceData(a,"description",e.target.innerText)},(0,S.v_)(a.description||"N/A"),41,hr),(0,n.Lk)("td",{contenteditable:"true",onInput:t[1]||(t[1]=e=>s.handleInput(e)),onBlur:e=>s.updateInvoiceData(a,"tariff_code",e.target.innerText)},(0,S.v_)(a.tariff_code||"N/A"),41,vr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>s.updateInvoiceData(a,"quantity",e.target.innerText),style:(0,S.Tr)(s.naStyle(a.quantity))},(0,S.v_)(a.quantity||"N/A"),45,yr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>s.updateInvoiceData(a,"unit_price",e.target.innerText),style:(0,S.Tr)(s.naStyle(a.unit_price))},(0,S.v_)(a.unit_price||"N/A"),45,gr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>s.updateInvoiceData(a,"extension_price",e.target.innerText),style:(0,S.Tr)(s.extensionStyle(a))},(0,S.v_)(a.extension_price||"N/A"),45,fr),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>a.country_of_origin=e,id:"country"},[br,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code),9,Lr)))),128))],8,kr),[[r.u1,a.country_of_origin]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>a.cpcCode=e,id:"cpcCode"},[_r,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.availableCPCCodes,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.cpcId,value:e.cpcId},(0,S.v_)(e.code),9,Cr)))),128))],8,Dr),[[r.u1,a.cpcCode]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":e=>a.npcCode=e,id:"npcCode"},[xr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.npcCodeOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,S.v_)(e),9,Tr)))),128))],8,Sr),[[r.u1,a.npcCode]])]),(0,n.Lk)("td",null,[(0,n.Lk)("div",Fr,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e=>a.vatApplicable=e},null,8,Ir),[[r.lH,a.vatApplicable]])])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>s.deleteRow(e,o)},Ar,8,Er)])])))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Nr,[(0,n.Lk)("button",{onClick:t=>s.addNewLine(e)},"Add New Line",8,Or)])])])]),Pr,(0,n.Lk)("table",null,[Br,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateInvoiceData(e,"invoice_total",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.invoice_total))},(0,S.v_)(e.invoice_total||"N/A"),45,Vr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateInvoiceData(e,"inland",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.inland))},(0,S.v_)(e.inland||"N/A"),45,Ur),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateInvoiceData(e,"insurance",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.insurance))},(0,S.v_)(e.insurance||"N/A"),45,Rr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateInvoiceData(e,"other_charges",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.other_charges))},(0,S.v_)(e.other_charges||"N/A"),45,Xr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>s.updateInvoiceData(e,"final_total",t.target.innerText),style:(0,S.Tr)(s.naStyle(e.final_total))},(0,S.v_)(e.final_total||"N/A"),45,$r)])])]),Wr,(0,n.Lk)("table",null,[Jr,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,S.Tr)(s.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,S.v_)(s.calculateTotalExtensionPrice(e.lines)),1),(0,n.Lk)("td",null,(0,S.v_)(e.lines.length),1),(0,n.Lk)("td",null,(0,S.v_)(s.calculateTotalExtensionPrice(e.lines)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("table",null,[qr,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,S.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,S.v_)(this.totalFOBValue),1)])])]),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",disabled:s.isGenerateCsvDisabled,onClick:t[2]||(t[2]=(...e)=>s.generateCSV&&s.generateCSV(...e))},"Generate CSV File",8,Gr)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>s.saveData&&s.saveData(...e))},"Save Entry")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>s.goToCustomsDeclarationPage(this.entryId))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:s.isGenerateCsvDisabled,onClick:t[5]||(t[5]=(...e)=>s.generateWorkSheet&&s.generateWorkSheet(...e))},"Generate Worksheet",8,Kr)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>s.generateDepositForm&&s.generateDepositForm(...e))},"Generate Deposit Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>s.generateTTC84&&s.generateTTC84(...e))},"Generate Special Exemption")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>s.generateOvertimeForm&&s.generateOvertimeForm(...e))},"Generate Overtime Form")])])])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)}var Mr={name:"EntryDetails",components:{CustomsEntryForm:Fo},props:{entryId:{type:[String,Number],required:!0}},computed:{totalFOBValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},toalInsuranceValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.insurance)),0).toFixed(2)},formattedDate:{get(){const e=new Date(this.entryDetails.waybill_date);return e.toISOString().split("T")[0]},set(e){this.entryDetails.waybill_date=e}},isGenerateCsvDisabled(){return this.commercialInvoices.some((e=>(console.log("Tariff Check"+e),e.lines.some((e=>!e.tariff_code||""===e.tariff_code.trim())))))},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},data(){return{entryDetails:null,waybill:{},entry:{},commercialInvoices:[],dataRetrieved:!1,loading:!1,error:null,countries:[],totalNumberOfLines:0,modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["0000"],packageTypeOptions:[],currencies:[],customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:""}}},mounted(){this.fetchAllDetails(),this.fetchCountries(),this.packageTypeOptions=It(),this.currencies=Et()},methods:{setInvoiceLineWorksheetData(){let e=[];return this.commercialInvoices.forEach((t=>{t.lines.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const a=st(t.tariff_code.replace(/\./g,"")).then((e=>{let a=vt(e.charges,t.vatApplicable);t.commodity={code:t.tariff_code.replace(/\./g,""),id:e.id,charges:a}})).catch((e=>(_t(),Ct(`Error with commodity code provided: ${t.tariff_code}`),console.error("Failed to get commodity charges:",e),Promise.reject(e))));e.push(a)}))})),Promise.all(e)},generateWorkSheet(){console.log("Generating WorkSheet"),console.log(this.commercialInvoices),St("Generating worksheet..."),this.setInvoiceLineWorksheetData().then((()=>{console.log("Setting Invoice Line Worksheet Data");const e=mt(this.entryDetails?.entry_number,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount),t=yt(this.commercialInvoices,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),lt(e).then((e=>{_t(),Dt("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),o=`Worksheet - ${this.entryDetails?.entry_number}.pdf`;a.href=t,a.setAttribute("download",o),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),Ct("Failed to generate worksheet!")}))})).catch((e=>{console.error("Failed to set invoice line worksheet data:",e)}))},async getPackageTypes(){try{const e=await fetch("./assets/packageTypes.json"),t=await e.json();this.packageTypeOptions=t}catch(e){this.packageTypeOptions=[{value:"CT",text:"Carton"}],console.error("Error fetching data:",e)}},getInvoiceNumbers(){return this.commercialInvoices.map((e=>`${e.invoice_number} \t ${e.invoice_date}`)).join("\n")},async generateOvertimeForm(){let e={date:ft(),request:"TO OBTAIN SERVICES OF ONE CUSTOMS OFFICER TO EXAMINE AND RELEASE",details:"",shipper:this.customsEntryForm.exporterName,importer:this.customsEntryForm.importerName,referenceNumber:this.entryDetails?.entry_number,importerAddress:this.customsEntryForm.importerName,declarantNumber:"BR0285",declarantName:"RAMNARINE RAMPERSAD",port:this.customsEntryForm.portOfDischargeName};Tt().then((t=>{console.log("Importers List: ",this.customsEntryForm.importers);const a=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=void 0===a?"":a.address;e.details=t,e.importerAddress=`${this.customsEntryForm.importerName}\n${o}`,St("Generating Overtime Form..."),ut(e).then((e=>{_t(),Dt("Overtime Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),o=`Overtime Form - ${this.entryDetails?.entry_number}.pdf`;a.href=t,a.setAttribute("download",o),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Failed to generate Overtime Form:",e),Ct("Failed to generate Overtime Form!")}))}))},async generateTTC84(){console.log("Generating TTC84");let e={declarationNumber:this.entryDetails?.entry_number,declarationDate:ft(),regimeCode:"C4",declarantName:"RAMNARINE RAMPERSAD",declarantNumber:"BR0285",referenceNumber:this.entryDetails?.entry_number,importer:this.customsEntryForm.importerName,importNumber:"",declarationContent:"",CPCCode:"4000",extensionCode:"",signatoryName:"",signatoryStatus:"",presigned:!1};const t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),a=t?.taxIdentificationNumber;e.importNumber=a;let o=await je();console.log("Signatories: ",o),o=o.filter((e=>e.importerCode===this.customsEntryForm.importerId)),dt(this.customsEntryForm.importerId).then((t=>{const a=t.map((e=>e.declaration_number));xt(a,o).then((a=>{e.presigned=a.generatePreSigned;const r=parseInt(a.select1),n=t[r];e.declarationContent=n.content.replace(/\\n/g,"\n"),e.extensionCode=n.extensionCode;const l=o.find((e=>e.id===parseInt(a.select2)));e.signatoryName=l.name,e.signatoryStatus=l.status,ct(e).then((e=>{_t(),Dt("C84 Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),o=`C84 Form - ${this.entryDetails?.entry_number}.pdf`;a.href=t,a.setAttribute("download",o),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Failed to generate C84 Form:",e),Ct("Failed to generate C84 Form!")}))}))})).catch((e=>{console.error("Failed to get special exemption declarations:",e)})),console.log("C84 Object: ",e)},async generateDepositForm(){console.log("Generating Deposit Form");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId)),t=void 0==e?"":e.portCode,a=this.countries.find((e=>e.code===this.customsEntryForm.exporterCountry))?.name,o=this.customsEntryForm.modeOfTransportOOptions.find((e=>e.modeOfTransport===this.customsEntryForm.modeOfTransport)),r=o.freightTypes.find((e=>e.name===this.customsEntryForm.freightType))?.code,n=kt(this.customsEntryForm.regimeTypeCode,this.customsEntryForm.waybillNumber,this.customsEntryForm.waybillDate,this.customsEntryForm.incoTerms,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,"Ramnarine Rampersad","BR0285",this.entryDetails?.entry_number,this.customsEntryForm.exporterName,a,this.customsEntryForm.exporterCountry,this.customsEntryForm.vesselName,r,this.customsEntryForm.portOfDischargeName,t,this.customsEntryForm.depositAmount,"PENDING CARICOM AREA INVOICE.");try{St("Generating Deposit Form..."),it(n).then((e=>{_t(),Dt("Deposit Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),o=`Deposit Form - ${this.entryDetails?.entry_number}.pdf`;a.href=t,a.setAttribute("download",o),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{Ct("Failed to generate Deposit Form!"),console.error("Failed to generate Deposit Form:",e)}))}catch(l){console.error("Failed to generate Deposit Form:",l)}},goToCustomsDeclarationPage(){const e=this.getInvoiceNumbers();console.log("Invoice Numbers: ",e),this.$router.push({name:"CustomsDeclarationForm",params:{entryId:this.entryId},query:{buyerId:this.customsEntryForm.importerId,sellerId:this.customsEntryForm.exporterId,invoiceNumber:e,invoiceTotal:this.customsEntryForm.totalCargoValue,currency:this.commercialInvoices[0].currency,rateOfExchange:this.commercialInvoices[0].rate_of_exchange,freight:this.customsEntryForm.freightAmount*this.commercialInvoices[0].rate_of_exchange,insurance:this.toalInsuranceValue,incoTerms:this.customsEntryForm.incoTerms}})},updateWaybillDate(e){this.entryDetails.waybill_date=e.target.value},countryChange(){this.commercialInvoices.forEach((e=>{e.lines.forEach((e=>{e.country_of_origin&&0!==e.country_of_origin.trim().length&&"N/A"!==e.country_of_origin&&void 0!==e.country_of_origin&&null!==e.country_of_origin||(e.country_of_origin=this.entryDetails.country_of_origin)}))}))},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},formatInvoiceData(e){return{invoice_id:e.invoice_id,invoice_number:e.invoice_number,invoice_date:e.invoice_date,invoice_total:e.invoice_total,sub_total:e.sub_total,supplier_name:e.supplier_name,taxed_amount:e.taxed_amount,supplier_address:e.supplier_address,purchase_order_number:e.purchase_order_number,inland:e.inland,insurance:e.insurance,other_charges:e.other_charges,entry_id:e.entry_id,currency:e.currency,rate_of_exchange:e.rate_of_exchange}},getTotalNumberOfLines(){console.log("Calculating total number of lines"),console.log(this.commercialInvoices);let e=0;for(let t of this.commercialInvoices)e+=t.lines.length;console.log("Total Number of Lines: ",e),this.totalNumberOfLines=e},formatInvoiceLinesData(e){return e.map((e=>({invoice_line_id:e.invoice_line_id,description:e.description,quantity:e.quantity,unit_price:e.unit_price,extension_price:e.extension_price,tariff_code:e.tariff_code,product_code:e.product_code,country_of_origin:e.country_of_origin})))},handleInput(e){const t=e.target.innerText,a=t.replace(/[^0-9]/g,""),o=this.formatValue(a);e.target.innerText=o,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let a=0;a<e.length;a++)4!==a&&6!==a||(t+="."),t+=e[a];return this.truncateString(t)},truncateString(e){return e.length>13?e.substring(0,13):e},deleteRow(e,t){e.lines.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.lines.push(t)},moveCursorToEnd(e){const t=document.createRange(),a=window.getSelection();t.selectNodeContents(e),t.collapse(!1),a.removeAllRanges(),a.addRange(t)},saveData(){console.log("Saving data..."),this.loading=!0,St("Saving Data..."),Promise.all([this.updateEntryData(),this.updateWaybillData(),this.saveInvoiceData()]).then((([e,t])=>{console.log("Entry details updated:",e.data),console.log("Waybill details updated:",t.data),_t(),Dt("All Data Saved successfully!")})).catch((e=>{console.error("There was an error saving the data!",e),Ct("Failed to save Entry Data!")})).finally((()=>{this.loading=!1}))},naStyle(e){return[null,void 0,"",!1].includes(e)?{backgroundColor:"yellow",color:"black"}:{}},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+parseFloat(t.extension_price||0)),0).toFixed(2)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),a=parseFloat(e.extension_price).toFixed(2);return[e.unit_price,e.quantity,e.extension_price].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==a?{"font-weight":"bold",color:"red"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.lines),a=parseFloat(e.invoice_total||0).toFixed(2);return t!==a?{backgroundColor:"red",color:"white"}:{}},toggleOptions(){console.log(this.freightType)},updateEntryFields(e,t){this.entryDetails[e]=t},updateInvoiceData(e,t,a){e[t]=a,console.log(e)},convertTinyIntoBoolean(e){return 1===e},async fetchAllDetails(){const e="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/";console.log("Fetching details"),this.loading=!0,this.dataRetrieved=!1;try{const t=Re().get(`${e}entry-details/${this.entryId}`),a=Re().get(`${e}commercial-invoices-with-lines/${this.entryId}`),[o,r]=await Promise.all([t,a]);this.dataRetrieved=!0;let n,l=o.data.waybill_date;if("0000-00-00"!==l&&l){let e=new Date(l);n=isNaN(e)?"":e.toISOString().split("T")[0]}else n="";this.entryDetails=o.data,this.customsEntryForm.importerId=this.entryDetails.importer,this.customsEntryForm.exporterId=this.entryDetails.shipper,this.customsEntryForm.waybillNumber=this.entryDetails.waybill_number,this.customsEntryForm.waybillDate=n,this.customsEntryForm.modeOfTransport=this.entryDetails.mode_of_transport,this.customsEntryForm.freightType=this.entryDetails.freight_type,this.customsEntryForm.vesselId=this.entryDetails.vessel,this.customsEntryForm.portOfDischargeId=this.entryDetails.port_of_discharge,this.customsEntryForm.netWeight=this.entryDetails.net_weight,this.customsEntryForm.grossWeight=this.entryDetails.gross_weight,this.customsEntryForm.numberOfPackages=this.entryDetails.package_quantity,this.customsEntryForm.packageType=this.entryDetails.package_type,this.customsEntryForm.marksAndNumbers=this.entryDetails.marks_and_numbers,this.customsEntryForm.totalCargoValue=this.entryDetails.invoice_total,this.customsEntryForm.freightAmount=this.entryDetails.freight_charge,this.customsEntryForm.rateOfExchange=this.entryDetails.rate_of_exchange,this.customsEntryForm.countryOfOrigin=this.entryDetails.country_of_origin,this.customsEntryForm.regimeType=this.entryDetails.regimeType,this.customsEntryForm.regimeTypeCode=this.entryDetails.regimeTypeCode,this.customsEntryForm.depositAmount=this.entryDetails.deposit,this.customsEntryForm.containerCharges=this.entryDetails.container_charges,this.customsEntryForm.additionalCharges=this.entryDetails.additional_charges,this.customsEntryForm.localFee=this.entryDetails.local_fee,this.customsEntryForm.declarantId=this.entryDetails.declarant,this.customsEntryForm.incoTerms=this.entryDetails.incoterms,this.commercialInvoices=r.data,this.parseInvoiceData(),this.getTotalNumberOfLines(),this.getRegimeTypes(),console.log("Entry details:",this.entryDetails),console.log("Customs Entry:",this.customsEntryForm),console.log("Commercial invoices:",this.commercialInvoices)}catch(t){this.error="Failed to load entry details: "+(t.response?.data||t.message),console.error("Failed to load entry details:",t),Ct("Failed to load Entry Details! Please Reach out to Administrator")}finally{this.loading=!1}},formatDate(e){const t=new Date(e),a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${a}-${o}-${r}`},parseInvoiceData(){console.log("Parsing Invoice Data"),this.commercialInvoices.forEach((e=>{e.vendor_name=e.supplier_name,e.invoice_date=this.formatDate(e.invoice_date),e.lines.forEach((e=>{e.quantity=parseFloat(e.quantity).toFixed(2),e.unit_price=parseFloat(e.unit_price),e.extension_price=parseFloat(e.extension_price).toFixed(2),e.vatApplicable=this.convertTinyIntoBoolean(e.vat_applicable),e.cpcCode=e.cpc_code,e.npcCode=e.npc_code}))}))},async getRegimeTypes(){ot("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e}))},async updateWaybillData(){return this.waybill={waybill_number:this.entryDetails.waybill_number,waybill_date:this.entryDetails.waybill_date,mode_of_transport:this.entryDetails.mode_of_transport,freight_type:this.entryDetails.freight_type,marks_and_numbers:this.entryDetails.marks_and_numbers,package_type:this.entryDetails.package_type,cpc_code:this.entryDetails.cpc_code,npc_code:this.entryDetails.npc_code,package_quantity:this.entryDetails.package_quantity,country_of_origin:this.entryDetails.country_of_origin,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,port_of_discharge:this.customsEntryForm.portOfDischargeId,entry_id:this.entryDetails.entry_id,waybill_id:this.entryDetails.waybill_id},console.log("Saving Waybill Data: ",this.waybill),Re().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/waybill/${this.waybill.waybill_id}`,this.waybill)},async updateEntryData(){return this.entry={mawi_invoice:this.entryDetails.mawi_invoice,entry_date:this.entryDetails.entry_date,invoice_total:this.entryDetails.invoice_total,supplier_name:this.entryDetails.supplier_name,net_weight:this.customsEntryForm.netWeight,gross_weight:this.customsEntryForm.grossWeight,entry_number:this.entryDetails.entry_number,freight_charge:this.customsEntryForm.freightAmount,rate_of_exchange:this.entryDetails.rate_of_exchange,consignee:this.entryDetails.consignee,declarant:this.customsEntryForm.declarantId,incoterms:this.customsEntryForm.incoTerms,regime_type:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,container_charges:this.customsEntryForm.containerCharges,additional_charges:this.customsEntryForm.additionalCharges,local_fee:this.customsEntryForm.localFee},console.log(this.customsEntryForm),console.log(this.entryDetails),Re().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/customs-entry/${this.entryDetails.entry_id}`,this.entry)},async saveInvoiceData(){const e=this.commercialInvoices.map((e=>{const t=this.formatInvoiceData(e),a=this.formatInvoiceLinesData(e.lines),o={invoiceData:t,invoiceLines:a};return console.log("Updating invoice and invoice lines:",o),Re().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/update-invoice-and-lines/${t.invoice_id}`,o)}));return Promise.all(e)},checkTHNCodes(){let e=this.commercialInvoices;return e.forEach((e=>{e.lines.forEach((e=>{if(!e.tariff_code||""===e.tariff_code.trim()||"N/A"===e.tariff_code||void 0===e.tariff_code||null===e.tariff_code)return!1}))})),!0},generateCSV(){if(!this.checkTHNCodes())return void alert("Please enter a THN code for all items before generating the CSV file");let e=this.entryDetails,t=this.commercialInvoices;const a=e=>void 0!==e&&null!==e?`"${e.toString().replace(/"/g,'""')}"`:"",o=["reference","waybill_number","Product Code","description","commodity_code","quantity","unitcost","total","gross_weight","net_weight","country_origin_code","package_quantity","kind_of_package","marks_and_numbers","customs_procedure_code","national_procedure_code","exchange_rate","external_freight"];let r=o.join(",")+"\n";console.log(e);let n=0;t.forEach((t=>{let o="0",l="0";0===n&&(o=this.customsEntryForm.numberOfPackages,l=parseFloat(this.customsEntryForm.freightAmount)*parseFloat(t.rate_of_exchange),l=l.toFixed(2)),n++;for(let n=0;n<t.lines.length;n++){const s=t.lines[n],i=[a(e.entry_number),a(this.customsEntryForm.waybillNumber),a(s.product_code),a(s.description),a(s.tariff_code.replace(/\./g,"")),a(s.quantity),a(s.unit_price),a(s.extension_price),a(this.customsEntryForm.grossWeight),a(this.customsEntryForm.netWeight),a(s.country_of_origin),a(o),a(this.customsEntryForm.packageType),a(this.customsEntryForm.marksAndNumbers),a("4000"),a("0000"),a(t.rate_of_exchange),a(l)];r+=i.join(",")+"\n"}}));const l=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(l),i=document.createElement("a"),c=`GABRIEL-Export - ${e.entry_number}.csv`;i.setAttribute("href",s),i.setAttribute("download",c),document.body.appendChild(i),i.click(),document.body.removeChild(i),Dt("Successfully Generated CSV File!")}}};const jr=(0,L.A)(Mr,[["render",Yr]]);var Hr=jr;const Qr=e=>((0,n.Qi)("data-v-17a45262"),e=e(),(0,n.jt)(),e),Zr={class:"container mt-4"},zr=Qr((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Trinidad & Tobago",-1))),en=Qr((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Customs Declaration Form E-C75",-1)));function tn(e,t,a,o,l,s){const i=(0,n.g2)("CustomsDeclarationSectionOne"),c=(0,n.g2)("CustomsDeclarationSectionTwo"),u=(0,n.g2)("CustomsDeclarationSectionThree"),d=(0,n.g2)("CustomsDeclarationSectionFour");return(0,n.uX)(),(0,n.CE)("div",Zr,[zr,en,(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>s.generateC75Declaration&&s.generateC75Declaration(...e)),["prevent"])),class:"my-form-container"},[(0,n.bF)(i,{buyerIdProp:this.$route.query.buyerId,customsDeclarationSectionOne:l.form.customsDeclarationSectionOne,onUpdateSectionOne:t[0]||(t[0]=e=>l.form.customsDeclarationSectionOne=e)},null,8,["buyerIdProp","customsDeclarationSectionOne"]),(0,n.bF)(c,{customsDeclarationSectionTwo:l.form.customsDeclarationSectionTwo,customsDeclarationSectionOne:l.form.customsDeclarationSectionOne,onUpdateSectionTwo:t[1]||(t[1]=e=>l.form.customsDeclarationSectionTwo=e)},null,8,["customsDeclarationSectionTwo","customsDeclarationSectionOne"]),(0,n.bF)(u,{customsDeclarationSectionThree:l.form.customsDeclarationSectionThree,onUpdateSectionThree:t[2]||(t[2]=e=>l.form.customsDeclarationSectionThree=e)},null,8,["customsDeclarationSectionThree"]),(0,n.bF)(d,{customsDeclarationSectionFour:l.form.customsDeclarationSectionFour,customsDeclarationSectionThree:l.form.customsDeclarationSectionThree,onUpdateSectionFour:t[3]||(t[3]=e=>l.form.customsDeclarationSectionFour=e)},null,8,["customsDeclarationSectionFour","customsDeclarationSectionThree"])],32),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>s.generateC75Declaration&&s.generateC75Declaration(...e))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>s.generatePreSignedValuation&&s.generatePreSignedValuation(...e))},"Generate Pre-Signed Valuation Form")])])])])}const an=e=>((0,n.Qi)("data-v-981f814e"),e=e(),(0,n.jt)(),e),on={class:"row"},rn={class:"col-md-6"},nn={class:"form-group"},ln=an((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"1. Name and Address of Seller (Block Letters)")],-1))),sn=an((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Seller",-1))),cn=["value"],un={class:"form-group"},dn=["value"],mn={class:"col-md-6"},pn={class:"form-group"},hn=an((()=>(0,n.Lk)("label",{for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"2(a) Name and Address of Buyer (Block Letters)")],-1))),vn=an((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Buyer",-1))),yn=["value"],gn={class:"form-group"},fn=["value"],kn={class:"row"},bn={class:"col-md-6"},Ln={class:"form-group"},Dn=an((()=>(0,n.Lk)("label",{for:"declarantNameAddress"},[(0,n.Lk)("strong",null,"2(b) Name and Address of Declarant (Block Letters)")],-1))),_n=an((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),Cn=["value"],Sn={class:"form-group"},xn=["value"],Tn=an((()=>(0,n.Lk)("div",{class:"col-md-6"},null,-1))),Fn={class:"row"},In={class:"col-md-4"},En={class:"form-group"},wn=an((()=>(0,n.Lk)("label",{for:"termsOfDelivery",class:"form-label"},[(0,n.Lk)("strong",null,"3. Terms of Delivery (INCOTERM)")],-1))),An=an((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select an Incoterm",-1))),Nn=["value"],On={class:"col-md-4"},Pn={class:"form-group"},Bn=an((()=>(0,n.Lk)("label",{for:"invoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"4. Number and Date of Invoice")],-1))),Vn={class:"col-md-4"},Un={class:"form-group"},Rn=an((()=>(0,n.Lk)("label",{for:"contractNumber",class:"form-label"},[(0,n.Lk)("strong",null,"5. Number and Date of Contract")],-1)));function Xn(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",on,[(0,n.Lk)("div",rn,[(0,n.Lk)("div",nn,[ln,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>l.localData.sellerId=e),onChange:t[1]||(t[1]=e=>s.updateField("sellerNameAddress",e.target.value))},[sn,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,cn)))),128))],544),[[r.u1,l.localData.sellerId]])]),(0,n.Lk)("div",un,[(0,n.Lk)("textarea",{class:"form-control",id:"sellerNameAddress",rows:"4",onInput:t[2]||(t[2]=e=>s.updateField("sellerNameAddress",e.target.value)),required:"",readonly:"",value:s.selectedSeller},null,40,dn)]),(0,n.eW)('" ')]),(0,n.Lk)("div",mn,[(0,n.Lk)("div",pn,[hn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>l.localData.buyerId=e),onChange:t[4]||(t[4]=e=>s.updateField("buyerNameAddress",e.target.value))},[vn,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,yn)))),128))],544),[[r.u1,l.localData.buyerId]])]),(0,n.Lk)("div",gn,[(0,n.Lk)("textarea",{class:"form-control",id:"buyerNameAddress",rows:"4",onInput:t[5]||(t[5]=e=>s.updateField("buyerNameAddress",e.target.value)),required:"",readonly:"",value:s.selectedBuyer},null,40,fn)])])]),(0,n.Lk)("div",kn,[(0,n.Lk)("div",bn,[(0,n.Lk)("div",Ln,[Dn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>l.localData.declarantId=e),onChange:t[7]||(t[7]=e=>s.updateField("declarantNameAddress",e.target.value))},[_n,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,S.v_)(e.name),9,Cn)))),128))],544),[[r.u1,l.localData.declarantId]])]),(0,n.Lk)("div",Sn,[(0,n.Lk)("textarea",{class:"form-control",id:"declarantNameAddress",rows:"4",onInput:t[8]||(t[8]=e=>s.updateField("declarantNameAddress",e.target.value)),required:"",readonly:"",value:s.selectedDeclarant},null,40,xn)])]),Tn]),(0,n.Lk)("div",Fn,[(0,n.Lk)("div",In,[(0,n.Lk)("div",En,[wn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>l.localData.termsOfDelivery=e),onChange:t[10]||(t[10]=e=>s.updateField("termsOfDelivery",e.target.value))},[An,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.incoterms,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,Nn)))),128))],544),[[r.u1,l.localData.termsOfDelivery]])])]),(0,n.Lk)("div",On,[(0,n.Lk)("div",Pn,[Bn,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"invoiceNumber",placeholder:"e.g., 202313 2024/10/20","onUpdate:modelValue":t[11]||(t[11]=e=>l.localData.invoiceNumber=e),onInput:t[12]||(t[12]=e=>s.updateField("invoiceNumber",e.target.value)),required:""},null,544),[[r.Jo,l.localData.invoiceNumber]])])]),(0,n.Lk)("div",Vn,[(0,n.Lk)("div",Un,[Rn,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"contractNumber",placeholder:"e.g., 123456 2024/10/22","onUpdate:modelValue":t[13]||(t[13]=e=>l.localData.contractNumber=e),onInput:t[14]||(t[14]=e=>s.updateField("contractNumber",e.target.value)),required:""},null,544),[[r.Jo,l.localData.contractNumber]])])])])])}var $n={props:["customsDeclarationSectionOne","buyerIdProp"],name:"CustomsDeclarationSectionOne",mounted(){this.getConfigurations(),this.incoterms=So()},data(){return{localData:this.customsDeclarationSectionOne,myBuyerId:this.buyerIdProp,incoterms:[]}},computed:{selectedSeller(){const e=this.localData.sellers.find((e=>e.id===this.localData.sellerId)),t=e?`${e.name} \n ${e.address}`:"";return t},selectedBuyer(){const e=this.localData.buyers.find((e=>e.id===this.localData.buyerId));return e?`${e.name} \n ${e.address}`:""},selectedDeclarant(){const e=this.localData.declarants.find((e=>e.id===this.localData.declarantId));return e?`${e.name} \n ${e.address}`:""},declarantStatus(){const e=this.declarants.find((e=>e.id===this.localData.declarantId));return e?e.status:""}},methods:{updateField(e,t){this.localData[e]=t,this.$emit("update-section-one",this.localData)},async getConfigurations(){console.log("Fetching sellers, buyers, and declarants"),Promise.all([Qe(),Me(),nt(),je(),ze()]).then((([e,t,a,o,r])=>{this.localData.sellers=e,this.localData.buyers=t,this.localData.vessels=a,this.localData.declarants=o,this.countryList=r}))}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){this.localData={...e}}}}};const Wn=(0,L.A)($n,[["render",Xn],["__scopeId","data-v-981f814e"]]);var Jn=Wn;const qn=e=>((0,n.Qi)("data-v-54aa40c3"),e=e(),(0,n.jt)(),e),Gn={class:"row"},Kn={class:"col-md-6"},Yn={class:"form-group"},Mn=qn((()=>(0,n.Lk)("label",null,[(0,n.Lk)("strong",null,"7 (a) Are the buyer and seller RELATED?")],-1))),jn={class:"form-check"},Hn=qn((()=>(0,n.Lk)("label",{for:"related-yes"},"YES",-1))),Qn=qn((()=>(0,n.Lk)("label",{for:"related-no"},"NO",-1))),Zn={key:0},zn=qn((()=>(0,n.Lk)("label",{for:"influencePrice"},[(0,n.Lk)("strong",null,"7 (b) Did the relationship INFLUENCE the price of the imported goods?")],-1))),el={class:"form-check"},tl=qn((()=>(0,n.Lk)("label",{for:"influence-price-yes"},"YES",-1))),al=qn((()=>(0,n.Lk)("label",{for:"influence-price-no"},"NO",-1))),ol={key:1},rl=qn((()=>(0,n.Lk)("label",{for:"transactionValueApproximate"},[(0,n.Lk)("strong",null,"7 (c) Does the transaction value of the imported goods closely approximate to a value mentioned in Paragraph 3(2)(b)?")],-1))),nl={class:"form-check"},ll=qn((()=>(0,n.Lk)("label",{for:"transaction-value-yes"},"YES",-1))),sl=qn((()=>(0,n.Lk)("label",{for:"transaction-value-no"},"NO",-1))),il={key:2},cl={class:"col-md-6"},ul={class:"form-group"},dl=qn((()=>(0,n.Lk)("label",{for:"restrictions"},[(0,n.Lk)("strong",null,"8 (a) Are there any RESTRICTIONS to the disposition or use of the goods?")],-1))),ml={class:"form-check"},pl=qn((()=>(0,n.Lk)("label",{for:"restrictions-yes"},"YES",-1))),hl=qn((()=>(0,n.Lk)("label",{for:"restrictions-no"},"NO",-1))),vl={key:0},yl=qn((()=>(0,n.Lk)("label",{for:"conditions"},[(0,n.Lk)("strong",null,"8 (b) Is the sale or price subject to some CONDITION or CONSIDERATION?")],-1))),gl={class:"form-check"},fl=qn((()=>(0,n.Lk)("label",{for:"conditions-yes"},"YES",-1))),kl=qn((()=>(0,n.Lk)("label",{for:"conditions-no"},"NO",-1))),bl={key:1},Ll=qn((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (a) Are any ROYALTIES AND LICENCE FEES related to the imported goods payable?")],-1))),Dl={class:"form-check"},_l=qn((()=>(0,n.Lk)("label",{for:"royalties-yes"},"YES",-1))),Cl=qn((()=>(0,n.Lk)("label",{for:"royalties-no"},"NO",-1))),Sl={key:2},xl=qn((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (b) Is the sale subject to an arrangement under which part of the proceeds of any subsequent RESALE, DISPOSAL or USE accures directy or indirectly to the seller?")],-1))),Tl={class:"form-check"},Fl=qn((()=>(0,n.Lk)("label",{for:"resale-yes"},"YES",-1))),Il=qn((()=>(0,n.Lk)("label",{for:"resale-no"},"NO",-1))),El={key:3},wl={class:"row"},Al={class:"col-md-6"},Nl={class:"form-group"},Ol=qn((()=>(0,n.Lk)("label",{for:"signatory_name"},[(0,n.Lk)("strong",null,"Name of Signatory")],-1))),Pl={class:"form-group"},Bl=qn((()=>(0,n.Lk)("label",{for:"date_signed"},[(0,n.Lk)("strong",null,"Date Signed")],-1))),Vl={class:"col-md-6"},Ul={class:"form-group"},Rl=qn((()=>(0,n.Lk)("label",{for:"status_of_signatory"},[(0,n.Lk)("strong",null,"Status of Signatory")],-1))),Xl={class:"form-group"},$l=qn((()=>(0,n.Lk)("label",{for:"signatory_phone_number"},[(0,n.Lk)("strong",null,"Signatory Phone Number")],-1)));function Wl(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Gn,[(0,n.Lk)("div",Kn,[(0,n.Lk)("div",Yn,[Mn,(0,n.Lk)("div",jn,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-yes",value:"yes","onUpdate:modelValue":t[0]||(t[0]=e=>l.localData.relatedParties=e),onChange:t[1]||(t[1]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.relatedParties]]),Hn,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-no",value:"no","onUpdate:modelValue":t[2]||(t[2]=e=>l.localData.relatedParties=e),onChange:t[3]||(t[3]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.relatedParties]]),Qn]),"yes"===l.localData.relatedParties?((0,n.uX)(),(0,n.CE)("div",Zn,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"related-notes",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[4]||(t[4]=e=>l.localData.relatedDetails=e),rows:"3",onInput:t[5]||(t[5]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.relatedDetails]])])):(0,n.Q3)("",!0),zn,(0,n.Lk)("div",el,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-yes",value:"yes","onUpdate:modelValue":t[6]||(t[6]=e=>l.localData.influencePrice=e),onChange:t[7]||(t[7]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.influencePrice]]),tl,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-no",value:"no","onUpdate:modelValue":t[8]||(t[8]=e=>l.localData.influencePrice=e),onChange:t[9]||(t[9]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.influencePrice]]),al]),"yes"===l.localData.influencePrice?((0,n.uX)(),(0,n.CE)("div",ol,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"influence-price-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[10]||(t[10]=e=>l.localData.influencePriceDetails=e),rows:"3",onInput:t[11]||(t[11]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.influencePriceDetails]])])):(0,n.Q3)("",!0),rl,(0,n.Lk)("div",nl,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-yes",value:"yes","onUpdate:modelValue":t[12]||(t[12]=e=>l.localData.transactionValueApproximate=e),onChange:t[13]||(t[13]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.transactionValueApproximate]]),ll,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-no",value:"no","onUpdate:modelValue":t[14]||(t[14]=e=>l.localData.transactionValueApproximate=e),onChange:t[15]||(t[15]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.transactionValueApproximate]]),sl]),"yes"===l.localData.transactionValueApproximate?((0,n.uX)(),(0,n.CE)("div",il,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"transaction-value-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[16]||(t[16]=e=>l.localData.transactionValueDetails=e),rows:"3",onInput:t[17]||(t[17]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.transactionValueDetails]])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",cl,[(0,n.Lk)("div",ul,[dl,(0,n.Lk)("div",ml,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-yes",value:"yes","onUpdate:modelValue":t[18]||(t[18]=e=>l.localData.restrictions=e),onChange:t[19]||(t[19]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.restrictions]]),pl,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-no",value:"no","onUpdate:modelValue":t[20]||(t[20]=e=>l.localData.restrictions=e),onChange:t[21]||(t[21]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.restrictions]]),hl]),"yes"===l.localData.restrictions?((0,n.uX)(),(0,n.CE)("div",vl,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"restrictions-details",placeholder:"Specify the nature of the restrictions.","onUpdate:modelValue":t[22]||(t[22]=e=>l.localData.restrictionsDetails=e),rows:"3",onInput:t[23]||(t[23]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.restrictionsDetails]])])):(0,n.Q3)("",!0),yl,(0,n.Lk)("div",gl,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-yes",value:"yes","onUpdate:modelValue":t[24]||(t[24]=e=>l.localData.conditions=e),onChange:t[25]||(t[25]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.conditions]]),fl,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-no",value:"no","onUpdate:modelValue":t[26]||(t[26]=e=>l.localData.conditions=e),onChange:t[27]||(t[27]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.conditions]]),kl]),"yes"===l.localData.conditions?((0,n.uX)(),(0,n.CE)("div",bl,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"conditions-details",placeholder:"Specify the nature of the conditions or considerations.","onUpdate:modelValue":t[28]||(t[28]=e=>l.localData.conditionsDetails=e),rows:"3",onInput:t[29]||(t[29]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.conditionsDetails]])])):(0,n.Q3)("",!0),Ll,(0,n.Lk)("div",Dl,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-yes",value:"yes","onUpdate:modelValue":t[30]||(t[30]=e=>l.localData.royalties=e),onChange:t[31]||(t[31]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.royalties]]),_l,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-no",value:"no","onUpdate:modelValue":t[32]||(t[32]=e=>l.localData.royalties=e),onChange:t[33]||(t[33]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.royalties]]),Cl]),"yes"===l.localData.royalties?((0,n.uX)(),(0,n.CE)("div",Sl,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"royalties-details",placeholder:"Specify conditions and, if possible, amounts.","onUpdate:modelValue":t[34]||(t[34]=e=>l.localData.royaltiesDetails=e),rows:"3",onInput:t[35]||(t[35]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.royaltiesDetails]])])):(0,n.Q3)("",!0),xl,(0,n.Lk)("div",Tl,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-yes",value:"yes","onUpdate:modelValue":t[36]||(t[36]=e=>l.localData.resale_disposal_boolean=e),onChange:t[37]||(t[37]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.resale_disposal_boolean]]),Fl,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-no",value:"no","onUpdate:modelValue":t[38]||(t[38]=e=>l.localData.resale_disposal_boolean=e),onChange:t[39]||(t[39]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.XL,l.localData.resale_disposal_boolean]]),Il]),"yes"===l.localData.resale_disposal_boolean?((0,n.uX)(),(0,n.CE)("div",El,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"resale-details",placeholder:"Please Specify conditions","onUpdate:modelValue":t[40]||(t[40]=e=>l.localData.resaleDetails=e),rows:"3",onInput:t[41]||(t[41]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.resaleDetails]])])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",wl,[(0,n.Lk)("div",Al,[(0,n.Lk)("div",Nl,[Ol,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_name","onUpdate:modelValue":t[42]||(t[42]=e=>l.localData.signatory_name=e),onInput:t[43]||(t[43]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.signatory_name]])]),(0,n.Lk)("div",Pl,[Bl,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"date_signed","onUpdate:modelValue":t[44]||(t[44]=e=>l.localData.date_signed=e),onInput:t[45]||(t[45]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.date_signed]])])]),(0,n.Lk)("div",Vl,[(0,n.Lk)("div",Ul,[Rl,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"status_of_signatory","onUpdate:modelValue":t[46]||(t[46]=e=>l.localData.status_of_signatory=e),onInput:t[47]||(t[47]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.status_of_signatory]])]),(0,n.Lk)("div",Xl,[$l,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_phone_number","onUpdate:modelValue":t[48]||(t[48]=e=>l.localData.signatory_phone_number=e),onInput:t[49]||(t[49]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.signatory_phone_number]])])])])])}var Jl={props:["customsDeclarationSectionTwo","customsDeclarationSectionOne"],name:"CustomsDeclarationSectionTwo",data(){return{localData:this.customsDeclarationSectionTwo}},methods:{updateSection(){this.$emit("update-section-two",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){const t=e.declarantId,a=e.declarants?.find((e=>e.id===t));console.log(a),this.localData.status_of_signatory=a?.status,this.localData.signatory_name=a?.name,this.localData.signatory_phone_number=a?.phoneContact}},customsDeclarationSectionTwo:{deep:!0,handler(e){this.localData={...e}}}}};const ql=(0,L.A)(Jl,[["render",Wl],["__scopeId","data-v-54aa40c3"]]);var Gl=ql;const Kl=e=>((0,n.Qi)("data-v-29e09914"),e=e(),(0,n.jt)(),e),Yl={class:"row"},Ml={class:"col-md-4"},jl={class:"form-group"},Hl=Kl((()=>(0,n.Lk)("label",{for:"netPrice"},[(0,n.Lk)("strong",null,"11(a) Net price in CURRENCY OF INVOICE")],-1))),Ql={class:"col-md-4"},Zl={class:"form-group"},zl=Kl((()=>(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1))),es=Kl((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Currency",-1))),ts=["value"],as={class:"col-md-4"},os={class:"form-group"},rs=Kl((()=>(0,n.Lk)("label",{for:"exchangeRate"},[(0,n.Lk)("strong",null,"Rate of exchange")],-1))),ns={class:"row"},ls={class:"col-md-6"},ss={class:"form-group"},is=Kl((()=>(0,n.Lk)("label",{for:"indirectPayments"},[(0,n.Lk)("strong",null,"11(b) Indirect payments - see box 8 (b)")],-1))),cs={class:"col-md-6"},us={class:"form-group"},ds=Kl((()=>(0,n.Lk)("label",{for:"totalNationalCurrency"},[(0,n.Lk)("strong",null,"12. TOTAL A in National Currency (TTS)")],-1))),ms={class:"row form-group"},ps=Kl((()=>(0,n.Lk)("label",{for:"costsIncurred"},[(0,n.Lk)("strong",null,"13. Costs incurred by the buyer")],-1))),hs={class:"col-md-4"},vs={class:"col-md-4"},ys={class:"col-md-4"},gs={class:"row"},fs=Kl((()=>(0,n.Lk)("label",{for:"goodsServices"},[(0,n.Lk)("strong",null,"14. Goods and services supplied by the buyer")],-1))),ks={class:"col-md-6"},bs={class:"col-md-6 form-group"},Ls={class:"row form-group"},Ds={class:"col-md-6"},_s=Kl((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"15. Royalties and licence fees")],-1))),Cs={class:"col-md-6"},Ss=Kl((()=>(0,n.Lk)("label",{for:"proceedsResale"},[(0,n.Lk)("strong",null,"16. Proceeds of any subsequent resale, disposal or use accruing to the seller")],-1))),xs={class:"row"},Ts=Kl((()=>(0,n.Lk)("label",{for:"costOfDelivery"},[(0,n.Lk)("strong",null,"17. Cost of delivery to Trinidad and Tobago")],-1))),Fs={class:"col-md-6"},Is={class:"form-group"},Es=Kl((()=>(0,n.Lk)("label",{for:"transport"},[(0,n.Lk)("strong",null,"Transport")],-1))),ws=["disabled"],As={class:"form-group"},Ns={class:"form-check"},Os=Kl((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeTransportInTotal"},"Transportation cost included in the invoice total",-1))),Ps={class:"form-group"},Bs=Kl((()=>(0,n.Lk)("label",{for:"loadingHandling"},[(0,n.Lk)("strong",null,"Loading and handling charges")],-1))),Vs={class:"col-md-6"},Us={class:"form-group"},Rs=Kl((()=>(0,n.Lk)("label",{for:"insurance"},[(0,n.Lk)("strong",null,"Insurance")],-1))),Xs=["disabled"],$s={class:"form-check"},Ws=Kl((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeInsuranceInTotal"},"Insurance cost included in the invoice total",-1))),Js={class:"form-group"},qs=Kl((()=>(0,n.Lk)("label",{for:"totalB"},[(0,n.Lk)("strong",null,"18. TOTAL B")],-1)));function Gs(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Yl,[(0,n.Lk)("div",Ml,[(0,n.Lk)("div",jl,[Hl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netPrice","onUpdate:modelValue":t[0]||(t[0]=e=>l.localData.netPrice=e),onInput:t[1]||(t[1]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.netPrice]])])]),(0,n.Lk)("div",Ql,[(0,n.Lk)("div",Zl,[zl,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>l.localData.invoiceCurrency=e),onChange:t[3]||(t[3]=e=>s.updateField("invoiceCurrency",e.target.value))},[es,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.currencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,ts)))),128))],544),[[r.u1,l.localData.invoiceCurrency]])])]),(0,n.Lk)("div",as,[(0,n.Lk)("div",os,[rs,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"exchangeRate","onUpdate:modelValue":t[4]||(t[4]=e=>l.localData.exchangeRate=e),onInput:t[5]||(t[5]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.exchangeRate]])])])]),(0,n.Lk)("div",ns,[(0,n.Lk)("div",ls,[(0,n.Lk)("div",ss,[is,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"indirectPayments","onUpdate:modelValue":t[6]||(t[6]=e=>l.localData.indirectPayments=e),onInput:t[7]||(t[7]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.indirectPayments]])])]),(0,n.Lk)("div",cs,[(0,n.Lk)("div",us,[ds,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalNationalCurrency","onUpdate:modelValue":t[8]||(t[8]=e=>l.localData.totalNationalCurrency=e),onInput:t[9]||(t[9]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.totalNationalCurrency]])])])]),(0,n.Lk)("div",ms,[ps,(0,n.Lk)("div",hs,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"commissions","onUpdate:modelValue":t[10]||(t[10]=e=>l.localData.commissions=e),placeholder:"commissions, except buying commissions",onInput:t[11]||(t[11]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.commissions]])]),(0,n.Lk)("div",vs,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"brokerage","onUpdate:modelValue":t[12]||(t[12]=e=>l.localData.brokerage=e),placeholder:"brokerage",onInput:t[13]||(t[13]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.brokerage]])]),(0,n.Lk)("div",ys,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containersPacking","onUpdate:modelValue":t[14]||(t[14]=e=>l.localData.containersPacking=e),placeholder:"containers and packing",onInput:t[15]||(t[15]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.containersPacking]])])]),(0,n.Lk)("div",gs,[fs,(0,n.Lk)("div",ks,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materials","onUpdate:modelValue":t[16]||(t[16]=e=>l.localData.materials=e),placeholder:"materials, component, parts incorporated in the good",onInput:t[17]||(t[17]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.materials]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"tools","onUpdate:modelValue":t[18]||(t[18]=e=>l.localData.tools=e),placeholder:"tools, dies, moulds used in the production",onInput:t[19]||(t[19]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.tools]])]),(0,n.Lk)("div",bs,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materialsConsumed","onUpdate:modelValue":t[20]||(t[20]=e=>l.localData.materialsConsumed=e),placeholder:"materials consumed in the production",onInput:t[21]||(t[21]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.materialsConsumed]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"engineering","onUpdate:modelValue":t[22]||(t[22]=e=>l.localData.engineering=e),placeholder:"engineering, development, artwork, design work",onInput:t[23]||(t[23]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.engineering]])])]),(0,n.Lk)("div",Ls,[(0,n.Lk)("div",Ds,[_s,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"royalties","onUpdate:modelValue":t[24]||(t[24]=e=>l.localData.royalties=e),onInput:t[25]||(t[25]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.royalties]])]),(0,n.Lk)("div",Cs,[Ss,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"proceedsResale","onUpdate:modelValue":t[26]||(t[26]=e=>l.localData.proceedsResale=e),onInput:t[27]||(t[27]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.proceedsResale]])])]),(0,n.Lk)("div",xs,[Ts,(0,n.Lk)("div",Fs,[(0,n.Lk)("div",Is,[Es,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"transport",disabled:l.localData.transportIncluded,"onUpdate:modelValue":t[28]||(t[28]=e=>l.localData.transport=e),placeholder:"transport",onInput:t[29]||(t[29]=(...e)=>s.updateSection&&s.updateSection(...e))},null,40,ws),[[r.Jo,l.localData.transport]])]),(0,n.Lk)("div",As,[(0,n.Lk)("div",Ns,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeTransportInTotal",onChange:t[30]||(t[30]=(...e)=>s.handleTransportCheckboxChange&&s.handleTransportCheckboxChange(...e))},null,32),Os])]),(0,n.Lk)("div",Ps,[Bs,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"loadingHandling","onUpdate:modelValue":t[31]||(t[31]=e=>l.localData.loadingHandling=e),placeholder:"loading and handling charges",onInput:t[32]||(t[32]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.loadingHandling]])])]),(0,n.Lk)("div",Vs,[(0,n.Lk)("div",Us,[Rs,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"insurance",disabled:l.localData.insuranceIncluded,"onUpdate:modelValue":t[33]||(t[33]=e=>l.localData.insurance=e),placeholder:"insurance",onInput:t[34]||(t[34]=(...e)=>s.updateSection&&s.updateSection(...e))},null,40,Xs),[[r.Jo,l.localData.insurance]])]),(0,n.Lk)("div",$s,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeInsuranceInTotal",onChange:t[35]||(t[35]=(...e)=>s.handleInsuranceCheckboxChange&&s.handleInsuranceCheckboxChange(...e))},null,32),Ws]),(0,n.Lk)("div",Js,[qs,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalB","onUpdate:modelValue":t[36]||(t[36]=e=>l.localData.totalB=e),onInput:t[37]||(t[37]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.totalB]])])])])])}var Ks={props:["customsDeclarationSectionThree"],name:"CustomsDeclarationSectionThree",data(){return{localData:this.customsDeclarationSectionThree,currencies:[{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"}]}},methods:{handleTransportCheckboxChange(e){this.localData.transportIncluded=e.target.checked,this.localData.transportIncluded&&(this.localData.transport=0),this.updateSection()},handleInsuranceCheckboxChange(e){this.localData.insuranceIncluded=e.target.checked,this.localData.insuranceIncluded&&(this.localData.insurance=0),this.updateSection()},updateField(e,t){this.localData[e]=t,this.updateSection()},updateSection(){this.$emit("update-section-three",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){console.log(this.localData.transportIncluded,e.transportIncluded),this.localData={...e};let t=(parseFloat(this.localData.netPrice)+parseFloat(this.localData.indirectPayments))*parseFloat(this.localData.exchangeRate),a=parseFloat(this.localData.transport)+parseFloat(this.localData.loadingHandling)+parseFloat(this.localData.insurance);console.log(t,a),this.localData.totalNationalCurrency=parseFloat(t).toFixed(2),this.localData.totalB=parseFloat(a).toFixed(2)}}}};const Ys=(0,L.A)(Ks,[["render",Gs],["__scopeId","data-v-29e09914"]]);var Ms=Ys;const js=e=>((0,n.Qi)("data-v-5dd1db7d"),e=e(),(0,n.jt)(),e),Hs={class:"row"},Qs={class:"col-md-6"},Zs={class:"form-group"},zs=js((()=>(0,n.Lk)("label",{for:"costAfterArrival"},[(0,n.Lk)("strong",null,"19. Cost of transport after arrival at place of introduction on importation")],-1))),ei={class:"form-group"},ti=js((()=>(0,n.Lk)("label",{for:"chargesAfterImportation"},[(0,n.Lk)("strong",null,"20. Charges for construction, erection, assembly, maintenance or technical assistance undertaken after importation")],-1))),ai={class:"form-group"},oi=js((()=>(0,n.Lk)("label",{for:"otherCharges"},[(0,n.Lk)("strong",null,"21. Other charges (specify)")],-1))),ri={class:"col-md-6"},ni={class:"form-group"},li=js((()=>(0,n.Lk)("label",{for:"customsDutiesTaxes"},[(0,n.Lk)("strong",null,"22. Customs duties and taxes payable in Trinidad and Tobago by reason of the importation or sale of the goods")],-1))),si={class:"form-group"},ii=js((()=>(0,n.Lk)("label",{for:"totalC"},[(0,n.Lk)("strong",null,"23. TOTAL C")],-1))),ci={class:"form-group"},ui=js((()=>(0,n.Lk)("label",{for:"valueDeclared"},[(0,n.Lk)("strong",null,"24. VALUE DECLARED (A + B - C)")],-1))),di={class:"mb-3"},mi=js((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"NOTES to Box 10")],-1))),pi=js((()=>(0,n.Lk)("p",null,"Declaration may be made by:",-1))),hi=js((()=>(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"(a) the actual importer if an individual;"),(0,n.Lk)("li",null,"(b) a partner in the case of partnership;"),(0,n.Lk)("li",null,"(c) a director or the secretary in the case of an incorporated Company"),(0,n.Lk)("li",null,"(d) any employee duly authorised in writing by one of the aforementioned persons.")],-1))),vi=js((()=>(0,n.Lk)("p",null,"(*): Where amounts are payable in FOREIGN CURRENCY, indicate in this section the amount in foreign currency and the rate of exchange by reference to each relevant element and item.",-1))),yi=js((()=>(0,n.Lk)("label",{for:"foreignCurrency",class:"form-label"},"Reference",-1)));function gi(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Hs,[(0,n.Lk)("div",Qs,[(0,n.Lk)("div",Zs,[zs,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"costAfterArrival","onUpdate:modelValue":t[0]||(t[0]=e=>l.localData.costAfterArrival=e),onInput:t[1]||(t[1]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.costAfterArrival]])]),(0,n.Lk)("div",ei,[ti,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"chargesAfterImportation","onUpdate:modelValue":t[2]||(t[2]=e=>l.localData.chargesAfterImportation=e),onInput:t[3]||(t[3]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.chargesAfterImportation]])]),(0,n.Lk)("div",ai,[oi,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"otherCharges","onUpdate:modelValue":t[4]||(t[4]=e=>l.localData.otherCharges=e),onInput:t[5]||(t[5]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.otherCharges]])])]),(0,n.Lk)("div",ri,[(0,n.Lk)("div",ni,[li,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"customsDutiesTaxes","onUpdate:modelValue":t[6]||(t[6]=e=>l.localData.customsDutiesTaxes=e),onInput:t[7]||(t[7]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.customsDutiesTaxes]])]),(0,n.Lk)("div",si,[ii,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalC","onUpdate:modelValue":t[8]||(t[8]=e=>l.localData.totalC=e),onInput:t[9]||(t[9]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.totalC]])]),(0,n.Lk)("div",ci,[ui,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"valueDeclared","onUpdate:modelValue":t[10]||(t[10]=e=>l.localData.valueDeclared=e),onInput:t[11]||(t[11]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.valueDeclared]])])])]),(0,n.Lk)("div",di,[mi,pi,hi,vi,yi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control mb-2",id:"foreignCurrency",placeholder:"11(a)","onUpdate:modelValue":t[12]||(t[12]=e=>l.localData.foreignCurrency=e),onInput:t[13]||(t[13]=(...e)=>s.updateSection&&s.updateSection(...e))},null,544),[[r.Jo,l.localData.foreignCurrency]])])])}var fi={props:["customsDeclarationSectionFour","customsDeclarationSectionThree"],name:"CustomsDeclarationSectionFour",data(){return{localData:this.customsDeclarationSectionFour}},methods:{updateSection(){this.$emit("update-section-four",this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){let t=(parseFloat(e.netPrice)+parseFloat(e.indirectPayments))*parseFloat(e.exchangeRate),a=parseFloat(e.transport)+parseFloat(e.loadingHandling)+parseFloat(e.insurance),o=t+parseFloat(a)-parseFloat(this.localData.totalC);this.localData.valueDeclared=parseFloat(o).toFixed(2)}},customsDeclarationSectionFour:{deep:!0,handler(e){this.localData={...e};let t=(parseFloat(this.customsDeclarationSectionThree.netPrice)+parseFloat(this.customsDeclarationSectionThree.indirectPayments))*parseFloat(this.customsDeclarationSectionThree.exchangeRate),a=parseFloat(this.customsDeclarationSectionThree.transport)+parseFloat(this.customsDeclarationSectionThree.loadingHandling)+parseFloat(this.customsDeclarationSectionThree.insurance),o=parseFloat(this.localData.costAfterArrival)+parseFloat(this.localData.chargesAfterImportation)+parseFloat(this.localData.otherCharges)+parseFloat(this.localData.customsDutiesTaxes);this.localData.totalC=parseFloat(o).toFixed(2);let r=t+a-parseFloat(o).toFixed(2);this.localData.valueDeclared=r.toFixed(2)}}}};const ki=(0,L.A)(fi,[["render",gi],["__scopeId","data-v-5dd1db7d"]]);var bi=ki,Li={name:"CustomsDeclarationForm",components:{CustomsDeclarationSectionOne:Jn,CustomsDeclarationSectionTwo:Gl,CustomsDeclarationSectionThree:Ms,CustomsDeclarationSectionFour:bi},props:{entryId:{type:[String,Number],required:!0},buyerId:{type:[String,Number],required:!0},sellerId:{type:[String,Number],required:!0},invoiceNumber:{type:[String,Number],required:!0},invoiceTotal:{type:[String,Number],required:!0},currency:{type:[String,Number],required:!0},rateOfExchange:{type:[String,Number],required:!0},freight:{type:[String,Number],required:!0},insurance:{type:[String,Number],required:!0}},mounted(){this.syncData(),this.currencies=Et(),this.getCountries()},data(){return{newC75:!0,entryNumber:"",currencies:[],countries:[],form:{customsDeclarationSectionOne:{sellers:[],buyers:[],declarants:[],sellerNameAddress:"",buyerNameAddress:"",declarantNameAddress:""},customsDeclarationSectionTwo:{date_signed:this.getCurrentDate(),relatedParties:"no",influencePrice:"no",transactionValueApproximate:"no",restrictions:"no",conditions:"no",royalties:"no",resale_disposal_boolean:"no"},customsDeclarationSectionThree:{totalNationalCurrency:0,netPrice:0,indirectPayments:0,exchangeRate:1,transport:0,loadingHandling:0,insurance:0,totalB:0,transportIncluded:!1,insuranceIncluded:!1,invoiceCurrency:"USD"},customsDeclarationSectionFour:{costAfterArrival:0,chargesAfterImportation:0,otherCharges:0,customsDutiesTaxes:0,totalC:0,valueDeclared:0}}}},methods:{save75Declaration(){this.newC75?this.create75Declaration():this.updateC75Declaration()},getCountries(){ze().then((e=>{this.countries=e})).catch((e=>{console.error("Failed to get countries:",e)}))},getCurrentDate(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${o}-${a}-${t}`},async create75Declaration(){console.log("Saving C75 Declaration...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),a=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),o=e?`${e.name} \n ${e.address}`:"",r=t?`${t.name} \n ${t.address}`:"",n=a?`${a.name} \n ${a.address}`:"",l=a?a.status:"",s=a?.phone?a.phone:"",i=a?a.name:"";St("Saving Data...");const c={sellerNameAddress:o,buyerNameAddress:r,declarantNameAddress:n,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:l,signatory_phone_number:s,signatory_name:i,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:"",cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",entryId:this.entryId};try{console.log("Saving customs declaration..."),await Ke(c),_t(),Dt("All Data Saved successfully!"),console.log("Customs declaration saved successfully."),this.newC75=!1}catch(u){Ct("Failed to save Entry Data!"),console.error("Failed to save the declaration:",u)}},prepareDeclarationObject(){console.log("Prearing Declaration Object...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),a=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),o=e.country?this.countries.find((t=>t.code===e.country))?.name:"",r=t.country?this.countries.find((e=>e.code===t.country))?.name:"",n=e?`${e.name}\n${e.address}, ${o}`:"",l=t?`${t.name}\n${t.address}, ${r}`:"",s=a?`${a.name}\n${a.address}\n${a.country}`:"",i=a?a.status:"",c=a?.phoneContact?a.phoneContact:"",u=a?a.name:"",d=this.currencies.find((e=>e.code===this.form.customsDeclarationSectionThree.invoiceCurrency)),m=d?d.name:"",p=void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:0,h=void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:1,v=parseFloat(p);console.log("Transport Converted:",v,p,h),console.log("Selected Seller:",e),console.log("Selected Buyer:",t),console.log("Selected Declarant:",a);let y={sellerNameAddress:n,buyerNameAddress:l,declarantNameAddress:s,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:i,signatory_phone_number:void 0!==c?c:"",signatory_name:u,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:v.toFixed(2),cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",transportIncluded:void 0!==this.form.customsDeclarationSectionThree.transportIncluded?this.form.customsDeclarationSectionThree.transportIncluded:"",insuranceIncluded:void 0!==this.form.customsDeclarationSectionThree.insuranceIncluded?this.form.customsDeclarationSectionThree.insuranceIncluded:"",invoice_currency:void 0!==m?m:""};return console.log(y),y},async generateC75Declaration(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),St("Generating customs declaration...");const t=await qe(e);_t(),Dt("C75 Generated Successfully!");const a=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),o=document.createElement("a");o.href=a;const r=`Customs Declaration - ${this.entryNumber}.pdf`;o.setAttribute("download",r),document.body.appendChild(o),o.click(),o.remove()}catch(t){Ct("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async generatePreSignedValuation(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),St("Generating customs declaration...");const t=await Ge(e);_t(),Dt("C75 Generated Successfully!");const a=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),o=document.createElement("a");o.href=a;const r=`Customs Declaration - ${this.entryNumber}.pdf`;o.setAttribute("download",r),document.body.appendChild(o),o.click(),o.remove()}catch(t){Ct("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async updateC75Declaration(){console.log("Updating C75 Declaration...");const e=this.prepareDeclarationObject();try{St("Saving Data..."),console.log("Updating customs declaration..."),await Ze(this.entryId,e),_t(),Dt("All Data Saved successfully!"),console.log("Customs declaration updated successfully.")}catch(t){Ct("Failed to save Entry Data!"),console.error("Failed to update the declaration:",t)}},async fetchCustomsDeclarations(){try{console.log("Getting C75 Entry...");const e=await Ye(this.entryId);if(206===e.status)return console.log("No C75 Entry found."),this.newC75=!0,this.form.customsDeclarationSectionThree.netPrice=e.data.invoiceTotal,this.form.customsDeclarationSectionOne.invoiceNumber=e.data.invoiceNumbers,this.form.customsDeclarationSectionThree.exchangeRate=e.data.rate_of_exchange,this.entryNumber=e.data.entry_number?e.data.entry_number:"",void console.log("Entry Number:",this.entryNumber);this.newC75=!1,console.log("C75 Entry found."),this.updateFields(e.data)}catch(e){console.error("Failed to get the C75 Entry:",e)}},syncData(){this.form.customsDeclarationSectionOne.buyerId=parseInt(this.$route.query.buyerId),this.form.customsDeclarationSectionOne.sellerId=parseInt(this.$route.query.sellerId),this.form.customsDeclarationSectionOne.invoiceNumber=this.$route.query.invoiceNumber,this.form.customsDeclarationSectionThree.netPrice=this.$route.query.invoiceTotal,this.form.customsDeclarationSectionThree.invoiceCurrency=this.$route.query.currency,this.form.customsDeclarationSectionThree.exchangeRate=this.$route.query.rateOfExchange,this.form.customsDeclarationSectionThree.transport=this.$route.query.freight,this.form.customsDeclarationSectionThree.insurance=this.$route.query.insurance,this.form.customsDeclarationSectionOne.termsOfDelivery=this.$route.query.incoTerms?this.$route.query.incoTerms:""},convertTinyIntoString(e){return 1===e?"yes":"no"},updateFields(e){console.log("Updating fields..."),this.form.customsDeclarationSectionOne.sellerNameAddress=e.seller_name_and_address,this.form.customsDeclarationSectionOne.buyerNameAddress=e.buyer_name_address,this.form.customsDeclarationSectionOne.declarantNameAddress=e.declarant_name_address,this.form.customsDeclarationSectionOne.termsOfDelivery=e.terms_of_delivery,this.form.customsDeclarationSectionOne.contractNumber=e.name_date_contract,this.form.customsDeclarationSectionOne.invoiceNumber=e.invoiceNumbers,this.form.customsDeclarationSectionOne.sellerId=e.seller_id,this.form.customsDeclarationSectionOne.buyerId=e.buyer_id,this.form.customsDeclarationSectionOne.declarantId=e.declarant_id,this.form.customsDeclarationSectionTwo.relatedParties=this.convertTinyIntoString(e.related_parties_boolean),this.form.customsDeclarationSectionTwo.influencePrice=this.convertTinyIntoString(e.influence_price_boolean),this.form.customsDeclarationSectionTwo.transactionValueApproximate=this.convertTinyIntoString(e.transaction_value_approximate_boolean),this.form.customsDeclarationSectionTwo.restrictions=this.convertTinyIntoString(e.restrictions_disposal_boolean),this.form.customsDeclarationSectionTwo.conditions=this.convertTinyIntoString(e.sale_price_condition_boolean),this.form.customsDeclarationSectionTwo.royalties=this.convertTinyIntoString(e.royalties_boolean),this.form.customsDeclarationSectionTwo.resale_disposal_boolean=this.convertTinyIntoString(e.resale_disposal_boolean),this.form.customsDeclarationSectionTwo.date_signed=e.date_signed,this.form.customsDeclarationSectionTwo.status_of_signatory=e.status_of_signatory,this.form.customsDeclarationSectionTwo.signatory_phone_number=e.signatory_phone_number,this.form.customsDeclarationSectionTwo.signatory_name=e.signatory_name,this.form.customsDeclarationSectionThree.netPrice=e.invoiceTotal,this.form.customsDeclarationSectionThree.indirectPayment=e.indirect_payment,this.form.customsDeclarationSectionThree.exchangeRate=e.rate_of_exchange,this.form.customsDeclarationSectionThree.commissions=e.costs_commissions,this.form.customsDeclarationSectionThree.brokerage=e.costs_brokerage,this.form.customsDeclarationSectionThree.containersPacking=e.costs_containers_packing,this.form.customsDeclarationSectionThree.materials=e.goods_free_of_charge_materials,this.form.customsDeclarationSectionThree.tools=e.goods_free_of_charge_tools,this.form.customsDeclarationSectionThree.materialsConsumed=e.goods_free_of_charge_materials_consumed,this.form.customsDeclarationSectionThree.engineering=e.goods_engineering_development,this.form.customsDeclarationSectionThree.royalties=e.royalties_license_fee,this.form.customsDeclarationSectionThree.proceedsResale=e.procees_resale_disposal,this.form.customsDeclarationSectionThree.transport=e.cost_delivery_transport,this.form.customsDeclarationSectionThree.loadingHandling=e.cost_delivery_loading,this.form.customsDeclarationSectionThree.insurance=e.cost_delivery_insurance,this.form.customsDeclarationSectionFour.costAfterArrival=e.cost_transport_after_arrival,this.form.customsDeclarationSectionFour.chargesAfterImportation=e.charges_construction,this.form.customsDeclarationSectionFour.otherCharges=e.other_charges,this.form.customsDeclarationSectionFour.customsDutiesTaxes=e.customs_duties_taxes}}};const Di=(0,L.A)(Li,[["render",tn],["__scopeId","data-v-17a45262"]]);var _i=Di;const Ci=e=>((0,n.Qi)("data-v-440d5039"),e=e(),(0,n.jt)(),e),Si={class:"buyers-page"},xi=Ci((()=>(0,n.Lk)("h1",null,"Importers List",-1))),Ti={class:"row"},Fi={class:"col-md-2"},Ii={class:"form-group"},Ei=Ci((()=>(0,n.Lk)("label",{for:"buyerName"},[(0,n.Lk)("strong",null,"Name")],-1))),wi={class:"col-md-2"},Ai={class:"form-group"},Ni=Ci((()=>(0,n.Lk)("label",{for:"buyerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),Oi={class:"col-md-2"},Pi={class:"form-group"},Bi=Ci((()=>(0,n.Lk)("label",{for:"buyerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),Vi={class:"col-md-2"},Ui={class:"form-group"},Ri=Ci((()=>(0,n.Lk)("label",{for:"buyerCity"},[(0,n.Lk)("strong",null,"City")],-1))),Xi={class:"col-md-2"},$i={class:"form-group"},Wi=Ci((()=>(0,n.Lk)("label",{for:"buyerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),Ji=Ci((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),qi=["value"],Gi=Ci((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add New Importer")])],-1))),Ki={class:"table table-striped"},Yi=Ci((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country")])],-1))),Mi={scope:"row"};function ji(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",Si,[xi,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>s.addBuyer&&s.addBuyer(...e)),["prevent"]))},[(0,n.Lk)("div",Ti,[(0,n.Lk)("div",Fi,[(0,n.Lk)("div",Ii,[Ei,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerName",placeholder:"Please Enter Buyer Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.buyerName=e)},null,512),[[r.Jo,l.buyerName]])])]),(0,n.Lk)("div",wi,[(0,n.Lk)("div",Ai,[Ni,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>l.buyerAddressLine1=e)},null,512),[[r.Jo,l.buyerAddressLine1]])])]),(0,n.Lk)("div",Oi,[(0,n.Lk)("div",Pi,[Bi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>l.buyerAddressLine2=e)},null,512),[[r.Jo,l.buyerAddressLine2]])])]),(0,n.Lk)("div",Vi,[(0,n.Lk)("div",Ui,[Ri,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>l.buyerCity=e)},null,512),[[r.Jo,l.buyerCity]])])]),(0,n.Lk)("div",Xi,[(0,n.Lk)("div",$i,[Wi,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>l.buyerCountry=e),id:"buyerCountry"},[Ji,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.name},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,qi)))),128))],512),[[r.u1,l.buyerCountry]])])]),Gi])],32),(0,n.Lk)("table",Ki,[Yi,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Mi,(0,S.v_)(t+1),1),(0,n.Lk)("td",null,(0,S.v_)(e.name),1),(0,n.Lk)("td",null,(0,S.v_)(e.address),1),(0,n.Lk)("td",null,(0,S.v_)(e.country),1)])))),128))])])])}var Hi={name:"BuyersPage",data(){return{buyers:[],countries:[],buyerName:"",buyerAddressLine1:"",buyerAddressLine2:"",buyerCity:"",buyerCountry:""}},methods:{async getBuyers(){this.buyers=await Me(),console.log(this.buyers)},async addBuyer(){const e={name:this.buyerName,address:`${this.buyerAddressLine1}\n${this.buyerAddressLine2}\n${this.buyerCity}`,country:this.buyerCountry};St("Adding Buyer"),et(e).then((()=>{this.buyerName="",this.buyerAddressLine1="",this.buyerAddressLine2="",this.buyerCity="",this.buyerCountry="",Dt("Buyer Added Successfully"),this.getBuyers()})).catch((e=>{Ct("Failed to Add Buyer",e)}))},async getCountries(){this.countries=await ze(),console.log("Countries",this.contries)}},mounted(){this.getBuyers(),this.getCountries()}};const Qi=(0,L.A)(Hi,[["render",ji],["__scopeId","data-v-440d5039"]]);var Zi=Qi;const zi=e=>((0,n.Qi)("data-v-f2824116"),e=e(),(0,n.jt)(),e),ec={class:"sellers-page"},tc=zi((()=>(0,n.Lk)("h1",null,"Shippers List",-1))),ac={class:"row"},oc={class:"col-md-2"},rc={class:"form-group"},nc=zi((()=>(0,n.Lk)("label",{for:"sellerName"},[(0,n.Lk)("strong",null,"Name")],-1))),lc={class:"col-md-2"},sc={class:"form-group"},ic=zi((()=>(0,n.Lk)("label",{for:"sellerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),cc={class:"col-md-2"},uc={class:"form-group"},dc=zi((()=>(0,n.Lk)("label",{for:"sellerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),mc={class:"col-md-2"},pc={class:"form-group"},hc=zi((()=>(0,n.Lk)("label",{for:"sellerCity"},[(0,n.Lk)("strong",null,"City")],-1))),vc={class:"col-md-2"},yc={class:"form-group"},gc=zi((()=>(0,n.Lk)("label",{for:"sellerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),fc=zi((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),kc=["value"],bc=zi((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add New Shipper")])],-1))),Lc={class:"table table-striped"},Dc=zi((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country")])],-1))),_c={scope:"row"};function Cc(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",ec,[tc,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[5]||(t[5]=(0,r.D$)(((...e)=>s.addSeller&&s.addSeller(...e)),["prevent"]))},[(0,n.Lk)("div",ac,[(0,n.Lk)("div",oc,[(0,n.Lk)("div",rc,[nc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerName",placeholder:"Please Enter Seller Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.sellerName=e)},null,512),[[r.Jo,l.sellerName]])])]),(0,n.Lk)("div",lc,[(0,n.Lk)("div",sc,[ic,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>l.sellerAddressLine1=e)},null,512),[[r.Jo,l.sellerAddressLine1]])])]),(0,n.Lk)("div",cc,[(0,n.Lk)("div",uc,[dc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>l.sellerAddressLine2=e)},null,512),[[r.Jo,l.sellerAddressLine2]])])]),(0,n.Lk)("div",mc,[(0,n.Lk)("div",pc,[hc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>l.sellerCity=e)},null,512),[[r.Jo,l.sellerCity]])])]),(0,n.Lk)("div",vc,[(0,n.Lk)("div",yc,[gc,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>l.sellerCountry=e),id:"sellerCountry"},[fc,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,S.v_)(e.code)+" - "+(0,S.v_)(e.name),9,kc)))),128))],512),[[r.u1,l.sellerCountry]])])]),bc])],32),(0,n.Lk)("table",Lc,[Dc,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",_c,(0,S.v_)(t+1),1),(0,n.Lk)("td",null,(0,S.v_)(e.name),1),(0,n.Lk)("td",null,(0,S.v_)(e.address),1),(0,n.Lk)("td",null,(0,S.v_)(e.country),1)])))),128))])])])}var Sc={name:"SellersPage",data(){return{sellers:[],countries:[],sellerName:"",sellerAddressLine1:"",sellerAddressLine2:"",sellerCity:"",sellerCountry:""}},methods:{async getSellers(){this.sellers=await Qe()},async getContries(){this.countries=await ze()},async addSeller(){const e={name:this.sellerName,address:`${this.sellerAddressLine1}\n${this.sellerAddressLine2}\n${this.sellerCity}`,country:this.sellerCountry,phoneContact:"",emailContact:""};console.log("Seller",e),St("Saving Data..."),tt(e).then((()=>{this.sellerName="",this.sellerAddressLine1="",this.sellerAddressLine2="",this.sellerCity="",this.sellerCountry="",this.getSellers(),Dt("Shipper added successfully")})).catch((e=>{Ct("Error adding shipper",e)}))}},mounted(){this.getSellers(),this.getContries()}};const xc=(0,L.A)(Sc,[["render",Cc],["__scopeId","data-v-f2824116"]]);var Tc=xc;const Fc=e=>((0,n.Qi)("data-v-26e81b34"),e=e(),(0,n.jt)(),e),Ic={class:"declarants-page"},Ec=Fc((()=>(0,n.Lk)("h1",null,"Declarants List",-1))),wc={class:"row"},Ac={class:"col-md-2"},Nc={class:"form-group"},Oc=Fc((()=>(0,n.Lk)("label",{for:"declarantName"},[(0,n.Lk)("strong",null,"Name")],-1))),Pc={class:"col-md-2"},Bc={class:"form-group"},Vc=Fc((()=>(0,n.Lk)("label",{for:"declarantAddressLine1"},[(0,n.Lk)("strong",null,"Address Line")],-1))),Uc={class:"col-md-2"},Rc={class:"form-group"},Xc=Fc((()=>(0,n.Lk)("label",{for:"declarantAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),$c={class:"col-md-1"},Wc={class:"form-group"},Jc=Fc((()=>(0,n.Lk)("label",{for:"declarantCity"},[(0,n.Lk)("strong",null,"City")],-1))),qc={class:"col-md-1"},Gc={class:"form-group"},Kc=Fc((()=>(0,n.Lk)("label",{for:"declarantCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),Yc=Fc((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),Mc=["value"],jc={class:"col-md-2"},Hc={class:"form-group"},Qc=Fc((()=>(0,n.Lk)("label",{for:"declarantStatus"},[(0,n.Lk)("strong",null,"Status")],-1))),Zc=Fc((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add New Declarant")])],-1))),zc={class:"table table-striped"},eu=Fc((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"Status")])],-1))),tu={scope:"row"};function au(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",Ic,[Ec,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>s.addDeclarant&&s.addDeclarant(...e)),["prevent"]))},[(0,n.Lk)("div",wc,[(0,n.Lk)("div",Ac,[(0,n.Lk)("div",Nc,[Oc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantName",placeholder:"Please Enter Declarant Name","onUpdate:modelValue":t[0]||(t[0]=e=>l.declarantName=e)},null,512),[[r.Jo,l.declarantName]])])]),(0,n.Lk)("div",Pc,[(0,n.Lk)("div",Bc,[Vc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine1",placeholder:"Please Enter Address Line","onUpdate:modelValue":t[1]||(t[1]=e=>l.declarantAddressLine1=e)},null,512),[[r.Jo,l.declarantAddressLine1]])])]),(0,n.Lk)("div",Uc,[(0,n.Lk)("div",Rc,[Xc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>l.declarantAddressLine2=e)},null,512),[[r.Jo,l.declarantAddressLine2]])])]),(0,n.Lk)("div",$c,[(0,n.Lk)("div",Wc,[Jc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>l.declarantCity=e)},null,512),[[r.Jo,l.declarantCity]])])]),(0,n.Lk)("div",qc,[(0,n.Lk)("div",Gc,[Kc,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>l.declarantCountry=e),id:"declarantCountry"},[Yc,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.name},(0,S.v_)(e.name),9,Mc)))),128))],512),[[r.u1,l.declarantCountry]])])]),(0,n.Lk)("div",jc,[(0,n.Lk)("div",Hc,[Qc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantStatus",placeholder:"Please Enter Status","onUpdate:modelValue":t[5]||(t[5]=e=>l.declarantStatus=e)},null,512),[[r.Jo,l.declarantStatus]])])]),Zc])],32),(0,n.Lk)("table",zc,[eu,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",tu,(0,S.v_)(t+1),1),(0,n.Lk)("td",null,(0,S.v_)(e.name),1),(0,n.Lk)("td",null,(0,S.v_)(e.address),1),(0,n.Lk)("td",null,(0,S.v_)(e.country),1),(0,n.Lk)("td",null,(0,S.v_)(e.status),1)])))),128))])])])}var ou={name:"DeclarantsPage",data(){return{declarants:[],countries:[],declarantName:"",declarantAddressLine1:"",declarantAddressLine2:"",declarantCity:"",declarantCountry:"",declarantStatus:""}},methods:{async getDeclarants(){this.declarants=await je()},async getContries(){this.countries=await ze()},async addDeclarant(){const e={name:this.declarantName,address:`${this.declarantAddressLine1}\n${this.declarantAddressLine2}`,city:this.declarantCity,country:this.declarantCountry,status:this.declarantStatus};St("Adding Declarant..."),at(e).then((()=>{this.declarantName="",this.declarantAddressLine1="",this.declarantAddressLine2="",this.declarantCity="",this.declarantCountry="",this.declarantStatus="",Dt("Declarant Added Successfully"),this.getDeclarants()})).catch((e=>{Ct("Failed to Add Declarant",e)}))}},mounted(){this.getDeclarants(),this.getContries()}};const ru=(0,L.A)(ou,[["render",au],["__scopeId","data-v-26e81b34"]]);var nu=ru;const lu=[{path:"/",name:"NewEntry",component:wo},{path:"/view-entries",name:"ViewEntries",component:Xo},{path:"/entries/:entryId",name:"EntryDetails",component:Hr,props:!0},{path:"/customs-declaration/:entryId",name:"CustomsDeclarationForm",component:_i,props:!0},{path:"/buyers",name:"BuyersPage",component:Zi},{path:"/sellers",name:"SellersPage",component:Tc},{path:"/declarants",name:"DeclarantsPage",component:nu}],su=(0,C.aE)({history:(0,C.LA)(),routes:lu});var iu=su;(0,r.Ef)(_).use(iu).mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,n){if(!o){var l=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],n=e[u][2];for(var s=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(s=!1,n<l&&(l=n));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,l=o[0],s=o[1],i=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var u=i(a)}for(t&&t(o);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunkasycuda_xml_automation"]=self["webpackChunkasycuda_xml_automation"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(1642)}));o=a.O(o)})();
//# sourceMappingURL=app.f0bb3309.js.map