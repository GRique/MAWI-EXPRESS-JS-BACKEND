(function(){var e={5358:function(e,t,o){var a={"./af":2190,"./af.js":2190,"./ar":7218,"./ar-dz":5785,"./ar-dz.js":5785,"./ar-kw":9417,"./ar-kw.js":9417,"./ar-ly":6904,"./ar-ly.js":6904,"./ar-ma":8617,"./ar-ma.js":8617,"./ar-ps":1318,"./ar-ps.js":1318,"./ar-sa":2699,"./ar-sa.js":2699,"./ar-tn":6789,"./ar-tn.js":6789,"./ar.js":7218,"./az":3050,"./az.js":3050,"./be":8316,"./be.js":8316,"./bg":310,"./bg.js":310,"./bm":8884,"./bm.js":8884,"./bn":3469,"./bn-bd":6672,"./bn-bd.js":6672,"./bn.js":3469,"./bo":9118,"./bo.js":9118,"./br":3113,"./br.js":3113,"./bs":3626,"./bs.js":3626,"./ca":921,"./ca.js":921,"./cs":7799,"./cs.js":7799,"./cv":2828,"./cv.js":2828,"./cy":3521,"./cy.js":3521,"./da":6962,"./da.js":6962,"./de":3294,"./de-at":6158,"./de-at.js":6158,"./de-ch":5960,"./de-ch.js":5960,"./de.js":3294,"./dv":7963,"./dv.js":7963,"./el":3432,"./el.js":3432,"./en-au":998,"./en-au.js":998,"./en-ca":5931,"./en-ca.js":5931,"./en-gb":5930,"./en-gb.js":5930,"./en-ie":8081,"./en-ie.js":8081,"./en-il":1594,"./en-il.js":1594,"./en-in":3904,"./en-in.js":3904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":9409,"./en-sg.js":9409,"./eo":2177,"./eo.js":2177,"./es":4805,"./es-do":9155,"./es-do.js":9155,"./es-mx":9791,"./es-mx.js":9791,"./es-us":6098,"./es-us.js":6098,"./es.js":4805,"./et":6240,"./et.js":6240,"./eu":391,"./eu.js":391,"./fa":612,"./fa.js":612,"./fi":4220,"./fi.js":4220,"./fil":5570,"./fil.js":5570,"./fo":5466,"./fo.js":5466,"./fr":4461,"./fr-ca":6306,"./fr-ca.js":6306,"./fr-ch":7081,"./fr-ch.js":7081,"./fr.js":4461,"./fy":3484,"./fy.js":3484,"./ga":6957,"./ga.js":6957,"./gd":2978,"./gd.js":2978,"./gl":9866,"./gl.js":9866,"./gom-deva":5011,"./gom-deva.js":5011,"./gom-latn":4724,"./gom-latn.js":4724,"./gu":1601,"./gu.js":1601,"./he":9802,"./he.js":9802,"./hi":9358,"./hi.js":9358,"./hr":3907,"./hr.js":3907,"./hu":218,"./hu.js":218,"./hy-am":533,"./hy-am.js":533,"./id":2844,"./id.js":2844,"./is":7353,"./is.js":7353,"./it":6364,"./it-ch":774,"./it-ch.js":774,"./it.js":6364,"./ja":3627,"./ja.js":3627,"./jv":8221,"./jv.js":8221,"./ka":2417,"./ka.js":2417,"./kk":2071,"./kk.js":2071,"./km":6149,"./km.js":6149,"./kn":4572,"./kn.js":4572,"./ko":659,"./ko.js":659,"./ku":6285,"./ku-kmr":9398,"./ku-kmr.js":9398,"./ku.js":6285,"./ky":1609,"./ky.js":1609,"./lb":119,"./lb.js":119,"./lo":1748,"./lo.js":1748,"./lt":1973,"./lt.js":1973,"./lv":1347,"./lv.js":1347,"./me":3023,"./me.js":3023,"./mi":5747,"./mi.js":5747,"./mk":4341,"./mk.js":4341,"./ml":3840,"./ml.js":3840,"./mn":2058,"./mn.js":2058,"./mr":9182,"./mr.js":9182,"./ms":5197,"./ms-my":9136,"./ms-my.js":9136,"./ms.js":5197,"./mt":6408,"./mt.js":6408,"./my":1683,"./my.js":1683,"./nb":3141,"./nb.js":3141,"./ne":9344,"./ne.js":9344,"./nl":4703,"./nl-be":4641,"./nl-be.js":4641,"./nl.js":4703,"./nn":9873,"./nn.js":9873,"./oc-lnc":1217,"./oc-lnc.js":1217,"./pa-in":4612,"./pa-in.js":4612,"./pl":4457,"./pl.js":4457,"./pt":1089,"./pt-br":9146,"./pt-br.js":9146,"./pt.js":1089,"./ro":5950,"./ro.js":5950,"./ru":7292,"./ru.js":7292,"./sd":6774,"./sd.js":6774,"./se":7493,"./se.js":7493,"./si":3761,"./si.js":3761,"./sk":9711,"./sk.js":9711,"./sl":8558,"./sl.js":8558,"./sq":8633,"./sq.js":8633,"./sr":688,"./sr-cyrl":7903,"./sr-cyrl.js":7903,"./sr.js":688,"./ss":1991,"./ss.js":1991,"./sv":7020,"./sv.js":7020,"./sw":5891,"./sw.js":5891,"./ta":5714,"./ta.js":5714,"./te":206,"./te.js":206,"./tet":4768,"./tet.js":4768,"./tg":8276,"./tg.js":8276,"./th":7977,"./th.js":7977,"./tk":6928,"./tk.js":6928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":1361,"./tlh.js":1361,"./tr":4367,"./tr.js":4367,"./tzl":627,"./tzl.js":627,"./tzm":2636,"./tzm-latn":8148,"./tzm-latn.js":8148,"./tzm.js":2636,"./ug-cn":8823,"./ug-cn.js":8823,"./uk":461,"./uk.js":461,"./ur":1366,"./ur.js":1366,"./uz":3454,"./uz-latn":8374,"./uz-latn.js":8374,"./uz.js":3454,"./vi":8572,"./vi.js":8572,"./x-pseudo":464,"./x-pseudo.js":464,"./yo":3709,"./yo.js":3709,"./zh-cn":5873,"./zh-cn.js":5873,"./zh-hk":7549,"./zh-hk.js":7549,"./zh-mo":2240,"./zh-mo.js":2240,"./zh-tw":405,"./zh-tw.js":405};function r(e){var t=n(e);return o(t)}function n(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=5358},8275:function(e,t,o){"use strict";var a={};o.r(a),o.d(a,{A:function(){return Eo},h:function(){return Fo}});var r=o(5130),n=o(6768);const s={id:"app"},i={class:"navbar navbar-expand-lg navbar-dark bg-primary"},l={class:"container-fluid"},c=(0,n.Lk)("a",{class:"navbar-brand",href:"#"},"M.A.R.Y.",-1),u=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarNavDropdown"},m={class:"navbar-nav"},h={class:"nav-item dropdown"},p=(0,n.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," New Entry ",-1),y={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},g={class:"nav-item"},f={class:"nav-item"},v={class:"nav-item dropdown"},b=(0,n.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Configuration ",-1),k={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"};function L(e,t,o,a,r,L){const C=(0,n.g2)("router-link"),D=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("nav",i,[(0,n.Lk)("div",l,[c,u,(0,n.Lk)("div",d,[(0,n.Lk)("ul",m,[(0,n.Lk)("li",h,[p,(0,n.Lk)("ul",y,[(0,n.bF)(C,{class:"dropdown-item",to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("Standard Entry")])),_:1}),(0,n.bF)(C,{class:"dropdown-item",to:"/create-vehicle-entry"},{default:(0,n.k6)((()=>[(0,n.eW)("Vehicle Entry")])),_:1})])]),(0,n.Lk)("li",g,[(0,n.bF)(C,{class:"nav-link",to:"/view-entries"},{default:(0,n.k6)((()=>[(0,n.eW)("Entry List")])),_:1})]),(0,n.Lk)("li",f,[(0,n.bF)(C,{class:"nav-link",to:"/approved-classification-entries"},{default:(0,n.k6)((()=>[(0,n.eW)("Classified Entries")])),_:1})]),(0,n.Lk)("li",v,[b,(0,n.Lk)("ul",k,[(0,n.bF)(C,{class:"dropdown-item",to:"/buyers"},{default:(0,n.k6)((()=>[(0,n.eW)("Importers")])),_:1}),(0,n.bF)(C,{class:"dropdown-item",to:"/sellers"},{default:(0,n.k6)((()=>[(0,n.eW)("Shippers")])),_:1}),(0,n.bF)(C,{class:"dropdown-item",to:"/declarants"},{default:(0,n.k6)((()=>[(0,n.eW)("Declarants")])),_:1}),(0,n.bF)(C,{class:"dropdown-item",to:"/vessels"},{default:(0,n.k6)((()=>[(0,n.eW)("Vessels")])),_:1}),(0,n.bF)(C,{class:"dropdown-item",to:"/rate-of-exchange"},{default:(0,n.k6)((()=>[(0,n.eW)("Rates Of Exchnage")])),_:1})])])])])])]),(0,n.bF)(D)])}var C={name:"App",components:{}},D=o(1241);const _=(0,D.A)(C,[["render",L]]);var E=_,F=o(1387),x=o(4232);const T={id:"app"},S={class:"row"},I=(0,n.Lk)("div",{class:"col-md-10"},null,-1),O={class:"col-md-2"},A={class:"badge-container"},N=(0,n.Lk)("h2",null,"New Entry",-1),w={class:"row"},P=(0,n.Lk)("div",{class:"col-md-5"},null,-1),R={class:"col-md-2"},V=(0,n.Lk)("div",{class:"col-md-5"},null,-1),U={key:0},B=(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onclick:"document.querySelector('input[type=file]').click()"},"Choose Files",-1),j=(0,n.Lk)("h3",null,"Header Information",-1),$={class:"form-row"},W={class:"row"},X={class:"col-md-3"},G=(0,n.Lk)("label",{for:"InvoiceNumber"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),M=["onUpdate:modelValue"],J={class:"col-md-3"},q=(0,n.Lk)("label",{for:"SupplierName"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),Y=["onUpdate:modelValue"],H={class:"col-md-2"},K=(0,n.Lk)("label",{for:"InvoiceDate"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),z=["onUpdate:modelValue"],Q={class:"col-md-2"},Z=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),ee={class:"col-md-2"},te=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),oe=["onUpdate:modelValue"],ae=(0,n.Lk)("h3",null,"Line Details",-1),re=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Duty"),(0,n.Lk)("th",null,"VAT"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Actions")])],-1),ne=["onBlur"],se=["onBlur"],ie=["onInput","onBlur"],le=["onBlur"],ce=["onBlur"],ue=["onBlur"],de=["onClick"],me={key:0},he=(0,n.Lk)("i",{class:"fas fa-chevron-up",style:{color:"gray"}},null,-1),pe=[he],ye={key:1},ge=(0,n.Lk)("i",{class:"fas fa-chevron-down",style:{color:"gray"}},null,-1),fe=[ge],ve={key:0},be={colspan:"10"},ke={class:"row"},Le={class:"col-md-4"},Ce=(0,n.Lk)("label",{for:"countryOfOrigin",class:"form-label"},[(0,n.Lk)("strong",null,"Country of Origin")],-1),De={class:"col-md-4"},_e=(0,n.Lk)("label",{for:"cpcCode",class:"form-label"},[(0,n.Lk)("strong",null,"CPC Code")],-1),Ee={class:"col-md-3"},Fe=(0,n.Lk)("label",{for:"npcCode",class:"form-label"},[(0,n.Lk)("strong",null,"NPC Code")],-1),xe={class:"col-md-1"},Te=(0,n.Lk)("label",{for:"delete",class:"form-label"},[(0,n.Lk)("strong",null,"Delete")],-1),Se=["onClick"],Ie=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),Oe=[Ie],Ae={colspan:"7"},Ne=["onClick"],we=(0,n.Lk)("h3",null,"Footer Information",-1),Pe=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges"),(0,n.Lk)("th",null,"Final Total")])],-1),Re=["onBlur"],Ve=["onBlur"],Ue=["onBlur"],Be=["onBlur"],je=["onBlur"],$e=(0,n.Lk)("h3",null,"Calculated Check",-1),We=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),Xe={key:1},Ge=(0,n.Lk)("h3",null,"Entry Summary",-1),Me=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),Je=["disabled"];function qe(e,t,o,a,s,i){const l=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)("div",T,[(0,n.Lk)("div",S,[I,(0,n.Lk)("div",O,[(0,n.Lk)("div",A,[(0,n.Lk)("h3",null,[(0,n.Lk)("span",{class:(0,x.C4)(["badge",{"bg-success":"Classification Completed"===i.classificationStatus,"bg-warning text-dark":"Classification In Progress"===i.classificationStatus,"bg-danger":"Not Classified"===i.classificationStatus},"fixed-badge"])},(0,x.v_)(this.classificationStatus),3)])])])]),N,(0,n.Lk)("div",w,[P,(0,n.Lk)("div",R,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.referenceNumber=e),placeholder:"Enter Reference Number",onInput:t[1]||(t[1]=(...e)=>i.validateInput&&i.validateInput(...e))},null,544),[[r.Jo,s.referenceNumber]])]),V]),s.isValidReference?((0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",{class:"dropzone",onDragover:t[5]||(t[5]=(0,r.D$)(((...e)=>i.dragOver&&i.dragOver(...e)),["prevent"])),onDragenter:t[6]||(t[6]=(0,r.D$)(((...e)=>i.dragEnter&&i.dragEnter(...e)),["prevent"])),onDragleave:t[7]||(t[7]=(0,r.D$)(((...e)=>i.dragLeave&&i.dragLeave(...e)),["prevent"])),onDrop:t[8]||(t[8]=(0,r.D$)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},[(0,n.eW)(" Please Upload Commercial Invoices "),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[2]||(t[2]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e)),style:{display:"none"}},null,32),B,(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[3]||(t[3]=(...e)=>i.uploadFiles&&i.uploadFiles(...e))},"Upload Files AWS"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[4]||(t[4]=(...e)=>i.uploadFilesMicrosoft&&i.uploadFilesMicrosoft(...e))},"Upload Files GABRIEL")],32),(0,n.Lk)("div",null,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.selectedFiles,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,x.v_)(e.name),1)))),128))]),(0,n.bF)(l,{customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[9]||(t[9]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"])])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.invoiceDataArray,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,x.v_)(t+1),1),j,(0,n.Lk)("div",$,[(0,n.Lk)("div",W,[(0,n.Lk)("div",X,[G,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_id=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,M),[[r.Jo,e.invoice_id]])]),(0,n.Lk)("div",J,[q,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,Y),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",H,[K,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,z),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",Q,[Z,(0,n.bF)(c,{modelValue:e.currency,"onUpdate:modelValue":t=>e.currency=t,options:s.currencies,label:"name",id:"invoiceCurrency",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Currency"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",ee,[te,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,oe),[[r.Jo,e.rate_of_exchange]])])])]),ae,(0,n.Lk)("table",null,[re,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.invoice_items,((t,o)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:o},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,x.v_)(o+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateItem(e,o,"product_code",t.target.innerText)},(0,x.v_)(t.product_code||"N/A"),41,ne),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateItem(e,o,"description",t.target.innerText)},(0,x.v_)(t.description||"N/A"),41,se),(0,n.Lk)("td",{contenteditable:"true",onInput:e=>i.handleInput(e,o,"thn_code"),onBlur:t=>i.updateTariffCode(e,o,"thn_code",t.target.innerText)},(0,x.v_)(t.thn_code||"N/A"),41,ie),(0,n.Lk)("td",null,(0,x.v_)(t.icdCharge)+"%",1),(0,n.Lk)("td",null,(0,x.v_)(t.vatCharge)+"%",1),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateItem(e,o,"quantity",t.target.innerText),style:(0,x.Tr)(i.naStyle(t.quantity))},(0,x.v_)(t.quantity||"N/A"),45,le),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateItem(e,o,"unit_price",t.target.innerText),style:(0,x.Tr)(i.naStyle(t.unit_price))},(0,x.v_)(t.unit_price||"N/A"),45,ce),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateItem(e,o,"amount",t.target.innerText),style:(0,x.Tr)(i.extensionStyle(t))},(0,x.v_)(t.amount||"N/A"),45,ue),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>i.toggleDetails(o)},[s.expandedIndex===o?((0,n.uX)(),(0,n.CE)("span",me,pe)):((0,n.uX)(),(0,n.CE)("span",ye,fe))],8,de)])]),s.expandedIndex===o?((0,n.uX)(),(0,n.CE)("tr",ve,[(0,n.Lk)("td",be,[(0,n.Lk)("div",ke,[(0,n.Lk)("div",Le,[Ce,(0,n.bF)(c,{modelValue:t.country_of_origin,"onUpdate:modelValue":e=>t.country_of_origin=e,options:s.countries,label:"name",id:"countryOfOrigin",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Origin"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",De,[_e,(0,n.bF)(c,{modelValue:t.cpcCode,"onUpdate:modelValue":e=>t.cpcCode=e,options:i.availableCPCCodes,label:"cpcDisplay",id:"cpcCode",searchable:!0,reduce:e=>e.cpcId,filterable:!0,placeholder:"Select a CPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",Ee,[Fe,(0,n.bF)(c,{modelValue:t.npcCode,"onUpdate:modelValue":e=>t.npcCode=e,options:s.npcCodeOptions,label:"code_description",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",xe,[Te,(0,n.Lk)("div",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>i.deleteRow(e,o)},Oe,8,Se)])])])])])):(0,n.Q3)("",!0)],64)))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Ae,[(0,n.Lk)("button",{onClick:t=>i.addNewLine(e)},"Add New Line",8,Ne)])])])]),we,(0,n.Lk)("table",null,[Pe,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateData(e,"invoice_total",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.invoice_total))},(0,x.v_)(e.invoice_total||0),45,Re),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateData(e,"inland",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.inland))},(0,x.v_)(e.inland||0),45,Ve),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateData(e,"insurance",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.insurance))},(0,x.v_)(e.insurance||0),45,Ue),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateData(e,"otherCharges",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.otherCharges))},(0,x.v_)(e.otherCharges||0),45,Be),(0,n.Lk)("td",{onBlur:t=>i.updateData(e,"final_total",t.target.innerText)},(0,x.v_)(i.calculateInvoiceTotal(e)),41,je)])])]),$e,(0,n.Lk)("table",null,[We,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,x.Tr)(i.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,x.v_)(i.calculateTotalExtensionPrice(e.invoice_items)),1),(0,n.Lk)("td",null,(0,x.v_)(e.invoice_items.length),1),(0,n.Lk)("td",null,(0,x.v_)(i.calculateTotalExtensionPrice(e.invoice_items)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),s.selectedFiles.length?((0,n.uX)(),(0,n.CE)("div",Xe,[Ge,(0,n.Lk)("table",null,[Me,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,x.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,x.v_)(this.totalFOBValue),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:i.entryButtonDisabled,onClick:t[10]||(t[10]=e=>i.createInvoices(s.invoiceDataArray))},"Save Entry",8,Je)])])])])])):(0,n.Q3)("",!0)])}o(4114),o(4603),o(7566),o(8721);var Ye=o(8047),He=o.n(Ye);const Ke="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/",ze="https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//",Qe=async(e,t,o=null)=>{try{const a=await He()({method:e,url:t,data:o});return a.data}catch(a){throw console.error("API error:",a),a}},Ze=async e=>await Qe("post",`${Ke}commercial_invoices`,e),et=async e=>await Qe("post",`${Ke}commercial_invoices_vehicles`,e),tt=async e=>{try{const t=await He()({url:`${Ke}entry-details/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},ot=async e=>{try{const t=await He()({url:`${Ke}commercial-invoices-with-lines-with-vehicles/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},at=async e=>{try{const t=await He()({url:`${Ke}generate-customs-declaration`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},rt=async()=>{try{const e=await He()({url:`${Ke}blank-valuation-form-trinidad`,method:"GET",responseType:"blob"});return e.data}catch(e){throw console.error("API error:",e),e}},nt=async e=>{try{const t=await He()({url:`${Ke}generate-pre-signed-valuation-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},st=async e=>{try{const t=await He()({url:`${Ke}generate-pre-signed-valuation-form-v2`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},it=async e=>{try{const t=await He()({url:`${Ke}customs-declaration`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},lt=async e=>{console.log(e);try{const t=await He()({url:`${Ke}customs-declaration/${e}`,method:"GET"});return t}catch(t){throw console.error("API error:",t),t}},ct=async()=>{try{const e=await He()({url:`${Ke}buyers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},ut=async()=>{try{const e=await He()({url:`${Ke}declarants`,method:"GET"});return console.log(e),e.data}catch(e){throw console.error("API error:",e),e}},dt=async()=>{try{const e=await He()({url:`${Ke}customs-entry-declarants`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},mt=async()=>{try{const e=await He()({url:`${Ke}shippers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},ht=async(e,t)=>{try{const o=await He()({url:`${Ke}customs-declaration/${e}`,method:"PUT",data:t});return o}catch(o){throw console.error("API error:",o),o}},pt=async()=>{try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();return t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},yt=async e=>{try{const t=await He()({url:`${Ke}buyers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},gt=async e=>{try{const t=await He()({url:`${Ke}shippers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},ft=async e=>{try{const t=await He()({url:`${Ke}declarants`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},vt=async e=>{try{const t=await He()({url:`${Ke}cpc-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},bt=async()=>{try{const e=await He()({url:`${Ke}npc_codes`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},kt=async()=>{try{const e=await He()({url:`${Ke}ports/TT`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Lt=async()=>{try{const e=await He()({url:`${Ke}rates-of-exchange/TTD`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Ct=async e=>{try{const t=await He()({url:`${Ke}exchange-rates/TTD/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Dt=async e=>{try{const t=await He()({url:`${Ke}rates-of-exchange`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},_t=async()=>{try{const e=await He()({url:`${Ke}vessels`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Et=async e=>{try{const t=await He()({url:`${Ke}vessels`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},Ft=async(e,t)=>{let o=`${ze}generate-worksheet-json`;"summarized"===t&&(o+="?merge_invoices=True");try{const t=await He()({url:o,method:"POST",responseType:"blob",data:e});return t.data}catch(a){throw console.error("API error:",a),a}},xt=async e=>{try{const t=await He()({url:`${ze}generate-asycuda-toyota-xml`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Tt=async e=>{try{const t=await He()({url:`${ze}generate-toyota-worksheet`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},St=async e=>{try{const t=await He()({url:`${ze}generate-asycuda-xml-json`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},It=async e=>{try{const t=await He()({url:`${ze}commodity-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Ot=async e=>{try{const t=await He()({url:`${Ke}deposit-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},At=async e=>{try{const t=await He()({url:`${Ke}tt-c84`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Nt=async e=>{try{const t=await He()({url:`${Ke}overtime-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},wt=async e=>{try{const t=await He()({url:`${Ke}special-exemptions-declarations/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Pt=async e=>{try{const t=await He()({url:`${ze}analyze-toyota-documents`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Rt=async e=>{try{const t=await He()({url:`${ze}classify-items`,method:"POST",data:e});return t.data}catch(t){if(t.response&&404===t.response.status||500===t.response.status)return null;throw console.error("API error:",t),t}},Vt=async e=>{try{const t=await He()({url:`${Ke}generate-caricom`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Ut=async(e,t)=>{try{const o=await He()({url:`${Ke}customs-entry/${e}`,method:"PUT",data:t});return o.data}catch(o){throw console.error("API error:",o),o}},Bt=async(e,t)=>{try{const o=await He()({url:`${Ke}waybill/${e}`,method:"PUT",data:t});return o.data}catch(o){throw console.error("API error:",o),o}},jt=async e=>{try{const t=await He()({url:`${Ke}upload-invoices`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},$t=async e=>{console.log("DB Connector",e);try{const t=await He()({url:`${Ke}invoice-lines/`,method:"DELETE",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Wt=async e=>{try{return await He()({url:`${Ke}check-entry-number/${e}`,method:"GET"}),!0}catch(t){if(t.response&&409===t.response.status)return!1;throw console.error("API error:",t),t}},Xt=(e,t,o,a,r,n,s,i,l,c,u,d,m,h,p,y,g,f,v,b,k,L,C,D)=>{const _={reference_number:e,country:t,declarant:{name:o,tin:a},regime:r,waybill:{importer:{name:n,tin:s},exporter:{name:i,tin:l},vessel:c,port_of_discharge:u,charges:{external_freight:{amount:parseFloat(Gt(y)),currency:v,rate_of_exchange:b},insurance:{amount:parseFloat(Gt(g)),currency:k,rate_of_exchange:L},other_charges:{amount:parseFloat(Gt(f)),currency:C,rate_of_exchange:D}}},additional_local_charges:{deposit:d,container_charges:m,additional_charges:h,local_fee:p}};return _},Gt=e=>void 0===e||null===e||""===e||"0.0"===e||isNaN(e)||"N/A"===e?0:e,Mt=(e,t,o,a,r,n)=>{e=parseFloat(Gt(e)),t=parseFloat(Gt(t)),o=parseFloat(Gt(o)),a=parseFloat(Gt(a)),r=parseFloat(Gt(r)),n=parseFloat(Gt(n)),console.log("Calculating CIF..."),console.log(e,parseFloat(t),o,a,r,n);const s=e/parseFloat(t)*o;return e+s+a+r+parseFloat(n)},Jt=(e,t)=>{console.log("VAT Applicable: ",t),console.log("Charge Data: ",e);let o=[];for(const[a,r]of Object.entries(e)){let e={name:a,value:"0",id:null,operand_field:"",subjected_to_vat:!0};r.forEach((t=>{void 0!==t.charge_amount&&(e.value=t.charge_amount,e.id=t.tariff_charge_id)})),void 0!==r[1].operand_field&&(e.operand_field=r[1].operand_field),void 0!==r[1].subjected_to_vat&&(e.subjected_to_vat=r[1].subjected_to_vat),o.push(e)}return o},qt=(e,t,o,a,r,n,s,i,l,c,u)=>{console.log("Available CPC Codes: ",c),console.log("Total Gross Weight: ",a);let d=0,m=0;return e.map(((e,t,o)=>({exworks:parseFloat(e.invoice_total),invoice_currency:e.currency,rate_of_exchange:parseFloat(e.rate_of_exchange),supplementary_charges_and_deductions:{internal_freight:parseFloat(Gt(e.inland)),insurance:parseFloat(Gt(e.insurance)),other:parseFloat(Gt(e.other_charges)),deductions:0},line_items:e.lines.map(((e,r,l)=>{let h=parseFloat(e.extension_price)/u*parseFloat(a);m+=h,r===l.length-1&&t===o.length-1?(h=parseFloat(a)-d,h=Number(h.toFixed(2)),console.log("Total Gross Weight: ",a),console.log("Last Item Gross Weight: ",h),console.log("Cumulative Weight: ",d)):(h=Math.floor(100*h)/100,console.log(`Item Gross Weight: ${h} - Sum: ${m}`),d+=h);const p=parseFloat(h)-parseFloat(h)/10;return{description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.extension_price),cpc_code:parseInt(c.find((t=>t.cpcId===e.cpcCode))?.code),country_origin_code:e.country_of_origin,anc_code:e.npc_code,commodity:`${e.tariff_code.replace(/\./g,"")}`,gross_weight:parseFloat(h),net_weight:Math.floor(100*p)/100,package_quantity:0===t&&0===r?parseFloat(n):0,kind_of_package:s,marks_and_numbers:i}}))})))},Yt=e=>{const t=e.replace(/[$,\s]/g,""),o=parseFloat(t);return o},Ht=(e,t=200)=>e.length>t?e.substring(0,t):e,Kt=(e,t)=>e.flatMap((e=>e.details.map((o=>({description:Ht(e.description,200),quantity:o.quantity,unit_cost:e.unitPrice,exworks:parseFloat(o.quantity)*parseFloat(e.unitPrice),cpc_code:parseInt(t.find((e=>e.cpcId===o.cpcCode))?.code),country_origin_code:"",anc_code:o.npcCode,commodity:e.thnNumber,gross_weight:e.grossWeight,net_weight:e.netWeight,package_quantity:1,kind_of_package:"CT",marks_and_numbers:`CHASSIS # ${o.chassisNumber}`,chassis_number:o.chassisNumber,curb_weight:e.curbWeight,engine_number:o.engineNumber,exterior_color:o.exteriorColor,customer:o.customerName,customer_tin:o.customerTIN,instruction_code:o.brokerInstructions,engine_displacement:e.engineDisplacement,manufacture_year:o.manufactureYear,number_of_seats:e.numberOfSeats,number_of_doors:e.numberOfDoors,tyre_size:e.tyreSize,model_code:e.modelCode,fuel_type:e.fuelType,seat_position:e.seatPosition,used_flag:!1}))))),zt=(e,t)=>e.flatMap((e=>e.details.map((o=>({description:e.description,quantity:o.quantity,unit_cost:e.unitPrice,exworks:parseFloat(o.quantity)*parseFloat(e.unitPrice),cpc_code:`${parseInt(t.find((e=>e.cpcId===o.cpcCode))?.code)}`,country_of_origin:"US",anc_code:o.npcCode,commodity:e.commodity,gross_weight:e.grossWeight,net_weight:e.netWeight,package_quantity:1,kind_of_package:"CT",marks_and_numbers:`CHASSIS # ${o.chassisNumber}`,chassis_number:o.chassisNumber,curb_weight:e.curbWeight,engine_number:o.engineNumber,exterior_color:o.exteriorColor,customer:o.customerName,customer_tin:o.customerTIN,instruction_code:o.brokerInstructions,engine_displacement:e.engineDisplacement,manufacture_year:o.manufactureYear,number_of_seats:e.numberOfSeats,number_of_doors:e.numberOfDoors,tyre_size:e.tyreSize,model_code:e.modelCode,fuel_type:e.fuelType,seat_position:e.seatPosition,used_flag:!1}))))),Qt=(e,t,o)=>(console.log("Invoices: ",e),e.map((e=>({name:e.invoice_number,supplier:e.supplier_name,exworks:parseFloat(e.invoice_total),invoice_currency:e.currency,cif_foreign_currency:Mt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:Mt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(Gt(e.inland)),insurance:parseFloat(Gt(e.insurance)),other:parseFloat(Gt(e.other_charges)),deductions:0},line_items:e.lines.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.extension_price),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))})))),Zt=(e,t,o)=>e.map((e=>({name:e.invoice_id,supplier:e.vendor_name,exworks:e.invoice_total,invoice_currency:e.currency,cif_foreign_currency:Mt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:Mt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(e.inland),insurance:parseFloat(e.insurance),other:parseFloat(e.otherCharges),deductions:0},line_items:e.invoice_items.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.amount),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))})));function eo(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear(),r=`${t}/${o}/${a}`;return r}const to=(e,t,o,a,r,n,s,i,l,c,u,d,m,h,p,y,g,f)=>({regimeType:e,waybillNumber:t,waybillDate:o,incoTerms:a,termsOfPayment:"SDT",importer:r,imorterNo:null===n?"":n,declarant:s,declarantNo:i,reference:l,consignor:c,countryOfConsignment:u,countryOfConsignmentCode:d,meansOfTransportation:m,rotation:"/24",mode:h,portOfImportation:p,portCode:y,dateOfImportation:eo(),depositAmount:parseFloat(g).toFixed(2),reason:f}),oo=(e,t,o,a,r,n,s,i,l,c,u,d,m,h,p,y,g,f)=>{let v=m.flatMap((e=>e.lines.map((e=>{let t=parseFloat(e.extension_price)/p*parseFloat(d),o=t-t/10;return{numberAndKindOfPackages:"",specificationOfCommodities:e.description,netWeight:o.toFixed(2),quantity:parseFloat(e.quantity).toLocaleString("en-US",{minimumFractionDigits:2}),unitPrice:parseFloat(e.unit_price).toLocaleString("en-US",{minimumFractionDigits:2}),amount:parseFloat(e.extension_price).toLocaleString("en-US",{minimumFractionDigits:2})}}))));const b=parseFloat(p)+parseFloat(y)+parseFloat(g)+parseFloat(f);return console.log("Other Charges:",f),console.log(p,y,g,f,b),v[0].numberAndKindOfPackages=`${h} pks`,{sellerNameAddress:t,invoiceNumber:`${eo()} ${o}`,customerOrderNumber:"",otherReferences:"",buyer:"",consigneeNameAddress:e,presentingBank:"",countryOfOrigin:a,incoterms:r,portOfLoading:n,countryOfFinalDestination:s,modeOfTransport:i,currencyOfSale:c,otherTransportInformation:l,marksAndNumbers:"As Addressed",descriptionOfGoods:u,grossWeight:d.toLocaleString("en-US",{minimumFractionDigits:2}),packages:v,fob:p.toLocaleString("en-US",{minimumFractionDigits:2}),packaging:"0.00",freight:y.toLocaleString("en-US",{minimumFractionDigits:2}),insurance:g.toLocaleString("en-US",{minimumFractionDigits:2}),otherCharges:f.toLocaleString("en-US",{minimumFractionDigits:2}),invoiceTotal:b.toLocaleString("en-US",{minimumFractionDigits:2})}},ao=()=>({exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT"}),ro=e=>e.some((e=>e.lines.some((e=>!e.tariff_code||""===e.tariff_code.trim())))),no=e=>{const t={day:"2-digit",month:"short",year:"numeric"},o=new Date(e);return o.toLocaleDateString(void 0,t)};var so=o(4874),io=o.n(so);function lo(e){io().fire({position:"top-end",toast:!0,icon:"success",title:e,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}function co(e){io().fire({html:e,allowOutsideClick:!0,backdrop:!1,showConfirmButton:!1,width:"300px",didOpen:()=>{io().showLoading()},position:"top-end",customClass:{container:"swal2-top-end"}})}function uo(){io().close()}function mo(e){io().fire({icon:"error",title:"Oops...",text:e})}function ho(e){io().fire({title:"One moment...",html:e,allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{io().showLoading()}})}async function po(){return await io().fire({title:"I noticed you deleted something!",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((e=>e))}async function yo(e,t){const o=Object.entries(e).map((([e,t])=>`<option value="${e}">${t}</option>`)).join(""),a=t.map((e=>`<option value="${e.id}">${e.name}</option>`)).join("");return await io().fire({title:"Special Exemption Details",html:`\n            <select id="swal-input1" class="swal2-input">\n                <option value="" selected disabled>Please select declaration number</option>\n                ${o}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <select id="swal-input2" class="swal2-input">\n                <option value="" selected disabled>Please select signatory</option>\n                ${a}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <div id="swal-radio-group" class="swal2-input">\n                <label>Generate Pre-Signed:</label>\n                <div>\n                    <input type="radio" id="generate-yes" name="generate-pre-signed" value="yes">\n                    <label for="generate-yes">Yes</label>\n                    <input type="radio" id="generate-no" name="generate-pre-signed" value="no" checked>\n                    <label for="generate-no">No</label>\n                </div>\n            </div>\n        `,focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const e=io().getPopup().querySelector("#swal-input1").value,t=io().getPopup().querySelector("#swal-input2").value,o=io().getPopup().querySelector('input[name="generate-pre-signed"]:checked').value;return e&&t||io().showValidationMessage("Please select both declaration numbers"),{select1:e,select2:t,generatePreSigned:"yes"===o}}}).then((e=>{if(e.isConfirmed)return e.value}))}async function go(){return await io().fire({title:"Cargo Details",html:'\n        <div style="display: flex; flex-direction: column; align-items: center;">\n            <label for="cargo-details" style="margin-bottom: 5px;">Please enter the cargo details:</label>\n            <input type="text" id="cargo-details" class="swal2-input" placeholder="Enter cargo details here..." style="margin-bottom: 15px;">\n            <label for="start-time" style="margin-bottom: 5px;">Please enter the start time:</label>\n            <input type="time" id="start-time" class="swal2-input" value="16:00">\n        </div>\n        ',focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const e=io().getPopup().querySelector("#cargo-details").value,t=io().getPopup().querySelector("#start-time").value;e&&t||io().showValidationMessage("Please enter both cargo details and start time");const[o,a]=t.split(":"),r=parseInt(o,10),n=r>=12?"PM":"AM",s=r%12||12,i=`${s}:${a} ${n}`;return{cargoDetails:e,startTime:i}}}).then((e=>{if(e.isConfirmed)return console.log("Cargo Details:",e.value.cargoDetails),console.log("Start Time:",e.value.startTime),e.value}))}async function fo(){return await io().fire({title:"Enter Cargo Details",input:"text",inputLabel:"Cargo Details",inputPlaceholder:"Enter the cargo details here...",showCancelButton:!0,inputValidator:e=>{if(!e)return"Cargo details are required!"}}).then((e=>{if(e.isConfirmed)return e.value}))}async function vo(){return await io().fire({title:"Enter Your Name",input:"text",inputLabel:"Name",inputPlaceholder:"Enter your name here...",showCancelButton:!0,inputValidator:e=>{if(!e)return"Name is required!"}}).then((e=>{if(e.isConfirmed)return e.value}))}async function bo(){return await io().fire({title:"Choose Document Format",text:"Please select the format in which you want to generate the document.",icon:"question",showCancelButton:!0,confirmButtonText:"Summarized",cancelButtonText:"Detailed"}).then((e=>e.isConfirmed?"summarized":e.dismiss===io().DismissReason.cancel?"detailed":void 0))}async function ko(){return await io().fire({title:"Select Reason for Deposit",input:"select",inputOptions:{"PENDING CARICOM AREA INVOICE":"PENDING CARICOM AREA INVOICE","PENDING STATUS OF SIGNATORY ON CARICOM CARE INVOICE":"PENDING STATUS OF SIGNATORY ON CARICOM CARE INVOICE"},inputPlaceholder:"Select a reason...",showCancelButton:!0,inputValidator:e=>{if(!e)return"You need to select a reason!"}}).then((e=>{if(e.isConfirmed)return e.value}))}async function Lo(e){const t=`\n      <table border="1" style="width:100%; text-align:left;">\n        <thead>\n          <tr>\n            <th>Base Currency</th>\n            <th>Rate</th>\n            <th>Effective Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${e.map((e=>`\n            <tr>\n              <td>${e.base_currency}</td>\n              <td>${e.rate}</td>\n              <td>${no(e.last_updated)}</td>\n            </tr>\n          `)).join("")}\n        </tbody>\n      </table>\n    `;io().fire({title:"Exchange Rates",html:t,width:"800px",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"Close"})}var Co=o(144);function Do(){const e=(0,Co.KR)([{value:"1A",text:"Drum, steel"},{value:"1B",text:"Drum, aluminium"},{value:"1D",text:"Drum, plywood"},{value:"1G",text:"Drum, fibre"},{value:"1W",text:"Drum, wooden"},{value:"2C",text:"Barrel, wooden"},{value:"3A",text:"Jerrican, steel"},{value:"3H",text:"Jerrican, plastic"},{value:"43",text:"Bag, super bulk"},{value:"4A",text:"Box, steel"},{value:"4B",text:"Box, aluminium"},{value:"4C",text:"Box, natural wood"},{value:"4D",text:"Box, plywood"},{value:"4F",text:"Box, reconstituted wood"},{value:"4G",text:"Box, fibreboard"},{value:"4H",text:"Box, plastic"},{value:"5H",text:"Bag, woven plastic"},{value:"5L",text:"Bag, textile"},{value:"5M",text:"Bag, paper"},{value:"6H",text:"Composite packaging, plastic receptacle"},{value:"6P",text:"Composite packaging, glass receptacle"},{value:"AA",text:"Intermediate bulk container, rigid"},{value:"AB",text:"Receptacle, fibre"},{value:"AC",text:"Receptacle, paper"},{value:"AD",text:"Receptacle, wooden"},{value:"AE",text:"Aerosol"},{value:"AF",text:"Pallet, modular, collars 80cms * 6"},{value:"AG",text:"Pallet, shrinkwrapped"},{value:"AH",text:"Pallet, 100cms * 110cms"},{value:"AI",text:"Clamshell"},{value:"AJ",text:"Cone"},{value:"AM",text:"Ampoule, non-protected"},{value:"AP",text:"Ampoule, protected"},{value:"AT",text:"Atomizer"},{value:"AV",text:"Capsule"},{value:"BA",text:"Barrel"},{value:"BB",text:"Bobbin"},{value:"BC",text:"Bottlecrate / bottlerack"},{value:"BD",text:"Board"},{value:"BE",text:"Bundle"},{value:"BF",text:"Balloon, non-protected"},{value:"BG",text:"Bag"},{value:"BH",text:"Bunch"},{value:"BI",text:"Bin"},{value:"BJ",text:"Bucket"},{value:"BK",text:"Basket"},{value:"BL",text:"Bale, compressed"},{value:"BM",text:"Basin"},{value:"BN",text:"Bale, non-compressed"},{value:"BO",text:"Bottle, non-protected, cylindrical"},{value:"BP",text:"Balloon, protected"},{value:"BQ",text:"Bottle, protected cylindrical"},{value:"BR",text:"Bar"},{value:"BS",text:"Bottle, non-protected, bulbous"},{value:"BT",text:"Bolt"},{value:"BU",text:"Butt"},{value:"BV",text:"Bottle, protected bulbous"},{value:"BW",text:"Box, for liquids"},{value:"BX",text:"Box"},{value:"BY",text:"Board, in bundle/bunch/truss"},{value:"BZ",text:"Bars, in bundle/bunch/truss"},{value:"CA",text:"Can, rectangular"},{value:"CB",text:"Crate, beer"},{value:"CC",text:"Churn"},{value:"CD",text:"Can, with handle and spout"},{value:"CE",text:"Creel"},{value:"CF",text:"Coffer"},{value:"CG",text:"Cage"},{value:"CH",text:"Chest"},{value:"CI",text:"Canister"},{value:"CJ",text:"Coffin"},{value:"CK",text:"Cask"},{value:"CL",text:"Coil"},{value:"CM",text:"Card"},{value:"CN",text:"Container, not otherwise specified"},{value:"CO",text:"Carboy, non-protected"},{value:"CP",text:"Carboy, protected"},{value:"CQ",text:"Cartridge"},{value:"CR",text:"Crate"},{value:"CS",text:"Case"},{value:"CT",text:"Carton"},{value:"CU",text:"Cup"},{value:"CV",text:"Cover"},{value:"CW",text:"Cage, roll"},{value:"CX",text:"Can, cylindrical"},{value:"CY",text:"Cylinder"},{value:"CZ",text:"Canvas"},{value:"DA",text:"Crate, multiple layer, plastic"},{value:"DB",text:"Crate, multiple layer, wooden"},{value:"DC",text:"Crate, multiple layer, cardboard"},{value:"DG",text:"Cage, Commonwealth Handling Equipment"},{value:"DH",text:"Box, Commonwealth Handling Equipment"},{value:"DI",text:"Drum, iron"},{value:"DJ",text:"Demijohn, non-protected"},{value:"DK",text:"Crate, bulk, cardboard"},{value:"DL",text:"Crate, bulk, plastic"},{value:"DM",text:"Crate, bulk, wooden"},{value:"DN",text:"Dispenser"},{value:"DP",text:"Demijohn, protected"},{value:"DR",text:"Drum"},{value:"DS",text:"Tray, one layer no cover, plastic"},{value:"DT",text:"Tray, one layer no cover, wooden"},{value:"DU",text:"Tray, one layer no cover, polystyrene"},{value:"DV",text:"Tray, one layer no cover, cardboard"},{value:"DW",text:"Tray, two layers no cover, plastic"},{value:"DX",text:"Tray, two layers no cover, wooden"},{value:"DY",text:"Tray, two layers no cover, cardboard"},{value:"EC",text:"Bag, plastic"},{value:"ED",text:"Case, with pallet base"},{value:"EE",text:"Case, with pallet base, wooden"},{value:"EF",text:"Case, with pallet base, cardboard"},{value:"EG",text:"Case, with pallet base, plastic"},{value:"EH",text:"Case, with pallet base, metal"},{value:"EI",text:"Case, isothermic"},{value:"EN",text:"Envelope"},{value:"FC",text:"Crate, fruit"},{value:"FD",text:"Crate, framed"},{value:"FI",text:"Firkin"},{value:"FL",text:"Flask"},{value:"FO",text:"Footlocker"},{value:"FP",text:"Filmpack"},{value:"FR",text:"Frame"},{value:"FT",text:"Foodtainer"},{value:"FW",text:"Cart, flatbed"},{value:"FX",text:"Bag, flexible container"},{value:"GB",text:"Bottle, gas"},{value:"GI",text:"Girder"},{value:"GR",text:"Receptacle, glass"},{value:"GU",text:"Tray, containing horizontally stacked"},{value:"GZ",text:"Girders, in bundle/bunch/truss"},{value:"HA",text:"Basket, with handle, plastic"},{value:"HB",text:"Basket, with handle, wooden"},{value:"HC",text:"Basket, with handle, cardboard"},{value:"HG",text:"Hogshead"},{value:"HR",text:"Hamper"},{value:"IA",text:"Package, display, wooden"},{value:"IB",text:"Package, display, cardboard"},{value:"IC",text:"Package, display, plastic"},{value:"ID",text:"Package, display, metal"},{value:"IE",text:"Package, show"},{value:"IF",text:"Package, flow"},{value:"IG",text:"Package, paper wrapped"},{value:"IH",text:"Drum, plastic"},{value:"IK",text:"Package, cardboard, with bottle grip"},{value:"IL",text:"Tray, rigid, lidded stackable (CEN)"},{value:"IN",text:"Ingot"},{value:"IZ",text:"Ingots, in bundle/bunch/truss"},{value:"JC",text:"Jerrican, rectangular"},{value:"JG",text:"Jug"},{value:"JR",text:"Jar"},{value:"JT",text:"Jutebag"},{value:"JY",text:"Jerrican, cylindrical"},{value:"KG",text:"Keg"},{value:"LG",text:"Log"},{value:"LT",text:"Lot"},{value:"LV",text:"Liftvan"},{value:"LZ",text:"Logs, in bundle/bunch/truss"},{value:"MB",text:"Bag, multiply"},{value:"MC",text:"Crate, milk"},{value:"MR",text:"Receptacle, metal"},{value:"MS",text:"Sack, multi-wall"},{value:"MT",text:"Mat"},{value:"MW",text:"Receptacle, plastic wrapped"},{value:"MX",text:"Matchbox"},{value:"NA",text:"Not available"},{value:"NE",text:"Unpacked or unpackaged"},{value:"NF",text:"Unpacked or unpackaged, single unit"},{value:"NG",text:"Unpacked or unpackaged, multiple units"},{value:"NS",text:"Nest"},{value:"NT",text:"Net"},{value:"NU",text:"Net, tube, plastic"},{value:"NV",text:"Net, tube, textile"},{value:"OA",text:"Pallet, CHEP 40 cm x 60 cm"},{value:"OB",text:"Pallet, CHEP 80 cm x 120 cm"},{value:"OC",text:"Pallet, CHEP 100 cm x 120 cm"},{value:"OD",text:"Pallet, AS 4068-1993"},{value:"OE",text:"Pallet, ISO T11"},{value:"OF",text:"Platform, unspecified weight or dimensions"},{value:"OK",text:"Block"},{value:"PA",text:"Packet"},{value:"PB",text:"Pallet, box Combined open-ended box"},{value:"PC",text:"Parcel"},{value:"PD",text:"Pallet, modular, collars 80cms * 1"},{value:"PE",text:"Pallet, modular, collars 80cms * 1"},{value:"PF",text:"Pen"},{value:"PG",text:"Plate"},{value:"PH",text:"Pitcher"},{value:"PI",text:"Pipe"},{value:"PJ",text:"Punnet"},{value:"PK",text:"Package"},{value:"PL",text:"Pail"},{value:"PN",text:"Plank"},{value:"PO",text:"Pouch"},{value:"PR",text:"Receptacle, plastic"},{value:"PT",text:"Pot"},{value:"PU",text:"Tray"},{value:"PV",text:"Pipes, in bundle/bunch/truss"},{value:"PX",text:"Pallet"},{value:"PY",text:"Plates, in bundle/bunch/truss"},{value:"PZ",text:"Planks, in bundle/bunch/truss"},{value:"QA",text:"Drum, steel, non-removable head"},{value:"QB",text:"Drum, steel, removable head"},{value:"QC",text:"Drum, aluminium, non-removable head"},{value:"QD",text:"Drum, aluminium, removable head"},{value:"QF",text:"Drum, plastic, non-removable head"},{value:"QG",text:"Drum, plastic, removable head"},{value:"QH",text:"Barrel, wooden, bung type"},{value:"QJ",text:"Barrel, wooden, removable head"},{value:"QK",text:"Jerrican, steel, non-removable head"},{value:"QL",text:"Jerrican, steel, removable head"},{value:"QM",text:"Jerrican, plastic, non-removable head"},{value:"QN",text:"Jerrican, plastic, removable head"},{value:"QP",text:"Box, wooden, natural wood, ordinary"},{value:"QQ",text:"Box, wooden, natural wood, with side"},{value:"QR",text:"Box, plastic, expanded"},{value:"QS",text:"Box, plastic, solid"},{value:"RD",text:"Rod"},{value:"RG",text:"Ring"},{value:"RJ",text:"Rack, clothing hanger"},{value:"RK",text:"Rack"},{value:"RL",text:"Reel"},{value:"RO",text:"Roll"},{value:"RT",text:"Rednet"},{value:"RZ",text:"Rods, in bundle/bunch/truss"},{value:"SA",text:"Sack"},{value:"SB",text:"Slab"},{value:"SC",text:"Crate, shallow"},{value:"SD",text:"Spindle"},{value:"SE",text:"Sea-chest"},{value:"SH",text:"Sachet"},{value:"SI",text:"Skid"},{value:"SK",text:"Case, skeleton"},{value:"SL",text:"Slipsheet"},{value:"SM",text:"Sheetmetal"},{value:"SO",text:"Spool"},{value:"SP",text:"Sheet, plastic wrapping"},{value:"SS",text:"Case, steel"},{value:"ST",text:"Sheet"},{value:"SU",text:"Suitcase"},{value:"SV",text:"Envelope, steel"},{value:"SW",text:"Shrinkwrapped"},{value:"SX",text:"Set"},{value:"SY",text:"Sleeve"},{value:"SZ",text:"Sheets, in bundle/bunch/truss"},{value:"TB",text:"Tub"},{value:"TC",text:"Tea-chest"},{value:"TD",text:"Tube, collapsible"},{value:"TI",text:"Tierce"},{value:"TK",text:"Tank, rectangular"},{value:"TL",text:"Tub, with lid"},{value:"TN",text:"Tin"},{value:"TO",text:"Tun"},{value:"TR",text:"Trunk"},{value:"TS",text:"Truss"},{value:"TU",text:"Tube"},{value:"TV",text:"Tube, with nozzle"},{value:"TY",text:"Tank, cylindrical"},{value:"TZ",text:"Tubes, in bundle/bunch/truss"},{value:"UC",text:"Uncaged"},{value:"UN",text:"Unit (single item or object)"},{value:"VA",text:"Vat"},{value:"VG",text:"Bulk, gas (at 1031 mbar and 15°C)"},{value:"VI",text:"Vial"},{value:"VK",text:"Vanpack"},{value:"VL",text:"Bulk, liquid"},{value:"VN",text:"Vehicle"},{value:"VO",text:"Bulk, solid, large particles"},{value:"VP",text:"Vacuum-packed"},{value:"VQ",text:"Bulk, liquefied gas (at abnormal temperature/pressure)"},{value:"VR",text:"Bulk, solid, granular particles (i.e., granulates)"},{value:"VY",text:"Bulk, solid, fine particles (i.e., powdered)"},{value:"WA",text:"Intermediate bulk container"},{value:"WB",text:"Wickerbottle"},{value:"WC",text:"Intermediate bulk container, steel"},{value:"WD",text:"Intermediate bulk container, aluminium"},{value:"WF",text:"Intermediate bulk container, metal"},{value:"WG",text:"Intermediate bulk container, steel"},{value:"WH",text:"Intermediate bulk container, aluminium"},{value:"WJ",text:"Intermediate bulk container, metal"},{value:"WK",text:"Intermediate bulk container, steel"},{value:"WL",text:"Intermediate bulk container, aluminium"},{value:"WM",text:"Intermediate bulk container, metal"},{value:"WN",text:"Intermediate bulk container, woven"},{value:"WP",text:"Intermediate bulk container, woven"},{value:"WQ",text:"Intermediate bulk container, woven"},{value:"WR",text:"Intermediate bulk container, woven"},{value:"WS",text:"Intermediate bulk container, plastic"},{value:"WT",text:"Intermediate bulk container, textile"},{value:"WU",text:"Intermediate bulk container, natural"},{value:"WV",text:"Intermediate bulk container, textile"},{value:"WW",text:"Intermediate bulk container, textile"},{value:"WX",text:"Intermediate bulk container, textile"},{value:"WY",text:"Intermediate bulk container, plywood"},{value:"WZ",text:"Intermediate bulk container, reconstructed"},{value:"XA",text:"Bag, woven plastic, without inner coat"},{value:"XB",text:"Bag, woven plastic, sift proof"},{value:"XC",text:"Bag, woven plastic, water resistant"},{value:"XD",text:"Bag, plastics film"},{value:"XF",text:"Bag, textile, without inner coat"},{value:"XG",text:"Bag, textile, sift proof"},{value:"XH",text:"Bag, textile, water resistant"},{value:"XJ",text:"Bag, paper, multi-wall"},{value:"XK",text:"Bag, paper, multi-wall, water resistant"},{value:"YA",text:"Composite packaging, plastic receptacle"},{value:"YB",text:"Composite packaging, plastic receptacle"},{value:"YC",text:"Composite packaging, plastic receptacle"},{value:"YD",text:"Composite packaging, plastic receptacle"},{value:"YF",text:"Composite packaging, plastic receptacle"},{value:"YG",text:"Composite packaging, plastic receptacle"},{value:"YH",text:"Composite packaging, plastic receptacle"},{value:"YJ",text:"Composite packaging, plastic receptacle"},{value:"YK",text:"Composite packaging, plastic receptacle"},{value:"YL",text:"Composite packaging, plastic receptacle"},{value:"YM",text:"Composite packaging, plastic receptacle"},{value:"YN",text:"Composite packaging, glass receptacle"},{value:"YP",text:"Composite packaging, glass receptacle"},{value:"YQ",text:"Composite packaging, glass receptacle"},{value:"YR",text:"Composite packaging, glass receptacle"},{value:"YS",text:"Composite packaging, glass receptacle"},{value:"YT",text:"Composite packaging, glass receptacle"},{value:"YV",text:"Composite packaging, glass receptacle"},{value:"YW",text:"Composite packaging, glass receptacle"},{value:"YX",text:"Composite packaging, glass receptacle"},{value:"YY",text:"Composite packaging, glass receptacle"},{value:"YZ",text:"Composite packaging, glass receptacle"},{value:"ZA",text:"Intermediate bulk container, paper"},{value:"ZB",text:"Bag, large"},{value:"ZC",text:"Intermediate bulk container, paper"},{value:"ZD",text:"Intermediate bulk container, rigid"},{value:"ZF",text:"Intermediate bulk container, rigid"},{value:"ZG",text:"Intermediate bulk container, rigid"},{value:"ZH",text:"Intermediate bulk container, rigid"},{value:"ZJ",text:"Intermediate bulk container, rigid"},{value:"ZK",text:"Intermediate bulk container, rigid"},{value:"ZL",text:"Intermediate bulk container, composite"},{value:"ZM",text:"Intermediate bulk container, composite"},{value:"ZN",text:"Intermediate bulk container, composite"},{value:"ZP",text:"Intermediate bulk container, composite"},{value:"ZQ",text:"Intermediate bulk container, composite"},{value:"ZR",text:"Intermediate bulk container, fibre"},{value:"ZS",text:"Intermediate bulk container, fibre"},{value:"ZT",text:"Intermediate bulk container, fibre"},{value:"ZU",text:"Intermediate bulk container, flexible"},{value:"ZV",text:"Intermediate bulk container, metal"},{value:"ZW",text:"Intermediate bulk container, natural"},{value:"ZX",text:"Intermediate bulk container, plywood"},{value:"ZY",text:"Intermediate bulk container, reconstructed"},{value:"ZZ",text:"Mutually defined"}]);return e}function _o(){const e=(0,Co.KR)([{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"},{code:"TTD",name:"Trinidad & Tobago Dollar"},{code:"XCD",name:"EC Dollar"},{code:"BBD",name:"Barbados Dollar"},{code:"CNY",name:"China Renminbi"},{code:"AED",name:"UAE Dirham"},{code:"EGP",name:"Egyptian Pound"},{code:"GYD",name:"Guyana Dollar"},{code:"BZD",name:"Belize Dollar"}]);return e}function Eo(){const e={defaultCPCCode:"4000",defaultRegimeType:"IM4",defaultNPCCode:"000"};return e}function Fo(){const e=[{modeOfTransport:"Ocean",freightTypes:[{code:"12",name:"FCL"},{code:"13",name:"LCL"},{code:"11",name:"Break Bulk"}]},{modeOfTransport:"Air",freightTypes:[{code:"41",name:"Express"},{code:"42",name:"Loose"}]}];return e}const xo=e=>((0,n.Qi)("data-v-940602a2"),e=e(),(0,n.jt)(),e),To={class:"customs-entry-form"},So={class:"row"},Io={class:"col-md-3"},Oo={class:"form-group"},Ao=xo((()=>(0,n.Lk)("label",{class:"required",for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"Importer")],-1))),No={class:"col-md-3"},wo={class:"form-group"},Po=xo((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"Exporter")],-1))),Ro={class:"col-md-3"},Vo={class:"form-group"},Uo=xo((()=>(0,n.Lk)("label",{for:"modeOfTransport"},[(0,n.Lk)("strong",null,"Mode of Transport")],-1))),Bo=xo((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Mode of Transport",-1))),jo=["value"],$o={class:"col-md-3"},Wo={class:"form-group"},Xo=xo((()=>(0,n.Lk)("label",{for:"freightType"},[(0,n.Lk)("strong",null,"Freight Type")],-1))),Go=xo((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Freight Type",-1))),Mo=["value"],Jo={class:"row"},qo={class:"col-md-3"},Yo={class:"form-group"},Ho=xo((()=>(0,n.Lk)("label",{for:"waybillNumber"},[(0,n.Lk)("strong",null,"Waybill Numbers")],-1))),Ko={class:"col-md-3"},zo={class:"form-group"},Qo=xo((()=>(0,n.Lk)("label",{for:"waybillDate"},[(0,n.Lk)("strong",null,"Waybill Date")],-1))),Zo={class:"col-md-3"},ea={class:"form-group"},ta=xo((()=>(0,n.Lk)("label",{for:"vessel"},[(0,n.Lk)("strong",null,"Vessel")],-1))),oa={class:"col-md-3"},aa={class:"form-group"},ra=xo((()=>(0,n.Lk)("label",{for:"portOfDischarge"},[(0,n.Lk)("strong",null,"Port of Discharge")],-1))),na={class:"row"},sa={class:"col-md-3"},ia={class:"form-group"},la=xo((()=>(0,n.Lk)("label",{for:"netWeight"},[(0,n.Lk)("strong",null,"Net Weight")],-1))),ca={class:"col-md-3"},ua={class:"form-group"},da=xo((()=>(0,n.Lk)("label",{for:"grossWeight"},[(0,n.Lk)("strong",null,"Gross Weight")],-1))),ma={class:"col-md-3"},ha={class:"form-group"},pa=xo((()=>(0,n.Lk)("label",{for:"numberOfPackages"},[(0,n.Lk)("strong",null,"Number of Packages")],-1))),ya={class:"col-md-3"},ga={class:"form-group"},fa=xo((()=>(0,n.Lk)("label",{for:"packageType"},[(0,n.Lk)("strong",null,"Package Type")],-1))),va={class:"row"},ba={class:"col-md-3"},ka={class:"form-group"},La=xo((()=>(0,n.Lk)("label",{for:"totalCargoValue"},[(0,n.Lk)("strong",null,"Total Cargo Value")],-1))),Ca={class:"col-md-1"},Da={class:"form-group"},_a=xo((()=>(0,n.Lk)("label",{for:"currency"},[(0,n.Lk)("strong",null,"Freight")],-1))),Ea={class:"col-md-2"},Fa={class:"form-group"},xa={for:"freightAmount",class:"label-green-italic"},Ta={class:"col-md-1"},Sa={class:"form-group"},Ia=xo((()=>(0,n.Lk)("label",{for:"currency"},[(0,n.Lk)("strong",null,"Insurance")],-1))),Oa={class:"col-md-2"},Aa={for:"InsuranceAmount",class:"label-green-italic"},Na={class:"col-md-1"},wa={class:"form-group"},Pa=xo((()=>(0,n.Lk)("label",{for:"currency"},[(0,n.Lk)("strong",null,"Charges")],-1))),Ra={class:"col-md-2"},Va={class:"form-group"},Ua={for:"othercharges",class:"label-green-italic"},Ba={class:"row"},ja={class:"col-md-3"},$a={class:"form-group"},Wa=xo((()=>(0,n.Lk)("label",{for:"declarant"},[(0,n.Lk)("strong",null,"Declarant")],-1))),Xa=xo((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),Ga=["value"],Ma={class:"col-md-3"},Ja={class:"form-group"},qa=xo((()=>(0,n.Lk)("label",{for:"regimeType"},[(0,n.Lk)("strong",null,"Regime Type")],-1))),Ya={class:"col-md-3"},Ha=xo((()=>(0,n.Lk)("label",{for:"incoTerms"},[(0,n.Lk)("strong",null,"Incoterms")],-1))),Ka={class:"col-md-3"},za=xo((()=>(0,n.Lk)("label",{for:"country"},[(0,n.Lk)("strong",null,"Country of Origin")],-1))),Qa={class:"row"},Za={class:"col-md-3"},er={class:"form-group"},tr=xo((()=>(0,n.Lk)("label",{for:"containerCharges"},[(0,n.Lk)("strong",null,"Container Charges")],-1))),or={class:"col-md-3"},ar={class:"form-group"},rr=xo((()=>(0,n.Lk)("label",{for:"localFee"},[(0,n.Lk)("strong",null,"Local Fee")],-1))),nr={class:"col-md-3"},sr={class:"form-group"},ir=xo((()=>(0,n.Lk)("label",{for:"depositAmount"},[(0,n.Lk)("strong",null,"Deposit Amount")],-1))),lr={class:"col-md-3"},cr={class:"form-group"},ur=xo((()=>(0,n.Lk)("label",{for:"additionalCharges"},[(0,n.Lk)("strong",null,"Additional Charges")],-1))),dr={class:"row"},mr={class:"col-md-3"},hr={class:"form-group"},pr=xo((()=>(0,n.Lk)("label",{for:"marksAndNumbers"},[(0,n.Lk)("strong",null,"Marks and Numbers")],-1))),yr={class:"col-md-3"},gr=xo((()=>(0,n.Lk)("label",{for:"country"},[(0,n.Lk)("strong",null,"Country of Final Destination")],-1))),fr={class:"col-md-3"},vr={class:"form-group"},br=xo((()=>(0,n.Lk)("label",{for:"countryLastProvinance"},[(0,n.Lk)("strong",null,"Country of Last Provinance")],-1))),kr={class:"col-md-3"},Lr={class:"form-group"},Cr=xo((()=>(0,n.Lk)("label",{for:"tradingCountry"},[(0,n.Lk)("strong",null,"Trading Country")],-1)));function Dr(e,t,o,a,s,i){const l=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)("div",To,[(0,n.Lk)("div",So,[(0,n.Lk)("div",Io,[(0,n.Lk)("div",Oo,[Ao,(0,n.bF)(l,{options:s.localData.importers,modelValue:s.localData.importerId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.importerId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select an Importer"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",No,[(0,n.Lk)("div",wo,[Po,(0,n.bF)(l,{options:s.localData.exporters,modelValue:s.localData.exporterId,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData.exporterId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select an Exporter"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Ro,[(0,n.Lk)("div",Vo,[Uo,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.modeOfTransport=e),ref:"modeOfTransportSelect"},[Bo,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.modeOfTransportOOptions,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.modeOfTransport},(0,x.v_)(e.modeOfTransport),9,jo)))),128))],512),[[r.u1,s.localData.modeOfTransport]])])]),(0,n.Lk)("div",$o,[(0,n.Lk)("div",Wo,[Xo,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.freightType=e)},[Go,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.availableFreightTypes,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.name},(0,x.v_)(e.name),9,Mo)))),128))],512),[[r.u1,s.localData.freightType]])])])]),(0,n.Lk)("div",Jo,[(0,n.Lk)("div",qo,[(0,n.Lk)("div",Yo,[Ho,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"waybillNumber","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.waybillNumber=e),placeholder:"Please Enter Waybill Number",required:""},null,512),[[r.Jo,s.localData.waybillNumber]])])]),(0,n.Lk)("div",Ko,[(0,n.Lk)("div",zo,[Qo,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"waybillDate","onUpdate:modelValue":t[5]||(t[5]=e=>s.localData.waybillDate=e),required:""},null,512),[[r.Jo,s.localData.waybillDate]])])]),(0,n.Lk)("div",Zo,[(0,n.Lk)("div",ea,[ta,(0,n.bF)(l,{options:s.localData.vessels,modelValue:s.localData.vesselId,"onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.vesselId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select a Vessel"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",oa,[(0,n.Lk)("div",aa,[ra,(0,n.bF)(l,{options:s.localData.ports,modelValue:s.localData.portOfDischargeId,"onUpdate:modelValue":t[7]||(t[7]=e=>s.localData.portOfDischargeId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select a Port of Discharge"},null,8,["options","modelValue","reduce"])])])]),(0,n.Lk)("div",na,[(0,n.Lk)("div",sa,[(0,n.Lk)("div",ia,[la,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netWeight","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.netWeight=e),required:""},null,512),[[r.Jo,s.localData.netWeight]])])]),(0,n.Lk)("div",ca,[(0,n.Lk)("div",ua,[da,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"grossWeight","onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.grossWeight=e),required:""},null,512),[[r.Jo,s.localData.grossWeight]])])]),(0,n.Lk)("div",ma,[(0,n.Lk)("div",ha,[pa,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"numberOfPackages","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.numberOfPackages=e),required:""},null,512),[[r.Jo,s.localData.numberOfPackages]])])]),(0,n.Lk)("div",ya,[(0,n.Lk)("div",ga,[fa,(0,n.bF)(l,{options:s.localData.packageTypes,modelValue:s.localData.packageType,"onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.packageType=e),label:"text",searchable:!0,reduce:e=>e.value,filterable:!0,placeholder:"Select a Package Type"},null,8,["options","modelValue","reduce"])])])]),(0,n.Lk)("div",va,[(0,n.Lk)("div",ba,[(0,n.Lk)("div",ka,[La,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalCargoValue","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.totalCargoValue=e),required:""},null,512),[[r.Jo,s.localData.totalCargoValue]])])]),(0,n.Lk)("div",Ca,[(0,n.Lk)("div",Da,[_a,(0,n.bF)(l,{clearable:!1,options:s.currencies,modelValue:s.localData.freightCurrency,"onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.freightCurrency=e),label:"code",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Ea,[(0,n.Lk)("div",Fa,[(0,n.Lk)("label",xa,(0,x.v_)(s.localData.freightRateOfExchange),1),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"freightAmount","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.freightAmount=e),required:""},null,512),[[r.Jo,s.localData.freightAmount]])])]),(0,n.Lk)("div",Ta,[(0,n.Lk)("div",Sa,[Ia,(0,n.bF)(l,{clearable:!1,options:s.currencies,modelValue:s.localData.insuranceCurrency,"onUpdate:modelValue":t[15]||(t[15]=e=>s.localData.insuranceCurrency=e),label:"code",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Oa,[(0,n.Lk)("label",Aa,(0,x.v_)(s.localData.insuranceRateOfExchange),1),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"InsuranceAmount","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.insuranceAmount=e),required:""},null,512),[[r.Jo,s.localData.insuranceAmount]])]),(0,n.Lk)("div",Na,[(0,n.Lk)("div",wa,[Pa,(0,n.bF)(l,{clearable:!1,options:s.currencies,modelValue:s.localData.otherChargesCurrency,"onUpdate:modelValue":t[17]||(t[17]=e=>s.localData.otherChargesCurrency=e),label:"code",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Ra,[(0,n.Lk)("div",Va,[(0,n.Lk)("label",Ua,(0,x.v_)(s.localData.otherChargesRateOfExchange),1),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"otherCharges","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.otherCharges=e)},null,512),[[r.Jo,s.localData.otherCharges]])])])]),(0,n.Lk)("div",Ba,[(0,n.Lk)("div",ja,[(0,n.Lk)("div",$a,[Wa,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[19]||(t[19]=e=>s.localData.declarantId=e)},[Xa,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,x.v_)(e.name),9,Ga)))),128))],512),[[r.u1,s.localData.declarantId]])])]),(0,n.Lk)("div",Ma,[(0,n.Lk)("div",Ja,[qa,(0,n.bF)(l,{options:s.localData.regimeTypeOptions,modelValue:s.localData.regimeType,"onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.regimeType=e),label:"regimeType",searchable:!0,reduce:e=>e.regimeTypeId,filterable:!0,placeholder:"Select a Regime Type"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Ya,[Ha,(0,n.bF)(l,{options:s.localData.incotermsList,modelValue:s.localData.incoTerms,"onUpdate:modelValue":t[21]||(t[21]=e=>s.localData.incoTerms=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select an Incoterm"},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",Ka,[za,(0,n.bF)(l,{options:s.countryList,modelValue:s.localData.countryOfOrigin,"onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.countryOfOrigin=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Origin"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Qa,[(0,n.Lk)("div",Za,[(0,n.Lk)("div",er,[tr,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containerCharges","onUpdate:modelValue":t[23]||(t[23]=e=>s.localData.containerCharges=e),required:""},null,512),[[r.Jo,s.localData.containerCharges]])])]),(0,n.Lk)("div",or,[(0,n.Lk)("div",ar,[rr,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"localFee","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.localFee=e),required:""},null,512),[[r.Jo,s.localData.localFee]])])]),(0,n.Lk)("div",nr,[(0,n.Lk)("div",sr,[ir,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"depositAmount","onUpdate:modelValue":t[25]||(t[25]=e=>s.localData.depositAmount=e),required:""},null,512),[[r.Jo,s.localData.depositAmount]])])]),(0,n.Lk)("div",lr,[(0,n.Lk)("div",cr,[ur,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"additionalCharges","onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.additionalCharges=e),required:""},null,512),[[r.Jo,s.localData.additionalCharges]])])])]),(0,n.Lk)("div",dr,[(0,n.Lk)("div",mr,[(0,n.Lk)("div",hr,[pr,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"marksAndNumbers","onUpdate:modelValue":t[27]||(t[27]=e=>s.localData.marksAndNumbers=e),required:""},null,512),[[r.Jo,s.localData.marksAndNumbers]])])]),(0,n.Lk)("div",yr,[gr,(0,n.bF)(l,{options:s.countryList,modelValue:s.localData.countryOfFinalDestination,"onUpdate:modelValue":t[28]||(t[28]=e=>s.localData.countryOfFinalDestination=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Destination"},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",fr,[(0,n.Lk)("div",vr,[br,(0,n.bF)(l,{options:s.countryList,modelValue:s.localData.countryLastProvinance,"onUpdate:modelValue":t[29]||(t[29]=e=>s.localData.countryLastProvinance=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Last Provinance"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",kr,[(0,n.Lk)("div",Lr,[Cr,(0,n.bF)(l,{options:s.countryList,modelValue:s.localData.tradingCountry,"onUpdate:modelValue":t[30]||(t[30]=e=>s.localData.tradingCountry=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Trading Country"},null,8,["options","modelValue","reduce"])])])])])}function _r(){const e=(0,Co.KR)([{code:"EXW",name:"Ex Works"},{code:"FCA",name:"Free Carrier"},{code:"CPT",name:"Carriage Paid To"},{code:"CIP",name:"Carriage and Insurance Paid To"},{code:"DAP",name:"Delivered At Place"},{code:"DAT",name:"Delivered At Terminal"},{code:"DDP",name:"Delivered Duty Paid"},{code:"FAS",name:"Free Alongside Ship"},{code:"FOB",name:"Free On Board"},{code:"CFR",name:"Cost and Freight"},{code:"CIF",name:"Cost, Insurance and Freight"}]);return e}var Er={name:"CustomsEntryForm",props:["customsEntryForm"],mounted(){console.log("Mounting"),this.getConfigurations(),this.localData.packageTypes=Do(),this.localData.incotermsList=_r(),this.currencies=_o(),this.localData.modeOfTransportOOptions=Fo()},data(){return{freightTypeOptions:[],localData:this.customsEntryForm,countryList:[],currencies:[]}},computed:{availableFreightTypes(){const e=this.localData.modeOfTransportOOptions?.find((e=>e.modeOfTransport===this.localData.modeOfTransport))?.freightTypes;return e}},methods:{setModeOfTransport(e){this.$nextTick((()=>{this.localData.modeOfTransport=e,this.$refs.modeOfTransportSelect.dispatchEvent(new Event("change"))}))},updateModeOfTransport(e){const t=this.localData.modeOfTransportOOptions.find((t=>t.modeOfTransport===e.target.value));this.freightTypeOptions=t.freightTypes},updateField(e,t){this.localData[e]=t,console.log(this.localData),this.$emit("update-section-one",this.localData)},async getConfigurations(){console.log("Fetching configurations..."),this.localData.ports=await kt(),Promise.all([mt(),ct(),_t(),dt(),pt()]).then((([e,t,o,a,r])=>{this.localData.exporters=e,this.localData.importers=t,this.localData.vessels=o,this.localData.declarants=a,this.countryList=r}))}},watch:{customsEntryForm:{deep:!0,handler(e){this.localData=e,this.localData.portOfDischargeName=this.localData.ports.find((e=>e.id===this.localData.portOfDischargeId))?.name,this.localData.vesselName=this.localData.vessels.find((e=>e.id===this.localData.vesselId))?.name,this.localData.regimeTypeCode=this.localData.regimeTypeOptions.find((e=>e.regimeTypeId===this.localData.regimeType))?.regimeTypeCode;const t=this.localData.importers.find((e=>e.id===this.localData.importerId)),o=this.localData.exporters.find((e=>e.id===this.localData.exporterId));this.localData.importerName=void 0!==t?t.name:"",this.localData.importerTaxIdentificationNumber=void 0!==t?t.taxIdentificationNumber:"",this.localData.exporterName=void 0!==o?o.name:"",this.localData.exporterTaxIdentificationNumber=void 0!==o?o.taxIdentificationNumber:"",this.localData.exporterCountry=void 0!==o?o.country:"",null===this.localData.countryOfOrigin||null!=this.localData.countryLastProvinance&&""!=this.localData.countryLastProvinance&&void 0!=this.localData.countryLastProvinance||(this.localData.countryLastProvinance=this.localData.countryOfOrigin),null===this.localData.countryOfOrigin||null!=this.localData.tradingCountry&&""!=this.localData.tradingCountry&&void 0!=this.localData.tradingCountry||(this.localData.tradingCountry=this.localData.countryOfOrigin),null!==this.localData.ratesOfExchange&&this.localData.ratesOfExchange.length>0&&(console.log("Rates of Exchange Form",this.localData.ratesOfExchange),console.log("Insurance Currency",this.localData.insuranceCurrency),console.log("Freight Currency",this.localData.freightCurrency),console.log("Other Charges Currency",this.localData.otherChargesCurrency),this.localData.insuranceRateOfExchange=this.localData.insuranceCurrency?this.localData.ratesOfExchange.find((e=>e.base_currency===this.localData.insuranceCurrency)).rate:1,this.localData.freightRateOfExchange=this.localData.freightCurrency?this.localData.ratesOfExchange.find((e=>e.base_currency===this.localData.freightCurrency)).rate:1,this.localData.otherChargesRateOfExchange=this.localData.otherChargesCurrency?this.localData.ratesOfExchange.find((e=>e.base_currency===this.localData.otherChargesCurrency)).rate:1,console.log("Insurance Rate",this.localData.insuranceRateOfExchange),console.log("Freight Rate",this.localData.freightRateOfExchange),console.log("Other Charges Rate",this.localData.otherChargesRateOfExchange))}}}};const Fr=(0,D.A)(Er,[["render",Dr],["__scopeId","data-v-940602a2"]]);var xr=Fr;const Tr={STANDARD:"STANDARD",VEHICLES:"VEHICLES"},Sr={NOT_CLASSIFIED:"Not Classified",NOT_STARTED:"Classification Not Started",IN_PROGRESS:"Classification In Progress",COMPLETED:"Classification Completed",APPROVED:"Classififcation Approved"};var Ir={name:"App",components:{CustomsEntryForm:xr},data(){return{referenceNumber:"",selectedFiles:[],invoiceDataArray:[],isDragOver:!1,isValidReference:!1,waybillNumber:"",waybillDate:(new Date).toISOString().substr(0,10),modeOfTransport:"",freightType:"",marksAndNumbers:"As Addressed",countryOfOrigin:"",expandedIndex:null,cpcCode:"4000",npcCode:"000",kindOfPackage:"CT",numberOfPackages:"",consignee:"",shipper:"",supplier:"",totalCargoValue:0,totalNumberOfLines:0,freightCharge:0,rateOfExchange:1,netWeight:0,grossWeight:0,editableContent:"0",countries:[],modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["000"],packageTypeOptions:[],currencies:[],showModeofTransportDropdown:!1,customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],ratesOfExchange:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,freightCurrency:"USD",insuranceCurrency:"USD",otherChargesCurrency:"USD",insuranceRateOfExchange:0,otherChargesRateOfExchange:0,freightRateOfExchange:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT",countryLastProvinance:"",tradingCountry:""}}},watch:{"customsEntryForm.countryOfOrigin"(e,t){this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.country_of_origin&&0!==t.country_of_origin.trim().length||(t.country_of_origin=e)}))}))},"customsEntryForm.waybillDate"(e){this.updateRates(e)},invoiceDataArray:{handler:function(e){this.customsEntryForm.ratesOfExchange.length>0&&e.forEach((e=>{this.$watch((()=>e.currency),(t=>{t&&(e.rate_of_exchange=this.customsEntryForm.ratesOfExchange.find((e=>e.base_currency===t)).rate)}),{deep:!0})}))},deep:!0,immediate:!0}},setup(){return{}},mounted(){this.fetchCountries(),this.packageTypeOptions=Do(),this.currencies=_o(),this.updateEntryFields("marksAndNumbers","As Addressed"),this.getTotalNumberOfLines(),this.getRegimeTypes(),this.fetchNpcCodes()},computed:{classificationStatus(){return 0===this.invoiceDataArray.length||this.thnCodesCompleted?Sr.NOT_CLASSIFIED:Sr.COMPLETED},thnCodesCompleted(){return this.invoiceDataArray.some((e=>e.invoice_items.some((e=>!e.thn_code||""===e.thn_code.trim()))))},totalFOBValue(){return this.invoiceDataArray.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},entryButtonDisabled(){return!(this.hasInvoiceNumber||this.waybillNumber.trim().length>0||this.consignee.trim().length>0)},hasInvoiceNumber(){for(let e of this.invoiceDataArray)if(e.invoice_id&&e.invoice_id.trim().length>0)return console.log("Invoice Number Found"),!0;return!1},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},methods:{calculateInvoiceTotal(e){const t=parseFloat(e.invoice_total)||0,o=parseFloat(e.inland)||0,a=parseFloat(e.insurance)||0,r=parseFloat(e.otherCharges)||0,n=t+o+a+r;return n.toFixed(2)},updateTariffCode(e,t,o,a){if(console.log("Updating Tariff Code"),console.log("Item Index: ",t),this.updateItem(e,t,o,a),void 0===a||null===a||0===a.trim().length||"N/A"===a)return e.icdCharge=0,void(e.vatCharge=0);console.log("Fetching charges for: ",a),It(a.replace(/\./g,"")).then((o=>{let a=o.charges["import custom duty"];const r=void 0===a?0:parseFloat(a[0].charge_amount);let n=o.charges["value added tax"];const s=void 0===n?0:parseFloat(n[0].charge_amount);console.log("ICD Charge: ",r),console.log("VAT Charge: ",s),e.invoice_items[t]["icdCharge"]=r,e.invoice_items[t]["vatCharge"]=s,e.invoice_items[t]["commodityCodeStatus"]="valid"})).catch((t=>{console.error("Failed to get commodity charges:",t),e.commodityCodeStatus="invalid",e.icdCharge=0,e.vatCharge=0}))},updateRates(e){console.log("Updating Rates"),Ct(e).then((e=>{console.log("Rates:",e),this.customsEntryForm.ratesOfExchange=e,this.invoiceDataArray.forEach((t=>{t.currency&&(console.log("Invoice Currency: ",t.currency),t.rate_of_exchange=e.find((e=>e.base_currency===t.currency)).rate)}))}))},toggleDetails(e){this.expandedIndex=this.expandedIndex===e?null:e},setDefaults(){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===a.defaultRegimeTypeCode));this.customsEntryForm.regimeType=e.regimeTypeId,console.log("Regime Data: ",e)},async getRegimeTypes(){vt("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e;const t=e.find((e=>e.regimeTypeCode===Eo().defaultRegimeType));this.customsEntryForm.regimeType=t.regimeTypeId}))},async fetchNpcCodes(){bt().then((e=>{this.npcCodeOptions=e,console.log("NPC Codes: ",e)}))},setInvoiceLineWorksheetData(){let e=[];return this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const o=It(t.thn_code.replace(/\./g,"")).then((e=>{let o=Jt(e.charges);t.commodity={code:t.thn_code.replace(/\./g,""),id:e.id,charges:o}}));e.push(o)}))})),Promise.all(e)},generateWorkSheet(){console.log("Generating WorkSheet"),this.setInvoiceLineWorksheetData();const e=Xt(this.referenceNumber,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee),t=Zt(this.invoiceDataArray,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),Ft(e).then((e=>{uo(),lo("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Worksheet - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),mo("Failed to generate worksheet!")}))},insertFullStops(e){if(11!==e.length)throw new Error("The string must contain exactly 11 numbers.");return e.slice(0,4)+"."+e.slice(4,6)+"."+e.slice(6)},convertAWSData(e){return e.map((e=>e.map((e=>{const t=e.summary_fields,o=e.line_items.map((e=>{const t={product_code:"",quantity:"",unit_price:"",description:"",amount:"",thn_code:""};return e.forEach((e=>{switch(e.field_type){case"PRODUCT_CODE":t.product_code=e.cell_data.text;break;case"QUANTITY":t.quantity=e.cell_data.text;break;case"UNIT_PRICE":t.unit_price=e.cell_data.text;break;case"ITEM":t.description=e.cell_data.text;break;case"PRICE":t.amount=e.cell_data.text;break;case"recommended_commodity_code":console.log("THN Code: ",e.code),t.thn_code=this.insertFullStops(e.code.toString());break}})),console.log("Item: ",e),console.log("Temp Item: ",t),t}));return{vendor_name:t.VENDOR_NAME,subtotal:t.SUBTOTAL,invoice_total:t.TOTAL,customer_name:t.RECEIVER_NAME,invoice_date:t.INVOICE_RECEIPT_DATE,invoice_id:t.INVOICE_RECEIPT_ID,invoice_items:o}})))).flat()},formatInvoiceData(){const e=this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes)),t=e.find((e=>e.code===Eo().defaultCPCCode)).cpcId;console.log("All CPC Codes: ",e),console.log("Default CPC Code: ",t),this.invoiceDataArray.forEach((e=>{e.invoice_total=this.parseFloatFromString(e.invoice_total),e.inland=this.parseFloatFromString(e.inland),e.insurance=this.parseFloatFromString(e.insurance),e.otherCharges=this.parseFloatFromString(e.otherCharges),e.final_total=this.parseFloatFromString(e.final_total),e.currency="USD",e.invoice_items.forEach((e=>{e.country_of_origin="",e.quantity=this.parseFloatFromString(e.quantity),e.unit_price=this.parseFloatFromString(e.unit_price),e.amount=this.parseFloatFromString(e.amount).toFixed(2),e.vatApplicable=!0,e.cpcCode=t,e.npcCode="000"}))}))},getTotalNumberOfLines(){let e=0;for(let t of this.invoiceDataArray)e+=t.invoice_items.length;this.totalNumberOfLines=e},calculateTotalCargoValue(){let e=0;for(let t of this.invoiceDataArray)e+=this.parseFloatFromString(t.invoice_total);this.customsEntryForm.totalCargoValue=e},validateIntegerInput(e){let t=e.target.innerText.trim();/^\d+$/.test(t)?this.editableContent=t:e.target.innerText=this.editableContent,this.moveCursorToEnd(e.target)},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3.1/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},updateEntryFields(e,t){this[e]=t},selectOption(e){this.$refs.editableDiv.innerText=e,this.showModeofTransportDropdown=!1},verifyData(e){return void 0!==e&&null!==e&&""!==e},validateData(){return console.log("Importer ID: ",this.verifyData(this.customsEntryForm.importerId)),this.verifyData(this.customsEntryForm.importerId)?!!this.verifyData(this.customsEntryForm.exporterId)||(mo("Please select an exporter"),!1):(mo("Please select an importer"),!1)},async saveFiles(){console.log("Saving Files...");const e=new FormData;return e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("files",t)})),jt(e).then((e=>e)).catch((e=>{console.error("Failed to upload the files:",e)}))},async createInvoices(e){if(!this.validateData())return;const t={referenceNumber:this.referenceNumber,waybillNumber:this.customsEntryForm.waybillNumber,waybillDate:this.customsEntryForm.waybillDate,modeOfTransport:this.customsEntryForm.modeOfTransport,freightType:this.customsEntryForm.freightType,marksAndNumbers:this.customsEntryForm.marksAndNumbers,countryOfOrigin:this.customsEntryForm.countryOfOrigin,countryOfFinalDestination:this.customsEntryForm.countryOfFinalDestination,countryLastProvenance:this.customsEntryForm.countryLastProvinance,tradingCountry:this.customsEntryForm.tradingCountry,kindOfPackage:this.customsEntryForm.packageType,numberOfPackages:this.customsEntryForm.numberOfPackages,totalCargoValue:this.customsEntryForm.totalCargoValue,freightCharge:this.customsEntryForm.freightAmount??0,insuranceAmount:this.customsEntryForm.insuranceAmount??0,otherCharges:this.customsEntryForm.otherCharges??0,rateOfExchange:this.customsEntryForm.rateOfExchange,netWeight:this.customsEntryForm.netWeight,grossWeight:this.customsEntryForm.grossWeight,invoiceList:e,declarant:this.customsEntryForm.declarantId,incoTerms:this.customsEntryForm.incoTerms,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,portOfDischarge:this.customsEntryForm.portOfDischargeId,regimeType:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,containerCharges:this.customsEntryForm.containerCharges,additionalCharges:this.customsEntryForm.additionalCharges,localFee:this.customsEntryForm.localFee,entryType:Tr.STANDARD,classificationStatus:this.classificationStatus,classificationApproved:0,classificationApprovedBy:""};console.log("Entry Data 1: ",t);try{ho("Saving your Entry..."),this.saveFiles().then((e=>{console.log("Files saved successfully:",e),t.files=e,Ze(t).then((e=>{console.log("Entry created successfully:",e),this.redirectToEntryDetails(e.entryId),uo(),lo("Entry created successfully")})).catch((e=>{console.error("Failed to create the Entry:",e),mo("Failed to create the Entry. Please try again.")}))})).catch((e=>{console.error("Failed to save the files:",e),mo("Failed to save the files. Please try again.")}))}catch(o){console.error("Failed to create the invoice:",o),mo("Failed to create the Entry. Please try again.")}},redirectToEntryDetails(e){this.$router.push({name:"EntryDetails",params:{entryId:e}})},handleInput(e,t,o){const a=e.target.innerText,r=a.replace(/[^0-9]/g,""),n=this.formatValue(r);e.target.innerText=n,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},truncateString(e){return e.length>13?e.substring(0,14):e},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)},validateInput(){this.isValidReference=this.referenceNumber.trim().length>0},handleFileUpload(e){this.isValidReference&&(this.selectedFiles=Array.from(e.target.files))},dragOver(e){this.isValidReference&&(this.isDragOver=!0)},dragEnter(e){this.isValidReference&&(this.isDragOver=!0)},dragLeave(e){this.isValidReference&&(this.isDragOver=!1)},uploadFilesMicrosoft(){this.isValidReference&&0!==this.selectedFiles.length?(ho("Verifying Reference Number..."),Wt(this.referenceNumber).then((e=>{if(!1===e)return uo(),void mo(`Reference Number ${this.referenceNumber} Already Exists. Please enter a new reference number.`);uo();const t=new FormData;t.append("reference",this.referenceNumber),this.selectedFiles.forEach((e=>{t.append("files",e)})),console.log("Form Data: ",t),ho("Reading your invoice..."),fetch("https://gabrielle-flask.azurewebsites.net/read_vendor_invoice",{method:"POST",body:t}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=e,this.formatInvoiceData(),console.log("Invoice Data: ",this.invoiceDataArray),uo(),lo("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines(),co("Classifying Invoice Items..."),this.classifyInvoiceItems().then((e=>{uo(),console.log("Commodity Code: ",e),this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach(((o,a)=>{const r=e.find((e=>e.description===o.description));void 0!==r.commodity&&null!==r.commodity&&(console.log("Commodity Code Found: ",r),o.thn_code=this.insertFullStops(r.commodity.code.toString()),this.updateTariffCode(t,a,"thn_code",o.thn_code))}))})),lo("Invoice data read and classified."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()}))})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))}))):alert("Please enter a valid reference number and select files before uploading.")},uploadFiles(){this.isValidReference&&0!==this.selectedFiles.length?Wt(this.referenceNumber).then((e=>{if(!1===e)return uo(),void mo(`Reference Number ${this.referenceNumber} Already Exists. Please enter a new reference number.`);uo();const t=new FormData;t.append("reference",this.referenceNumber),this.selectedFiles.forEach((e=>{t.append("commercialInvoice",e)})),ho("Reading your invoice..."),fetch("https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//analyze-document",{method:"POST",body:t}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=this.convertAWSData(e),this.formatInvoiceData(),uo(),lo("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))})):alert("Please enter a valid reference number and select files before uploading.")},removeUnsafeCharacters(e){const t=/^[a-zA-Z0-9-_.~ ]*$/;return Array.from(e).filter((e=>t.test(e))).join("")},async classifyInvoiceItems(){console.log("Classifying Invoice Items");const e=this.invoiceDataArray.flatMap((e=>e.invoice_items.map((e=>({description:e.description})))));function t(e,t){const o=[];for(let a=0;a<e.length;a+=t)o.push(e.slice(a,a+t));return o}console.log("Descriptions: ",e);const o=t(e,5),a=o.map((e=>Rt(e))),r=await Promise.all(a),n=r.flatMap((e=>e));return n},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+this.parseFloatFromString(t.amount||0)),0).toFixed(2)},updateData(e,t,o){e[t]=o},updateItem(e,t,o,a){e.invoice_items[t][o]=a},deleteRow(e,t){e.invoice_items.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.invoice_items.push(t)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),o=parseFloat(e.amount).toFixed(2);return[e.unit_price,e.quantity,e.amount].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==o?{"font-weight":"bold",color:"red"}:{}},naStyle(e){return[null,void 0,"",!1].includes(e)?{"font-weight":"bold",color:"#B8860B"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.invoice_items),o=parseFloat(e.invoice_total||0).toFixed(2);return t!==o?{backgroundColor:"red",color:"white"}:{}},parseFloatFromString(e){if(!e||void 0===e||null===e)return 0;if("number"===typeof e)return e;let t=e.replace(/[^0-9.]/g,""),o=parseFloat(t);return o}}};const Or=(0,D.A)(Ir,[["render",qe]]);var Ar=Or;const Nr=(0,n.Lk)("h1",null,"Entries",-1),wr={class:"table table-bordered"},Pr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Entry #"),(0,n.Lk)("th",null,"Consignee"),(0,n.Lk)("th",null,"Invoice Number"),(0,n.Lk)("th",null,"Waybill Number"),(0,n.Lk)("th",null,"Classififcation Status"),(0,n.Lk)("th",null,"Actions")])],-1),Rr=["onClick"],Vr={key:0,class:"error-message"};function Ur(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[Nr,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchTerm=e),placeholder:"Search entries"},null,512),[[r.Jo,s.searchTerm]]),(0,n.Lk)("table",wr,[Pr,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredEntries,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.entry_id},[(0,n.Lk)("td",null,(0,x.v_)(e.entry_number),1),(0,n.Lk)("td",null,(0,x.v_)(e.importerName),1),(0,n.Lk)("td",null,(0,x.v_)(e.invoice_number?e.invoice_number.split("; ")[0]:""),1),(0,n.Lk)("td",null,(0,x.v_)(e.waybill_number),1),(0,n.Lk)("td",null,[(0,n.Lk)("h5",null,[(0,n.Lk)("span",{class:(0,x.C4)({"badge bg-success":"Classififcation Approved"===i.getStatusText(e.classification_approved),"badge bg-warning text-dark":"Not Classified"===i.getStatusText(e.classification_approved)})},(0,x.v_)(i.getStatusText(e.classification_approved)),3)])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",onClick:t=>i.openEntry(e.entry_id,e.entry_type)},"Edit",8,Rr)])])))),128))])]),s.error?((0,n.uX)(),(0,n.CE)("div",Vr,(0,x.v_)(s.error),1)):(0,n.Q3)("",!0)])}var Br={data(){return{entries:[],error:null,searchTerm:""}},created(){this.fetchEntries()},methods:{getStatusText(e){return e?Sr.APPROVED:Sr.NOT_CLASSIFIED},openEntry(e,t){t&&t===Tr.VEHICLES?this.$router.push({name:"VehicleEntryEditPage",params:{entryId:e}}):this.$router.push({name:"EntryDetails",params:{entryId:e}})},async fetchEntries(){try{const e=await He().get("https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/entries");this.entries=e.data}catch(e){this.error=e.message,console.error("There was an error!",e)}}},computed:{filteredEntries(){if(!this.searchTerm)return this.entries;const e=this.searchTerm.toLowerCase();return this.entries.filter((t=>t.entry_number&&t.entry_number.toString().toLowerCase().includes(e)||t.waybill_number&&t.waybill_number.toString().toLowerCase().includes(e)||t.invoice_number&&t.invoice_number.split("; ").some((t=>t.toLowerCase().includes(e)))||t.consignee&&t.consignee.toString().toLowerCase().includes(e)))}}};const jr=(0,D.A)(Br,[["render",Ur]]);var $r=jr;const Wr={key:0},Xr={class:"row"},Gr=(0,n.Lk)("div",{class:"col-md-10"},null,-1),Mr={class:"col-md-2"},Jr={class:"badge-container"},qr=(0,n.Lk)("h1",null,"Entry Details",-1),Yr={key:0},Hr=(0,n.Lk)("h3",null,"Commercial Invoices",-1),Kr=(0,n.Lk)("h3",null,"Header Information",-1),zr={class:"form-row"},Qr={class:"row"},Zr={class:"col-md-2"},en=(0,n.Lk)("label",{for:"InvoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),tn=["onUpdate:modelValue"],on={class:"col-md-2"},an=(0,n.Lk)("label",{for:"SupplierName",class:"form-label"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),rn=["onUpdate:modelValue"],nn={class:"col-md-2"},sn=(0,n.Lk)("label",{for:"InvoiceDate",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),ln=["onUpdate:modelValue"],cn={class:"col-md-2"},un=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),dn={class:"col-md-2"},mn=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),hn=["onUpdate:modelValue"],pn={class:"col-md-2"},yn=(0,n.Lk)("label",{class:"form-label"},[(0,n.Lk)("strong",null,"Download Invoice")],-1),gn=["href"],fn=(0,n.Lk)("i",{class:"fas fa-file-pdf fa-2x"},null,-1),vn=[fn],bn=(0,n.Lk)("h3",null,"Line Details",-1),kn=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Duty"),(0,n.Lk)("th",null,"VAT"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Actions")])],-1),Ln=["onBlur"],Cn=["onBlur"],Dn=["onBlur"],_n=["onBlur"],En=["onBlur"],Fn=["onBlur"],xn=["onClick"],Tn={key:0},Sn=(0,n.Lk)("i",{class:"fas fa-chevron-up",style:{color:"gray"}},null,-1),In=[Sn],On={key:1},An=(0,n.Lk)("i",{class:"fas fa-chevron-down",style:{color:"gray"}},null,-1),Nn=[An],wn={key:0},Pn={colspan:"10"},Rn={class:"row"},Vn={class:"col-md-4"},Un=(0,n.Lk)("label",{for:"countryOfOrigin",class:"form-label"},[(0,n.Lk)("strong",null,"Country of Origin")],-1),Bn={class:"col-md-4"},jn=(0,n.Lk)("label",{for:"cpcCode",class:"form-label"},[(0,n.Lk)("strong",null,"CPC Code")],-1),$n={class:"col-md-3"},Wn=(0,n.Lk)("label",{for:"npcCode",class:"form-label"},[(0,n.Lk)("strong",null,"NPC Code")],-1),Xn={class:"col-md-1"},Gn=(0,n.Lk)("label",{for:"delete",class:"form-label"},[(0,n.Lk)("strong",null,"Delete")],-1),Mn=["onClick"],Jn=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),qn=[Jn],Yn={colspan:"7"},Hn=["onClick"],Kn=(0,n.Lk)("h3",null,"Footer Information",-1),zn=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges"),(0,n.Lk)("th",null,"Final Total")])],-1),Qn=["onBlur"],Zn=["onBlur"],es=["onBlur"],ts=["onBlur"],os=["onBlur"],as=(0,n.Lk)("h3",null,"Calculated Check",-1),rs=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),ns=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),ss=["disabled"],is=["disabled"],ls=["disabled"];function cs(e,t,o,a,s,i){const l=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return s.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",Wr,[(0,n.Lk)("div",Xr,[Gr,(0,n.Lk)("div",Mr,[(0,n.Lk)("div",Jr,[(0,n.Lk)("h3",null,[(0,n.Lk)("span",{class:(0,x.C4)(["badge",{"bg-success":"Classififcation Approved"===i.classificationStatus,"bg-warning text-dark":"Classification In Progress"===i.classificationStatus,"bg-danger":"Not Classified"===i.classificationStatus},"fixed-badge"])},(0,x.v_)(this.classificationStatus),3)])])])]),qr,(0,n.Lk)("h2",null,"Reference Number: "+(0,x.v_)(this.entryDetails?.entry_number),1),(0,n.bF)(l,{ref:"myCustomsForm",customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[0]||(t[0]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"]),s.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",Yr,[Hr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.commercialInvoices,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:o},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,x.v_)(o+1),1),Kr,(0,n.Lk)("div",zr,[(0,n.Lk)("div",Qr,[(0,n.Lk)("div",Zr,[en,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_number=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,tn),[[r.Jo,e.invoice_number]])]),(0,n.Lk)("div",on,[an,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,rn),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",nn,[sn,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,ln),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",cn,[un,(0,n.bF)(c,{options:s.currencies,modelValue:e.currency,"onUpdate:modelValue":t=>e.currency=t,label:"name",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("div",dn,[mn,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,hn),[[r.Jo,e.rate_of_exchange]])]),(0,n.Lk)("div",pn,[yn,(0,n.Lk)("div",null,[(0,n.Lk)("a",{href:e.file_url,target:"_blank"},vn,8,gn)])])])]),bn,(0,n.Lk)("table",null,[kn,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.lines,((o,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,x.v_)(a+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>i.updateInvoiceData(o,"product_code",e.target.innerText)},(0,x.v_)(o.product_code||"N/A"),41,Ln),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>i.updateInvoiceData(o,"description",e.target.innerText)},(0,x.v_)(o.description||"N/A"),41,Cn),(0,n.Lk)("td",{class:(0,x.C4)(["valid"===o.commodityCodeStatus?"valid-commodity-code":"invalid-commodity-code"]),contenteditable:"true",onInput:t[1]||(t[1]=e=>i.handleInput(e)),onBlur:e=>i.updateTariffCode(o,"tariff_code",e.target.innerText)},(0,x.v_)(o.tariff_code||"N/A"),43,Dn),(0,n.Lk)("td",null,(0,x.v_)(o.icdCharge)+"%",1),(0,n.Lk)("td",null,(0,x.v_)(o.vatCharge)+"%",1),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>i.updateInvoiceData(o,"quantity",e.target.innerText),style:(0,x.Tr)(i.naStyle(o.quantity))},(0,x.v_)(o.quantity||"N/A"),45,_n),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>i.updateInvoiceData(o,"unit_price",e.target.innerText),style:(0,x.Tr)(i.naStyle(o.unit_price))},(0,x.v_)(o.unit_price||"N/A"),45,En),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>i.updateInvoiceData(o,"extension_price",e.target.innerText),style:(0,x.Tr)(i.extensionStyle(o))},(0,x.v_)(o.extension_price||"N/A"),45,Fn),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>i.toggleDetails(a)},[s.expandedIndex===a?((0,n.uX)(),(0,n.CE)("span",Tn,In)):((0,n.uX)(),(0,n.CE)("span",On,Nn))],8,xn)])]),s.expandedIndex===a?((0,n.uX)(),(0,n.CE)("tr",wn,[(0,n.Lk)("td",Pn,[(0,n.Lk)("div",Rn,[(0,n.Lk)("div",Vn,[Un,(0,n.bF)(c,{options:s.countries,modelValue:o.country_of_origin,"onUpdate:modelValue":e=>o.country_of_origin=e,label:"name",id:"country",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("div",Bn,[jn,(0,n.bF)(c,{options:i.availableCPCCodes,modelValue:o.cpcCode,"onUpdate:modelValue":e=>o.cpcCode=e,label:"cpcDisplay",id:"cpcCode",searchable:!0,filterable:!0,reduce:e=>e.cpcId},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("div",$n,[Wn,(0,n.bF)(c,{modelValue:o.npcCode,"onUpdate:modelValue":e=>o.npcCode=e,options:s.npcCodeOptions,label:"code_description",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",Xn,[Gn,(0,n.Lk)("div",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>i.deleteRow(e,a)},qn,8,Mn)])])])])])):(0,n.Q3)("",!0)],64)))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Yn,[(0,n.Lk)("button",{onClick:t=>i.addNewLine(e)},"Add New Line",8,Hn)])])])]),Kn,(0,n.Lk)("table",null,[zn,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateInvoiceData(e,"invoice_total",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.invoice_total))},(0,x.v_)(e.invoice_total||0),45,Qn),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateInvoiceData(e,"inland",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.inland))},(0,x.v_)(e.inland||0),45,Zn),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateInvoiceData(e,"insurance",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.insurance))},(0,x.v_)(e.insurance||0),45,es),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>i.updateInvoiceData(e,"other_charges",t.target.innerText),style:(0,x.Tr)(i.naStyle(e.other_charges))},(0,x.v_)(e.other_charges||0),45,ts),(0,n.Lk)("td",{onBlur:t=>i.updateInvoiceData(e,"final_total",t.target.innerText)},(0,x.v_)(i.calculateInvoiceTotal(e)),41,os)])])]),as,(0,n.Lk)("table",null,[rs,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,x.Tr)(i.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,x.v_)(i.calculateTotalExtensionPrice(e.lines)),1),(0,n.Lk)("td",null,(0,x.v_)(e.lines.length),1),(0,n.Lk)("td",null,(0,x.v_)(i.calculateTotalExtensionPrice(e.lines)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("table",null,[ns,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,x.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,x.v_)(this.totalFOBValue),1)])])]),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",disabled:i.isGenerateCsvDisabled,onClick:t[2]||(t[2]=(...e)=>i.generateAsycudaXML&&i.generateAsycudaXML(...e))},"Generate Asycuda XML",8,ss)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>i.saveData&&i.saveData(...e))},"Save Entry")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>i.goToCustomsDeclarationPage(this.entryId))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:i.isGenerateCsvDisabled,onClick:t[5]||(t[5]=(...e)=>i.generateWorkSheet&&i.generateWorkSheet(...e))},"Generate Worksheet",8,is)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>i.generateDepositForm&&i.generateDepositForm(...e))},"Generate Deposit Form")])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>i.generateCARICOM&&i.generateCARICOM(...e))},"Generate CARICOM Invoice")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:i.isGenerateCsvDisabled,onClick:t[8]||(t[8]=(...e)=>i.approveClassification&&i.approveClassification(...e))},"Approve Classification",8,ls)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=(...e)=>i.displayRatesTable&&i.displayRatesTable(...e))},"View Rates of Exchange")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[10]||(t[10]=(...e)=>i.generateTTC84&&i.generateTTC84(...e))},"Generate Special Exemption")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[11]||(t[11]=(...e)=>i.generateOvertimeForm&&i.generateOvertimeForm(...e))},"Generate Overtime Form")])])])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)}var us=o(2830),ds=o.n(us),ms={name:"EntryDetails",components:{CustomsEntryForm:xr},props:{entryId:{type:[String,Number],required:!0}},watch:{totalFOBValue(e){this.customsEntryForm.totalCargoValue=e},"customsEntryForm.waybillDate"(e){this.updateRates(e)},commercialInvoices:{handler:function(e){console.log("Invoice Changes"),console.log("Rates of Exchange: ",this.customsEntryForm.ratesOfExchange),this.customsEntryForm.ratesOfExchange.length>0&&(console.log("Rate of Exchange: ",this.customsEntryForm.ratesOfExchange),e.forEach((e=>{console.log("Invoice Currency: ",e.currency),this.$watch((()=>e.currency),(t=>{t&&(console.log("New Currency: ",t),e.rate_of_exchange=this.customsEntryForm.ratesOfExchange.find((e=>e.base_currency===t)).rate)}),{deep:!0,immediate:!0})})))},deep:!0,immediate:!0}},computed:{totalFOBValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},toalInsuranceValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.insurance)),0).toFixed(2)},totalInlandValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.inland)),0).toFixed(2)},totalOtherChargesValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.other_charges)),0).toFixed(2)},netInvoicePrice(){return parseFloat(this.totalFOBValue)+parseFloat(this.toalInsuranceValue)+parseFloat(this.totalInlandValue)+parseFloat(this.totalOtherChargesValue)},formattedDate:{get(){const e=new Date(this.entryDetails.waybill_date);return e.toISOString().split("T")[0]},set(e){this.entryDetails.waybill_date=e}},isGenerateCsvDisabled(){return this.commercialInvoices.some((e=>e.lines.some((e=>!e.tariff_code||""===e.tariff_code.trim()))))},classificationStatus(){const e=ro(this.commercialInvoices)?Sr.NOT_CLASSIFIED:Sr.COMPLETED;return!1===e?Sr.NOT_CLASSIFIED:1===this.classificationApproved?Sr.APPROVED:Sr.NOT_CLASSIFIED},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},data(){return{entryDetails:null,waybill:{},entry:{},commercialInvoices:[],linesToBeDeleted:[],dataRetrieved:!1,loading:!1,error:null,countries:[],totalNumberOfLines:0,modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["000"],packageTypeOptions:[],currencies:[],classificationApprovedBy:"",expandedIndex:null,classificationApproved:0,customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],ratesOfExchange:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",freightCurrency:"USD",insuranceCurrency:"USD",otherChargesCurrency:"USD",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,insuranceRateOfExchange:0,otherChargesRateOfExchange:0,freightRateOfExchange:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT",countryLastProvinance:"",tradingCountry:""}}},mounted(){this.fetchAllDetails(),this.fetchCountries(),this.fetchNpcCodes(),this.packageTypeOptions=Do(),this.currencies=_o()},methods:{calculateInvoiceTotal(e){const t=parseFloat(e.invoice_total)||0,o=parseFloat(e.inland)||0,a=parseFloat(e.insurance)||0,r=parseFloat(e.other_charges)||0,n=t+o+a+r;return n.toFixed(2)},displayRatesTable(){if(void 0===this.customsEntryForm.waybillDate||null===this.customsEntryForm.waybillDate||0===this.customsEntryForm.waybillDate.trim().length)return void mo("Please Enter a valid Waybill Date to get rates of Exchange!");0===this.customsEntryForm.ratesOfExchange.length&&this.updateRates(this.customsEntryForm.waybillDate);const e=[this.customsEntryForm.freightCurrency,this.customsEntryForm.insuranceCurrency,this.customsEntryForm.otherChargesCurrency],t=this.customsEntryForm.ratesOfExchange.filter((t=>e.includes(t.base_currency)));Lo(t)},updateRates(e){console.log("Updating Rates"),Ct(e).then((e=>{console.log("Rates:",e),this.customsEntryForm.ratesOfExchange=e,this.commercialInvoices.forEach((t=>{t.currency&&e.length>0&&(console.log("Invoice Currency: ",t.currency),t.rate_of_exchange=e.find((e=>e.base_currency===t.currency)).rate)}))}))},verifyClassificationCodes(){let e=!1;return this.commercialInvoices.forEach((t=>{t.lines.forEach((t=>{console.log("Line: ",t.commodityCodeStatus),"invalid"===t.commodityCodeStatus&&(mo(`The following commodity code does not exist on Asycuda - ${t.tariff_code}. Please update this and try again.`),e=!0)}))})),!e},approveClassification(){this.verifyClassificationCodes()&&(console.log("Approving Classification"),vo().then((e=>{const t=e;console.log("Name: ",t),this.classificationApprovedBy=t,this.classificationApproved=1,this.saveData()})))},toggleDetails(e){this.expandedIndex=this.expandedIndex===e?null:e},inializeTaxes(){this.commercialInvoices.forEach((e=>{e.lines.forEach((e=>{void 0!==e.tariff_code&&null!==e.tariff_code&&e.tariff_code.trim().length>0&&"N/A"!==e&&this.updateTariffCode(e,"tariff_code",e.tariff_code)}))}))},updateTariffCode(e,t,o){if(this.updateInvoiceData(e,t,o),void 0===o||null===o||0===o.trim().length||"N/A"===o)return e.icdCharge=0,void(e.vatCharge=0);It(o.replace(/\./g,"")).then((t=>{let o=t.charges["import custom duty"];const a=void 0===o?0:parseFloat(o[0].charge_amount);let r=t.charges["value added tax"];const n=void 0===r?0:parseFloat(r[0].charge_amount);e.icdCharge=a,e.vatCharge=n,e.commodityCodeStatus="valid"})).catch((t=>{console.error("Failed to get commodity charges:",t),e.commodityCodeStatus="invalid",e.icdCharge=0,e.vatCharge=0}))},setInvoiceLineWorksheetData(){let e=[];return this.commercialInvoices.forEach((t=>{t.lines.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const o=It(t.tariff_code.replace(/\./g,"")).then((e=>{let o=Jt(e.charges,t.vatApplicable);t.commodity={code:t.tariff_code.replace(/\./g,""),id:e.id,charges:o}})).catch((e=>(uo(),mo(`The following commodity code does not exist on Asycuda - ${t.tariff_code}. Please update this and try again. `),console.error("Failed to get commodity charges:",e),Promise.reject(e))));e.push(o)}))})),Promise.all(e)},generateCARICOM(){console.log("Generating CARICOM");const e=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin))?.name,t=this.countries.find((e=>e.code===this.customsEntryForm.countryOfFinalDestination))?.name,o=this.customsEntryForm.incotermsList.find((e=>e.code===this.customsEntryForm.incoTerms))?.name,a=this.currencies.find((e=>e.code===this.commercialInvoices[0].currency))?.name,r=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),n=void 0===r?"":r.address,s=this.countries.find((e=>e.code===r.country))?.name,i=`${this.customsEntryForm.importerName}\n${n}\n${s}`.toUpperCase(),l=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),c=void 0===l?"":l.address,u=this.countries.find((e=>e.code===l.country))?.name,d=`${this.customsEntryForm.exporterName}\n${c}\n${u}`.toUpperCase();fo().then((r=>{const n=oo(i,d,this.entryDetails.entry_number,e,o,this.customsEntryForm.portOfDischargeName,t,this.customsEntryForm.modeOfTransport,this.customsEntryForm.vesselName,a,r,this.customsEntryForm.grossWeight,this.commercialInvoices,this.customsEntryForm.numberOfPackages,this.customsEntryForm.totalCargoValue,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges);ho("Generating CARICOM Invoice..."),Vt(n).then((e=>{uo(),lo("CARICOM Invoice Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`CARICOM Invoice - ${this.entryDetails.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate CARICOM Invoice:",e),mo("Failed to generate CARICOM Invoice!")}))})).catch((e=>{console.error("Failed to generate CARICOM Invoice:",e),mo("Failed to generate CARICOM Invoice!")}))},buildWorksheetObject(){const e=Xt(this.entryDetails?.entry_number,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges),t=Qt(this.commercialInvoices,this.customsEntryForm.freightAmount,this.totalFOBValue);return e.invoices=t,e},generateWorkSheet(){console.log("Generating WorkSheet"),console.log(this.commercialInvoices),this.setInvoiceLineWorksheetData().then((()=>{console.log("Setting Invoice Line Worksheet Data");const e=Xt(this.entryDetails?.entry_number,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges,this.customsEntryForm.freightCurrency,this.customsEntryForm.freightRateOfExchange,this.customsEntryForm.insuranceCurrency,this.customsEntryForm.insuranceRateOfExchange,this.customsEntryForm.otherChargesCurrency,this.customsEntryForm.otherChargesRateOfExchange),t=Qt(this.commercialInvoices,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),bo().then((t=>{ho("Generating worksheet..."),Ft(e,t).then((e=>{uo(),lo("Worksheet Generated Successfully!");const o=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),a=document.createElement("a"),r=`Worksheet - ${this.entryDetails?.entry_number} - ${t}.pdf`;a.href=o,a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),uo(),mo("Failed to generate worksheet!")}))}))})).catch((e=>{console.error("Failed to set invoice line worksheet data:",e)}))},async getPackageTypes(){try{const e=await fetch("./assets/packageTypes.json"),t=await e.json();this.packageTypeOptions=t}catch(e){this.packageTypeOptions=[{value:"CT",text:"Carton"}],console.error("Error fetching data:",e)}},getInvoiceNumbers(){return this.commercialInvoices.map((e=>`${e.invoice_number} \t ${e.invoice_date} \t`)).join("\n")},async generateOvertimeForm(){let e={date:eo(),request:"TO OBTAIN SERVICES OF ONE CUSTOMS OFFICER TO EXAMINE AND RELEASE",details:"",shipper:this.customsEntryForm.exporterName,importer:this.customsEntryForm.importerName,referenceNumber:this.entryDetails?.entry_number,importerAddress:this.customsEntryForm.importerName,declarantNumber:"BR0285",declarantName:"RAMNARINE RAMPERSAD",port:this.customsEntryForm.portOfDischargeName,startTime:"4:00PM"};go().then((t=>{console.log("Importers List: ",this.customsEntryForm.importers);const o=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),a=void 0===o?"":o.address;e.details=t.cargoDetails,e.startTime=t.startTime,e.importerAddress=`${this.customsEntryForm.importerName}\n${a}`,ho("Generating Overtime Form..."),Nt(e).then((e=>{uo(),lo("Overtime Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Overtime Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate Overtime Form:",e),mo("Failed to generate Overtime Form!")}))}))},async generateTTC84(){console.log("Generating TTC84");let e={declarationNumber:this.entryDetails?.entry_number,declarationDate:eo(),regimeCode:"C4",declarantName:"RAMNARINE RAMPERSAD",declarantNumber:"BR0285",referenceNumber:this.entryDetails?.entry_number,importer:this.customsEntryForm.importerName,importNumber:"",declarationContent:"",CPCCode:"4000",extensionCode:"",signatoryName:"",signatoryStatus:"",presigned:!1};const t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=t?.taxIdentificationNumber;e.importNumber=o;let a=await ut();console.log("Signatories: ",a),a=a.filter((e=>e.importerCode===this.customsEntryForm.importerId)),wt(this.customsEntryForm.importerId).then((t=>{const o=t.map((e=>e.declaration_number));yo(o,a).then((o=>{e.presigned=o.generatePreSigned;const r=parseInt(o.select1),n=t[r];e.declarationContent=n.content.replace(/\\n/g,"\n"),e.extensionCode=n.extensionCode;const s=a.find((e=>e.id===parseInt(o.select2)));e.signatoryName=s.name,e.signatoryStatus=s.status,At(e).then((e=>{uo(),lo("C84 Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`C84 Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate C84 Form:",e),mo("Failed to generate C84 Form!")}))}))})).catch((e=>{console.error("Failed to get special exemption declarations:",e)})),console.log("C84 Object: ",e)},async generateDepositForm(){console.log("Generating Deposit Form"),console.log(this.availableCPCCodes),console.log(this.customsEntryForm.regimeTypeOptions);const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId)),t=void 0==e?"":e.portCode,o=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin))?.name,a=this.customsEntryForm.modeOfTransportOOptions.find((e=>e.modeOfTransport===this.customsEntryForm.modeOfTransport)),r=a.freightTypes.find((e=>e.name===this.customsEntryForm.freightType))?.code;ko().then((e=>{const a=to(this.customsEntryForm.regimeTypeCode,this.customsEntryForm.waybillNumber,this.customsEntryForm.waybillDate,this.customsEntryForm.incoTerms,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,"Ramnarine Rampersad","BR0285",this.entryDetails?.entry_number,this.customsEntryForm.exporterName,o,this.customsEntryForm.exporterCountry,this.customsEntryForm.vesselName,r,this.customsEntryForm.portOfDischargeName,t,this.customsEntryForm.depositAmount,e);try{ho("Generating Deposit Form..."),Ot(a).then((e=>{uo(),lo("Deposit Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Deposit Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{mo("Failed to generate Deposit Form!"),console.error("Failed to generate Deposit Form:",e)}))}catch(n){console.error("Failed to generate Deposit Form:",n)}}))},goToCustomsDeclarationPage(){const e=this.getInvoiceNumbers();let t=this.netInvoicePrice;"CIF"===this.customsEntryForm.incoTerms&&(t=t+this.customsEntryForm.freightAmount+this.customsEntryForm.insuranceAmount),console.log("Invoice Numbers: ",e),console.log("Incoterms: ",this.customsEntryForm.incoTerms),console.log("Invoice Total: ",this.netInvoicePrice),this.$router.push({name:"CustomsDeclarationForm",params:{entryId:this.entryId},query:{buyerId:this.customsEntryForm.importerId,sellerId:this.customsEntryForm.exporterId,invoiceNumber:e,invoiceTotal:t,currency:this.commercialInvoices[0].currency,rateOfExchange:this.commercialInvoices[0].rate_of_exchange,freight:this.customsEntryForm.freightAmount*this.commercialInvoices[0].rate_of_exchange,insurance:this.toalInsuranceValue,incoTerms:this.customsEntryForm.incoTerms,referenceNumber:this.entryDetails.entry_number}})},updateWaybillDate(e){this.entryDetails.waybill_date=e.target.value},countryChange(){this.commercialInvoices.forEach((e=>{e.lines.forEach((e=>{e.country_of_origin&&0!==e.country_of_origin.trim().length&&"N/A"!==e.country_of_origin&&void 0!==e.country_of_origin&&null!==e.country_of_origin||(e.country_of_origin=this.entryDetails.country_of_origin)}))}))},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},formatInvoiceData(e){return{invoice_id:e.invoice_id,invoice_number:e.invoice_number,invoice_date:e.invoice_date,invoice_total:e.invoice_total,sub_total:e.sub_total,supplier_name:e.supplier_name,taxed_amount:e.taxed_amount,supplier_address:e.supplier_address,purchase_order_number:e.purchase_order_number,inland:e.inland,insurance:e.insurance,other_charges:e.other_charges,entry_id:e.entry_id,currency:e.currency,rate_of_exchange:e.rate_of_exchange}},getTotalNumberOfLines(){console.log("Calculating total number of lines"),console.log(this.commercialInvoices);let e=0;for(let t of this.commercialInvoices)e+=t.lines.length;console.log("Total Number of Lines: ",e),this.totalNumberOfLines=e},formatInvoiceLinesData(e){return e.map((e=>({invoice_line_id:e.invoice_line_id,description:e.description,quantity:parseFloat(e.quantity),unit_price:parseFloat(e.unit_price),extension_price:parseFloat(e.extension_price),tariff_code:e.tariff_code,product_code:e.product_code,country_of_origin:e.country_of_origin,cpc_code:e.cpcCode,npc_code:e.npcCode,vat_applicable:e.vatApplicable})))},handleInput(e){const t=e.target.innerText,o=t.replace(/[^0-9]/g,""),a=this.formatValue(o);e.target.innerText=a,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},truncateString(e){return e.length>14?e.substring(0,14):e},deleteRow(e,t){console.log(e.lines[t]),this.linesToBeDeleted.push(e.lines[t].invoice_line_id),console.log(this.linesToBeDeleted),e.lines.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.lines.push(t)},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)},saveData(){console.log("Saving data..."),this.loading=!0;let e=[this.updateEntryData(),this.updateWaybillData(),this.saveInvoiceData()];this.linesToBeDeleted.length>0?po().then((t=>{t.isConfirmed&&e.push(this.deleteInvoiceLines()),ho("Saving Data..."),console.log(t),Promise.all(e).then((([e,t])=>{console.log("Entry details updated:",e.data),console.log("Waybill details updated:",t.data),uo(),lo("All Data Saved successfully!")})).catch((e=>{console.error("There was an error saving the data!",e),mo("Failed to save Entry Data!")})).finally((()=>{this.loading=!1}))})):(ho("Saving Data..."),Promise.all(e).then((([e,t])=>{console.log("Entry details updated:",e.data),console.log("Waybill details updated:",t.data),uo(),lo("All Data Saved successfully!")})).catch((e=>{console.error("There was an error saving the data!",e),mo("Failed to save Entry Data!")})).finally((()=>{this.loading=!1})))},naStyle(e){return[null,void 0,"",!1].includes(e)?{backgroundColor:"yellow",color:"black"}:{}},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+parseFloat(t.extension_price||0)),0).toFixed(2)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),o=parseFloat(e.extension_price).toFixed(2);return[e.unit_price,e.quantity,e.extension_price].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==o?{"font-weight":"bold",color:"red"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.lines),o=parseFloat(e.invoice_total||0).toFixed(2);return t!==o?{backgroundColor:"red",color:"white"}:{}},toggleOptions(){console.log(this.freightType)},updateEntryFields(e,t){this.entryDetails[e]=t},updateInvoiceData(e,t,o){e[t]=o,console.log(e)},convertTinyIntoBoolean(e){return 1===e},async fetchAllDetails(){const e="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/";console.log("Fetching details"),this.loading=!0,this.dataRetrieved=!1;try{const t=He().get(`${e}entry-details/${this.entryId}`),o=He().get(`${e}commercial-invoices-with-lines/${this.entryId}`),[a,r]=await Promise.all([t,o]);this.dataRetrieved=!0;let n,s=a.data.waybill_date;if("0000-00-00"!==s&&s){let e=new Date(s);n=isNaN(e)?"":e.toISOString().split("T")[0]}else n="";this.entryDetails=a.data,this.customsEntryForm.importerId=this.entryDetails.importer,this.customsEntryForm.exporterId=this.entryDetails.shipper,this.customsEntryForm.waybillNumber=this.entryDetails.waybill_number,this.customsEntryForm.waybillDate=n,this.customsEntryForm.modeOfTransport=this.entryDetails.mode_of_transport,this.customsEntryForm.freightType=this.entryDetails.freight_type,this.customsEntryForm.vesselId=this.entryDetails.vessel,this.customsEntryForm.portOfDischargeId=this.entryDetails.port_of_discharge,this.customsEntryForm.netWeight=this.entryDetails.net_weight,this.customsEntryForm.grossWeight=this.entryDetails.gross_weight,this.customsEntryForm.numberOfPackages=this.entryDetails.package_quantity,this.customsEntryForm.packageType=this.entryDetails.package_type,this.customsEntryForm.marksAndNumbers=this.entryDetails.marks_and_numbers,this.customsEntryForm.totalCargoValue=this.entryDetails.invoice_total,this.customsEntryForm.freightAmount=this.entryDetails.freight_charge,this.customsEntryForm.insuranceAmount=this.entryDetails.insurance_amount??0,this.customsEntryForm.otherCharges=this.entryDetails.other_charges??0,this.customsEntryForm.rateOfExchange=this.entryDetails.rate_of_exchange,this.customsEntryForm.countryOfOrigin=this.entryDetails.country_of_origin,this.customsEntryForm.countryOfFinalDestination=this.entryDetails.country_of_final_destination,this.customsEntryForm.regimeType=this.entryDetails.regimeType,this.customsEntryForm.regimeTypeCode=this.entryDetails.regimeTypeCode,this.customsEntryForm.depositAmount=this.entryDetails.deposit,this.customsEntryForm.containerCharges=this.entryDetails.container_charges,this.customsEntryForm.additionalCharges=this.entryDetails.additional_charges,this.customsEntryForm.localFee=this.entryDetails.local_fee,this.customsEntryForm.declarantId=this.entryDetails.declarant,this.customsEntryForm.incoTerms=this.entryDetails.incoterms,this.customsEntryForm.countryLastProvinance=this.entryDetails.country_last_provenance,this.customsEntryForm.tradingCountry=this.entryDetails.trading_country,this.classificationApproved=this.entryDetails.classification_approved,this.classificationApprovedBy=this.entryDetails.classification_approved_by,console.log("Commercial Invoice Raw Data: ",r.data),this.commercialInvoices=r.data,this.inializeTaxes(),this.parseInvoiceData(),this.getTotalNumberOfLines(),this.getRegimeTypes(),console.log("Entry details:",this.entryDetails),console.log("Customs Entry:",this.customsEntryForm),console.log("Commercial invoices:",this.commercialInvoices)}catch(t){this.error="Failed to load entry details: "+(t.response?.data||t.message),console.error("Failed to load entry details:",t),mo("Failed to load Entry Details! Please Reach out to Administrator")}finally{this.loading=!1}},formatDate(e){const t=new Date(e),o=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${o}-${a}-${r}`},formatDateForInput(e){return ds()(e).tz("UTC").format("YYYY-MM-DD")},parseInvoiceData(){console.log("Parsing Invoice Data"),this.commercialInvoices.forEach((e=>{e.vendor_name=e.supplier_name,e.lines.forEach((e=>{e.quantity=parseFloat(e.quantity).toFixed(2),e.unit_price=parseFloat(e.unit_price),e.extension_price=parseFloat(e.extension_price).toFixed(2),e.vatApplicable=this.convertTinyIntoBoolean(e.vat_applicable),e.cpcCode=e.cpc_code,e.npcCode=e.npc_code}))}))},async getRegimeTypes(){vt("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e}))},async fetchNpcCodes(){bt().then((e=>{this.npcCodeOptions=e}))},async updateWaybillData(){return this.waybill={waybill_number:this.customsEntryForm.waybillNumber,waybill_date:this.customsEntryForm.waybillDate,mode_of_transport:this.customsEntryForm.modeOfTransport,freight_type:this.customsEntryForm.freightType,marks_and_numbers:this.customsEntryForm.marksAndNumbers,package_type:this.customsEntryForm.packageType,cpc_code:this.entryDetails.cpc_code,npc_code:this.entryDetails.npc_code,package_quantity:this.customsEntryForm.numberOfPackages,country_of_origin:this.customsEntryForm.countryOfOrigin,country_of_final_destination:this.customsEntryForm.countryOfFinalDestination,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,port_of_discharge:this.customsEntryForm.portOfDischargeId,entry_id:this.entryDetails.entry_id,waybill_id:this.entryDetails.waybill_id},console.log("Saving Waybill Data: ",this.waybill),console.log(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/waybill/${this.waybill.waybill_id}`),He().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/waybill/${this.waybill.waybill_id}`,this.waybill)},async deleteInvoiceLines(){return console.log("Deleting Invoice Lines"),console.log(this.linesToBeDeleted),$t(this.linesToBeDeleted)},async updateEntryData(){return this.entry={mawi_invoice:this.entryDetails.mawi_invoice,entry_date:this.entryDetails.entry_date,invoice_total:this.entryDetails.invoice_total,supplier_name:this.entryDetails.supplier_name,net_weight:this.customsEntryForm.netWeight,gross_weight:this.customsEntryForm.grossWeight,entry_number:this.entryDetails.entry_number,freight_charge:this.customsEntryForm.freightAmount,insurance_amount:this.customsEntryForm.insuranceAmount??0,other_charges:this.customsEntryForm.otherCharges??0,rate_of_exchange:this.entryDetails.rate_of_exchange,consignee:this.entryDetails.consignee,declarant:this.customsEntryForm.declarantId,incoterms:this.customsEntryForm.incoTerms,regime_type:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,container_charges:this.customsEntryForm.containerCharges,additional_charges:this.customsEntryForm.additionalCharges,local_fee:this.customsEntryForm.localFee,country_last_provenance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry,classification_status:this.classificationStatus,classification_approved:this.classificationApproved,classification_approved_by:this.classificationApprovedBy},console.log("Saving Entry",this.entry),He().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/customs-entry/${this.entryDetails.entry_id}`,this.entry)},async saveInvoiceData(){const e=this.commercialInvoices.map((e=>{const t=this.formatInvoiceData(e),o=this.formatInvoiceLinesData(e.lines),a={invoiceData:t,invoiceLines:o};return console.log("Updating invoice and invoice lines:",a),He().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/update-invoice-and-lines/${t.invoice_id}`,a)}));return Promise.all(e)},checkTHNCodes(){let e=this.commercialInvoices;return e.forEach((e=>{e.lines.forEach((e=>{if(!e.tariff_code||""===e.tariff_code.trim()||"N/A"===e.tariff_code||void 0===e.tariff_code||null===e.tariff_code)return!1}))})),!0},generateAsycudaXML(){console.log("Generating Asycuda XML");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId)),t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),a=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(2),r=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(0,2);if(console.log("Tye Of Declaration: ",r),"IM"===r&&(void 0===t.taxIdentificationNumber||0===t.taxIdentificationNumber.trim().length))return void mo("Missing Importer Tax Identification Number! Please Update Importer Details!");if(console.log("Exporter: ",o),"EX"===r&&(void 0===o.taxIdentificationNumber||0===o.taxIdentificationNumber.trim().length))return void mo("Missing Exporter Tax Identification Number! Please Update Exporter Details!");const n=this.customsEntryForm.declarants.find((e=>e.id===this.customsEntryForm.declarantId)),s=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin)),i=qt(this.commercialInvoices,this.entryDetails?.entry_number,this.customsEntryForm.waybillNumber,this.customsEntryForm.grossWeight,this.customsEntryForm.netWeight,this.customsEntryForm.numberOfPackages,this.customsEntryForm.packageType,this.customsEntryForm.marksAndNumbers,this.customsEntryForm.freightAmount,this.availableCPCCodes,this.totalFOBValue,this.commercialInvoices[0].currency,this.commercialInvoices.rate_of_exchange),l={reference_number:this.entryDetails?.entry_number,group_items:!0,waybill:{number:this.customsEntryForm.waybillNumber,external_freight:this.customsEntryForm.freightAmount,insurance:void 0==this.customsEntryForm.insuranceAmount?0:this.customsEntryForm.insuranceAmount,other_charges:void 0==this.customsEntryForm.otherCharges?0:this.customsEntryForm.otherCharges,importer:{name:`${t?.name}\n${t?.address}`,tax_identification_number:void 0==t.taxIdentificationNumber?"":t.taxIdentificationNumber},exporter:{name:`${o?.name}\n${o?.address}`,tax_identification_number:void 0==o.taxIdentificationNumber?"":o.taxIdentificationNumber},declarant:{name:n?.name,tax_identification_number:void 0==n.taxIdentificationNumber?"":n.taxIdentificationNumber},charges:{external_freight:{amount:this.customsEntryForm.freightAmount,currency:this.customsEntryForm.freightCurrency,rate_of_exchange:this.customsEntryForm.freightRateOfExchange},insurance:{amount:this.customsEntryForm.insuranceAmount,currency:this.customsEntryForm.insuranceCurrency,rate_of_exchange:this.customsEntryForm.insuranceRateOfExchange},other_charges:{amount:this.customsEntryForm.otherCharges,currency:this.customsEntryForm.otherChargesCurrency,rate_of_exchange:this.customsEntryForm.otherChargesRateOfExchange}},mode_of_transport:"Ocean"===this.customsEntryForm.modeOfTransport?"1":"Air"===this.customsEntryForm.modeOfTransport?"4":"",container_flag:!1,vessel:this.customsEntryForm.vesselName,country_of_origin:this.customsEntryForm.countryOfOrigin,country_of_destination:void 0==this.customsEntryForm.countryOfFinalDestination?"":this.customsEntryForm.countryOfFinalDestination,number_of_packages:this.customsEntryForm.numberOfPackages+"",type_of_declaration:r,general_procedural_code:a,office_of_destination:e.asycudaCode,country_last_provinance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry,country_export:this.customsEntryForm.countryOfOrigin,delivery_terms:this.customsEntryForm.incoTerms,delivery_terms_place:this.customsEntryForm.countryOfOrigin,place_of_terms:s?.name,local_currency:"TTD",office_of_entry:e.asycudaCode,location_of_goods:""},invoices:i};console.log("XML Data: ",l),ho("Generating Asycuda XML..."),St(l).then((e=>{uo(),lo("Asycuda XML Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/xml"})),o=document.createElement("a"),a=`Asycuda XML - ${this.entryDetails?.entry_number}.xml`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate Asycuda XML:",e),mo("Failed to generate Asycuda XML!")}))}}};const hs=(0,D.A)(ms,[["render",cs]]);var ps=hs;const ys=e=>((0,n.Qi)("data-v-b59096ae"),e=e(),(0,n.jt)(),e),gs={class:"container mt-4"},fs=ys((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Trinidad & Tobago",-1))),vs=ys((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Customs Declaration Form E-C75",-1)));function bs(e,t,o,a,s,i){const l=(0,n.g2)("CustomsDeclarationSectionOne"),c=(0,n.g2)("CustomsDeclarationSectionTwo"),u=(0,n.g2)("CustomsDeclarationSectionThree"),d=(0,n.g2)("CustomsDeclarationSectionFour");return(0,n.uX)(),(0,n.CE)("div",gs,[fs,vs,(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>i.generateC75Declaration&&i.generateC75Declaration(...e)),["prevent"])),class:"my-form-container"},[(0,n.bF)(l,{buyerIdProp:this.$route.query.buyerId,customsDeclarationSectionOne:s.form.customsDeclarationSectionOne,onUpdateSectionOne:t[0]||(t[0]=e=>s.form.customsDeclarationSectionOne=e)},null,8,["buyerIdProp","customsDeclarationSectionOne"]),(0,n.bF)(c,{customsDeclarationSectionTwo:s.form.customsDeclarationSectionTwo,customsDeclarationSectionOne:s.form.customsDeclarationSectionOne,onUpdateSectionTwo:t[1]||(t[1]=e=>s.form.customsDeclarationSectionTwo=e)},null,8,["customsDeclarationSectionTwo","customsDeclarationSectionOne"]),(0,n.bF)(u,{customsDeclarationSectionThree:s.form.customsDeclarationSectionThree,onUpdateSectionThree:t[2]||(t[2]=e=>s.form.customsDeclarationSectionThree=e)},null,8,["customsDeclarationSectionThree"]),(0,n.bF)(d,{customsDeclarationSectionFour:s.form.customsDeclarationSectionFour,customsDeclarationSectionThree:s.form.customsDeclarationSectionThree,onUpdateSectionFour:t[3]||(t[3]=e=>s.form.customsDeclarationSectionFour=e)},null,8,["customsDeclarationSectionFour","customsDeclarationSectionThree"])],32),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>i.generateC75Declaration&&i.generateC75Declaration(...e))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>i.generatePreSignedValuation&&i.generatePreSignedValuation(...e))},"Generate Pre-Signed Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>i.generatePreSignedValuationVersionTwo&&i.generatePreSignedValuationVersionTwo(...e))},"Generate Pre-Signed Valuation Form Version 2")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>i.generateBlanlValuationForPreSigning&&i.generateBlanlValuationForPreSigning(...e))},"Generate Blank Valuation for Pre-Signing")])])])])}const ks=e=>((0,n.Qi)("data-v-0942edb1"),e=e(),(0,n.jt)(),e),Ls={class:"row"},Cs={class:"col-md-6"},Ds={class:"form-group"},_s=ks((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"1. Name and Address of Seller (Block Letters)")],-1))),Es=ks((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Seller",-1))),Fs=["value"],xs={class:"form-group"},Ts=["value"],Ss={class:"col-md-6"},Is={class:"form-group"},Os=ks((()=>(0,n.Lk)("label",{for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"2(a) Name and Address of Buyer (Block Letters)")],-1))),As=ks((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Buyer",-1))),Ns=["value"],ws={class:"form-group"},Ps=["value"],Rs={class:"row"},Vs={class:"col-md-6"},Us={class:"form-group"},Bs=ks((()=>(0,n.Lk)("label",{for:"declarantNameAddress"},[(0,n.Lk)("strong",null,"2(b) Name and Address of Declarant (Block Letters)")],-1))),js=ks((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),$s=["value"],Ws={class:"form-group"},Xs=["value"],Gs=ks((()=>(0,n.Lk)("div",{class:"col-md-6"},null,-1))),Ms={class:"row"},Js={class:"col-md-4"},qs={class:"form-group"},Ys=ks((()=>(0,n.Lk)("label",{for:"termsOfDelivery",class:"form-label"},[(0,n.Lk)("strong",null,"3. Terms of Delivery (INCOTERM)")],-1))),Hs=ks((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select an Incoterm",-1))),Ks=["value"],zs={class:"col-md-4"},Qs={class:"form-group"},Zs=ks((()=>(0,n.Lk)("label",{for:"invoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"4. Number and Date of Invoice")],-1))),ei={class:"col-md-4"},ti={class:"form-group"},oi=ks((()=>(0,n.Lk)("label",{for:"contractNumber",class:"form-label"},[(0,n.Lk)("strong",null,"5. Number and Date of Contract")],-1)));function ai(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Ls,[(0,n.Lk)("div",Cs,[(0,n.Lk)("div",Ds,[_s,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.sellerId=e),onChange:t[1]||(t[1]=e=>i.updateField("sellerNameAddress",e.target.value))},[Es,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,x.v_)(e.name),9,Fs)))),128))],544),[[r.u1,s.localData.sellerId]])]),(0,n.Lk)("div",xs,[(0,n.Lk)("textarea",{class:"form-control",id:"sellerNameAddress",rows:"4",onInput:t[2]||(t[2]=e=>i.updateField("sellerNameAddress",e.target.value)),required:"",readonly:"",value:i.selectedSeller},null,40,Ts)]),(0,n.eW)('" ')]),(0,n.Lk)("div",Ss,[(0,n.Lk)("div",Is,[Os,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.buyerId=e),onChange:t[4]||(t[4]=e=>i.updateField("buyerNameAddress",e.target.value))},[As,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,x.v_)(e.name),9,Ns)))),128))],544),[[r.u1,s.localData.buyerId]])]),(0,n.Lk)("div",ws,[(0,n.Lk)("textarea",{class:"form-control",id:"buyerNameAddress",rows:"4",onInput:t[5]||(t[5]=e=>i.updateField("buyerNameAddress",e.target.value)),required:"",readonly:"",value:i.selectedBuyer},null,40,Ps)])])]),(0,n.Lk)("div",Rs,[(0,n.Lk)("div",Vs,[(0,n.Lk)("div",Us,[Bs,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.declarantId=e),onChange:t[7]||(t[7]=e=>i.updateField("declarantNameAddress",e.target.value))},[js,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,x.v_)(e.name),9,$s)))),128))],544),[[r.u1,s.localData.declarantId]])]),(0,n.Lk)("div",Ws,[(0,n.Lk)("textarea",{class:"form-control",id:"declarantNameAddress",rows:"4",onInput:t[8]||(t[8]=e=>i.updateField("declarantNameAddress",e.target.value)),required:"",readonly:"",value:i.selectedDeclarant},null,40,Xs)])]),Gs]),(0,n.Lk)("div",Ms,[(0,n.Lk)("div",Js,[(0,n.Lk)("div",qs,[Ys,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.termsOfDelivery=e),onChange:t[10]||(t[10]=e=>i.updateField("termsOfDelivery",e.target.value))},[Hs,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.incoterms,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.code},(0,x.v_)(e.code)+" - "+(0,x.v_)(e.name),9,Ks)))),128))],544),[[r.u1,s.localData.termsOfDelivery]])])]),(0,n.Lk)("div",zs,[(0,n.Lk)("div",Qs,[Zs,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"invoiceNumber",placeholder:"e.g., 202313 2024/10/20","onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.invoiceNumber=e),onInput:t[12]||(t[12]=e=>i.updateField("invoiceNumber",e.target.value)),required:""},null,544),[[r.Jo,s.localData.invoiceNumber]])])]),(0,n.Lk)("div",ei,[(0,n.Lk)("div",ti,[oi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"contractNumber",placeholder:"e.g., 123456 2024/10/22","onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.contractNumber=e),onInput:t[14]||(t[14]=e=>i.updateField("contractNumber",e.target.value)),required:""},null,544),[[r.Jo,s.localData.contractNumber]])])])])])}var ri={props:["customsDeclarationSectionOne","buyerIdProp"],name:"CustomsDeclarationSectionOne",mounted(){this.incoterms=_r()},data(){return{localData:this.customsDeclarationSectionOne,myBuyerId:this.buyerIdProp,incoterms:[]}},computed:{selectedSeller(){const e=this.localData.sellers.find((e=>e.id===this.localData.sellerId)),t=e?`${e.name} \n ${e.address}`:"";return t},selectedBuyer(){const e=this.localData.buyers.find((e=>e.id===this.localData.buyerId));return e?`${e.name} \n ${e.address}`:""},selectedDeclarant(){const e=this.localData.declarants.find((e=>e.id===this.localData.declarantId));return e?`${e.name} \n ${e.address}`:""},declarantStatus(){const e=this.declarants.find((e=>e.id===this.localData.declarantId));return e?e.status:""}},methods:{updateField(e,t){this.localData[e]=t,this.$emit("update-section-one",this.localData)},async getConfigurations(){console.log("Fetching sellers, buyers, and declarants"),Promise.all([mt(),ct(),_t(),ut(),pt()]).then((([e,t,o,a,r])=>{this.localData.sellers=e,this.localData.buyers=t,console.log("Buyers:",t),this.localData.vessels=o,this.localData.declarants=a,this.countryList=r}))}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){this.localData={...e}}}}};const ni=(0,D.A)(ri,[["render",ai],["__scopeId","data-v-0942edb1"]]);var si=ni;const ii=e=>((0,n.Qi)("data-v-54aa40c3"),e=e(),(0,n.jt)(),e),li={class:"row"},ci={class:"col-md-6"},ui={class:"form-group"},di=ii((()=>(0,n.Lk)("label",null,[(0,n.Lk)("strong",null,"7 (a) Are the buyer and seller RELATED?")],-1))),mi={class:"form-check"},hi=ii((()=>(0,n.Lk)("label",{for:"related-yes"},"YES",-1))),pi=ii((()=>(0,n.Lk)("label",{for:"related-no"},"NO",-1))),yi={key:0},gi=ii((()=>(0,n.Lk)("label",{for:"influencePrice"},[(0,n.Lk)("strong",null,"7 (b) Did the relationship INFLUENCE the price of the imported goods?")],-1))),fi={class:"form-check"},vi=ii((()=>(0,n.Lk)("label",{for:"influence-price-yes"},"YES",-1))),bi=ii((()=>(0,n.Lk)("label",{for:"influence-price-no"},"NO",-1))),ki={key:1},Li=ii((()=>(0,n.Lk)("label",{for:"transactionValueApproximate"},[(0,n.Lk)("strong",null,"7 (c) Does the transaction value of the imported goods closely approximate to a value mentioned in Paragraph 3(2)(b)?")],-1))),Ci={class:"form-check"},Di=ii((()=>(0,n.Lk)("label",{for:"transaction-value-yes"},"YES",-1))),_i=ii((()=>(0,n.Lk)("label",{for:"transaction-value-no"},"NO",-1))),Ei={key:2},Fi={class:"col-md-6"},xi={class:"form-group"},Ti=ii((()=>(0,n.Lk)("label",{for:"restrictions"},[(0,n.Lk)("strong",null,"8 (a) Are there any RESTRICTIONS to the disposition or use of the goods?")],-1))),Si={class:"form-check"},Ii=ii((()=>(0,n.Lk)("label",{for:"restrictions-yes"},"YES",-1))),Oi=ii((()=>(0,n.Lk)("label",{for:"restrictions-no"},"NO",-1))),Ai={key:0},Ni=ii((()=>(0,n.Lk)("label",{for:"conditions"},[(0,n.Lk)("strong",null,"8 (b) Is the sale or price subject to some CONDITION or CONSIDERATION?")],-1))),wi={class:"form-check"},Pi=ii((()=>(0,n.Lk)("label",{for:"conditions-yes"},"YES",-1))),Ri=ii((()=>(0,n.Lk)("label",{for:"conditions-no"},"NO",-1))),Vi={key:1},Ui=ii((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (a) Are any ROYALTIES AND LICENCE FEES related to the imported goods payable?")],-1))),Bi={class:"form-check"},ji=ii((()=>(0,n.Lk)("label",{for:"royalties-yes"},"YES",-1))),$i=ii((()=>(0,n.Lk)("label",{for:"royalties-no"},"NO",-1))),Wi={key:2},Xi=ii((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (b) Is the sale subject to an arrangement under which part of the proceeds of any subsequent RESALE, DISPOSAL or USE accures directy or indirectly to the seller?")],-1))),Gi={class:"form-check"},Mi=ii((()=>(0,n.Lk)("label",{for:"resale-yes"},"YES",-1))),Ji=ii((()=>(0,n.Lk)("label",{for:"resale-no"},"NO",-1))),qi={key:3},Yi={class:"row"},Hi={class:"col-md-6"},Ki={class:"form-group"},zi=ii((()=>(0,n.Lk)("label",{for:"signatory_name"},[(0,n.Lk)("strong",null,"Name of Signatory")],-1))),Qi={class:"form-group"},Zi=ii((()=>(0,n.Lk)("label",{for:"date_signed"},[(0,n.Lk)("strong",null,"Date Signed")],-1))),el={class:"col-md-6"},tl={class:"form-group"},ol=ii((()=>(0,n.Lk)("label",{for:"status_of_signatory"},[(0,n.Lk)("strong",null,"Status of Signatory")],-1))),al={class:"form-group"},rl=ii((()=>(0,n.Lk)("label",{for:"signatory_phone_number"},[(0,n.Lk)("strong",null,"Signatory Phone Number")],-1)));function nl(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",li,[(0,n.Lk)("div",ci,[(0,n.Lk)("div",ui,[di,(0,n.Lk)("div",mi,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-yes",value:"yes","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.relatedParties=e),onChange:t[1]||(t[1]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.relatedParties]]),hi,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-no",value:"no","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.relatedParties=e),onChange:t[3]||(t[3]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.relatedParties]]),pi]),"yes"===s.localData.relatedParties?((0,n.uX)(),(0,n.CE)("div",yi,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"related-notes",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.relatedDetails=e),rows:"3",onInput:t[5]||(t[5]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.relatedDetails]])])):(0,n.Q3)("",!0),gi,(0,n.Lk)("div",fi,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-yes",value:"yes","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.influencePrice=e),onChange:t[7]||(t[7]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.influencePrice]]),vi,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-no",value:"no","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.influencePrice=e),onChange:t[9]||(t[9]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.influencePrice]]),bi]),"yes"===s.localData.influencePrice?((0,n.uX)(),(0,n.CE)("div",ki,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"influence-price-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.influencePriceDetails=e),rows:"3",onInput:t[11]||(t[11]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.influencePriceDetails]])])):(0,n.Q3)("",!0),Li,(0,n.Lk)("div",Ci,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-yes",value:"yes","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.transactionValueApproximate=e),onChange:t[13]||(t[13]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.transactionValueApproximate]]),Di,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-no",value:"no","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.transactionValueApproximate=e),onChange:t[15]||(t[15]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.transactionValueApproximate]]),_i]),"yes"===s.localData.transactionValueApproximate?((0,n.uX)(),(0,n.CE)("div",Ei,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"transaction-value-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.transactionValueDetails=e),rows:"3",onInput:t[17]||(t[17]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.transactionValueDetails]])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Fi,[(0,n.Lk)("div",xi,[Ti,(0,n.Lk)("div",Si,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-yes",value:"yes","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.restrictions=e),onChange:t[19]||(t[19]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.restrictions]]),Ii,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-no",value:"no","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.restrictions=e),onChange:t[21]||(t[21]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.restrictions]]),Oi]),"yes"===s.localData.restrictions?((0,n.uX)(),(0,n.CE)("div",Ai,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"restrictions-details",placeholder:"Specify the nature of the restrictions.","onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.restrictionsDetails=e),rows:"3",onInput:t[23]||(t[23]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.restrictionsDetails]])])):(0,n.Q3)("",!0),Ni,(0,n.Lk)("div",wi,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-yes",value:"yes","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.conditions=e),onChange:t[25]||(t[25]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.conditions]]),Pi,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-no",value:"no","onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.conditions=e),onChange:t[27]||(t[27]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.conditions]]),Ri]),"yes"===s.localData.conditions?((0,n.uX)(),(0,n.CE)("div",Vi,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"conditions-details",placeholder:"Specify the nature of the conditions or considerations.","onUpdate:modelValue":t[28]||(t[28]=e=>s.localData.conditionsDetails=e),rows:"3",onInput:t[29]||(t[29]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.conditionsDetails]])])):(0,n.Q3)("",!0),Ui,(0,n.Lk)("div",Bi,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-yes",value:"yes","onUpdate:modelValue":t[30]||(t[30]=e=>s.localData.royalties=e),onChange:t[31]||(t[31]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.royalties]]),ji,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-no",value:"no","onUpdate:modelValue":t[32]||(t[32]=e=>s.localData.royalties=e),onChange:t[33]||(t[33]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.royalties]]),$i]),"yes"===s.localData.royalties?((0,n.uX)(),(0,n.CE)("div",Wi,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"royalties-details",placeholder:"Specify conditions and, if possible, amounts.","onUpdate:modelValue":t[34]||(t[34]=e=>s.localData.royaltiesDetails=e),rows:"3",onInput:t[35]||(t[35]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.royaltiesDetails]])])):(0,n.Q3)("",!0),Xi,(0,n.Lk)("div",Gi,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-yes",value:"yes","onUpdate:modelValue":t[36]||(t[36]=e=>s.localData.resale_disposal_boolean=e),onChange:t[37]||(t[37]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.resale_disposal_boolean]]),Mi,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-no",value:"no","onUpdate:modelValue":t[38]||(t[38]=e=>s.localData.resale_disposal_boolean=e),onChange:t[39]||(t[39]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.XL,s.localData.resale_disposal_boolean]]),Ji]),"yes"===s.localData.resale_disposal_boolean?((0,n.uX)(),(0,n.CE)("div",qi,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"resale-details",placeholder:"Please Specify conditions","onUpdate:modelValue":t[40]||(t[40]=e=>s.localData.resaleDetails=e),rows:"3",onInput:t[41]||(t[41]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.resaleDetails]])])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",Yi,[(0,n.Lk)("div",Hi,[(0,n.Lk)("div",Ki,[zi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_name","onUpdate:modelValue":t[42]||(t[42]=e=>s.localData.signatory_name=e),onInput:t[43]||(t[43]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.signatory_name]])]),(0,n.Lk)("div",Qi,[Zi,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"date_signed","onUpdate:modelValue":t[44]||(t[44]=e=>s.localData.date_signed=e),onInput:t[45]||(t[45]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.date_signed]])])]),(0,n.Lk)("div",el,[(0,n.Lk)("div",tl,[ol,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"status_of_signatory","onUpdate:modelValue":t[46]||(t[46]=e=>s.localData.status_of_signatory=e),onInput:t[47]||(t[47]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.status_of_signatory]])]),(0,n.Lk)("div",al,[rl,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_phone_number","onUpdate:modelValue":t[48]||(t[48]=e=>s.localData.signatory_phone_number=e),onInput:t[49]||(t[49]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.signatory_phone_number]])])])])])}var sl={props:["customsDeclarationSectionTwo","customsDeclarationSectionOne"],name:"CustomsDeclarationSectionTwo",data(){return{localData:this.customsDeclarationSectionTwo}},methods:{updateSection(){this.$emit("update-section-two",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){const t=e.declarantId,o=e.declarants?.find((e=>e.id===t));console.log(o),this.localData.status_of_signatory=o?.status,this.localData.signatory_name=o?.name,this.localData.signatory_phone_number=o?.phoneContact}},customsDeclarationSectionTwo:{deep:!0,handler(e){this.localData={...e}}}}};const il=(0,D.A)(sl,[["render",nl],["__scopeId","data-v-54aa40c3"]]);var ll=il;const cl=e=>((0,n.Qi)("data-v-ba557e10"),e=e(),(0,n.jt)(),e),ul={class:"row"},dl={class:"col-md-4"},ml={class:"form-group"},hl=cl((()=>(0,n.Lk)("label",{for:"netPrice"},[(0,n.Lk)("strong",null,"11(a) Net price in CURRENCY OF INVOICE")],-1))),pl={class:"col-md-4"},yl={class:"form-group"},gl=cl((()=>(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1))),fl=cl((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Currency",-1))),vl=["value"],bl={class:"col-md-4"},kl={class:"form-group"},Ll=cl((()=>(0,n.Lk)("label",{for:"exchangeRate"},[(0,n.Lk)("strong",null,"Rate of exchange")],-1))),Cl={class:"row"},Dl={class:"col-md-6"},_l={class:"form-group"},El=cl((()=>(0,n.Lk)("label",{for:"indirectPayments"},[(0,n.Lk)("strong",null,"11(b) Indirect payments - see box 8 (b)")],-1))),Fl={class:"col-md-6"},xl={class:"form-group"},Tl=cl((()=>(0,n.Lk)("label",{for:"totalNationalCurrency"},[(0,n.Lk)("strong",null,"12. TOTAL A in National Currency (TTS)")],-1))),Sl={class:"row form-group"},Il=cl((()=>(0,n.Lk)("label",{for:"costsIncurred"},[(0,n.Lk)("strong",null,"13. Costs incurred by the buyer")],-1))),Ol={class:"col-md-4"},Al={class:"col-md-4"},Nl={class:"col-md-4"},wl={class:"row"},Pl=cl((()=>(0,n.Lk)("label",{for:"goodsServices"},[(0,n.Lk)("strong",null,"14. Goods and services supplied by the buyer")],-1))),Rl={class:"col-md-6"},Vl={class:"col-md-6 form-group"},Ul={class:"row form-group"},Bl={class:"col-md-6"},jl=cl((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"15. Royalties and licence fees")],-1))),$l={class:"col-md-6"},Wl=cl((()=>(0,n.Lk)("label",{for:"proceedsResale"},[(0,n.Lk)("strong",null,"16. Proceeds of any subsequent resale, disposal or use accruing to the seller")],-1))),Xl={class:"row"},Gl=cl((()=>(0,n.Lk)("label",{for:"costOfDelivery"},[(0,n.Lk)("strong",null,"17. Cost of delivery to Trinidad and Tobago")],-1))),Ml={class:"col-md-6"},Jl={class:"form-group"},ql=cl((()=>(0,n.Lk)("label",{for:"transport"},[(0,n.Lk)("strong",null,"Transport")],-1))),Yl=["disabled"],Hl={class:"form-group"},Kl={class:"form-check"},zl=cl((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeTransportInTotal"},"Transportation cost included in the invoice total",-1))),Ql={class:"form-group"},Zl=cl((()=>(0,n.Lk)("label",{for:"loadingHandling"},[(0,n.Lk)("strong",null,"Loading and handling charges")],-1))),ec={class:"col-md-6"},tc={class:"form-group"},oc=cl((()=>(0,n.Lk)("label",{for:"insurance"},[(0,n.Lk)("strong",null,"Insurance")],-1))),ac=["disabled"],rc={class:"form-check"},nc=cl((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeInsuranceInTotal"},"Insurance cost included in the invoice total",-1))),sc={class:"form-group"},ic=cl((()=>(0,n.Lk)("label",{for:"totalB"},[(0,n.Lk)("strong",null,"18. TOTAL B")],-1)));function lc(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",ul,[(0,n.Lk)("div",dl,[(0,n.Lk)("div",ml,[hl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netPrice","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.netPrice=e),onInput:t[1]||(t[1]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.netPrice]])])]),(0,n.Lk)("div",pl,[(0,n.Lk)("div",yl,[gl,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.invoiceCurrency=e),onChange:t[3]||(t[3]=e=>i.updateField("invoiceCurrency",e.target.value))},[fl,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.currencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.code)+" - "+(0,x.v_)(e.name),9,vl)))),128))],544),[[r.u1,s.localData.invoiceCurrency]])])]),(0,n.Lk)("div",bl,[(0,n.Lk)("div",kl,[Ll,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"exchangeRate","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.exchangeRate=e),onInput:t[5]||(t[5]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.exchangeRate]])])])]),(0,n.Lk)("div",Cl,[(0,n.Lk)("div",Dl,[(0,n.Lk)("div",_l,[El,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"indirectPayments","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.indirectPayments=e),onInput:t[7]||(t[7]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.indirectPayments]])])]),(0,n.Lk)("div",Fl,[(0,n.Lk)("div",xl,[Tl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalNationalCurrency","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.totalNationalCurrency=e),onInput:t[9]||(t[9]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.totalNationalCurrency]])])])]),(0,n.Lk)("div",Sl,[Il,(0,n.Lk)("div",Ol,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"commissions","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.commissions=e),placeholder:"commissions, except buying commissions",onInput:t[11]||(t[11]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.commissions]])]),(0,n.Lk)("div",Al,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"brokerage","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.brokerage=e),placeholder:"brokerage",onInput:t[13]||(t[13]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.brokerage]])]),(0,n.Lk)("div",Nl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containersPacking","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.containersPacking=e),placeholder:"containers and packing",onInput:t[15]||(t[15]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.containersPacking]])])]),(0,n.Lk)("div",wl,[Pl,(0,n.Lk)("div",Rl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materials","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.materials=e),placeholder:"materials, component, parts incorporated in the good",onInput:t[17]||(t[17]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.materials]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"tools","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.tools=e),placeholder:"tools, dies, moulds used in the production",onInput:t[19]||(t[19]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.tools]])]),(0,n.Lk)("div",Vl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materialsConsumed","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.materialsConsumed=e),placeholder:"materials consumed in the production",onInput:t[21]||(t[21]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.materialsConsumed]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"engineering","onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.engineering=e),placeholder:"engineering, development, artwork, design work",onInput:t[23]||(t[23]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.engineering]])])]),(0,n.Lk)("div",Ul,[(0,n.Lk)("div",Bl,[jl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"royalties","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.royalties=e),onInput:t[25]||(t[25]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.royalties]])]),(0,n.Lk)("div",$l,[Wl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"proceedsResale","onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.proceedsResale=e),onInput:t[27]||(t[27]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.proceedsResale]])])]),(0,n.Lk)("div",Xl,[Gl,(0,n.Lk)("div",Ml,[(0,n.Lk)("div",Jl,[ql,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"transport",disabled:s.localData.transportIncluded,"onUpdate:modelValue":t[28]||(t[28]=e=>s.localData.transport=e),placeholder:"transport",onInput:t[29]||(t[29]=(...e)=>i.updateSection&&i.updateSection(...e))},null,40,Yl),[[r.Jo,s.localData.transport]])]),(0,n.Lk)("div",Hl,[(0,n.Lk)("div",Kl,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeTransportInTotal",onChange:t[30]||(t[30]=(...e)=>i.handleTransportCheckboxChange&&i.handleTransportCheckboxChange(...e))},null,32),zl])]),(0,n.Lk)("div",Ql,[Zl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"loadingHandling","onUpdate:modelValue":t[31]||(t[31]=e=>s.localData.loadingHandling=e),placeholder:"loading and handling charges",onInput:t[32]||(t[32]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.loadingHandling]])])]),(0,n.Lk)("div",ec,[(0,n.Lk)("div",tc,[oc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"insurance",disabled:s.localData.insuranceIncluded,"onUpdate:modelValue":t[33]||(t[33]=e=>s.localData.insurance=e),placeholder:"insurance",onInput:t[34]||(t[34]=(...e)=>i.updateSection&&i.updateSection(...e))},null,40,ac),[[r.Jo,s.localData.insurance]])]),(0,n.Lk)("div",rc,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeInsuranceInTotal",onChange:t[35]||(t[35]=(...e)=>i.handleInsuranceCheckboxChange&&i.handleInsuranceCheckboxChange(...e))},null,32),nc]),(0,n.Lk)("div",sc,[ic,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalB","onUpdate:modelValue":t[36]||(t[36]=e=>s.localData.totalB=e),onInput:t[37]||(t[37]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.totalB]])])])])])}var cc={props:["customsDeclarationSectionThree"],name:"CustomsDeclarationSectionThree",data(){return{localData:this.customsDeclarationSectionThree,currencies:[{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"},{code:"TTD",name:"Trinidad and Tobago Dollar"}]}},methods:{handleTransportCheckboxChange(e){this.localData.transportIncluded=e.target.checked,this.localData.transportIncluded&&(this.localData.transport=0),this.updateSection()},handleInsuranceCheckboxChange(e){this.localData.insuranceIncluded=e.target.checked,this.localData.insuranceIncluded&&(this.localData.insurance=0),this.updateSection()},updateField(e,t){this.localData[e]=t,this.updateSection()},updateSection(){this.$emit("update-section-three",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){console.log(this.localData.transportIncluded,e.transportIncluded),this.localData={...e};let t=(parseFloat(this.localData.netPrice)+parseFloat(this.localData.indirectPayments))*parseFloat(this.localData.exchangeRate),o=parseFloat(this.localData.transport)+parseFloat(this.localData.loadingHandling)+parseFloat(this.localData.insurance);console.log(t,o),this.localData.totalNationalCurrency=parseFloat(t).toFixed(2),this.localData.totalB=parseFloat(o).toFixed(2)}}}};const uc=(0,D.A)(cc,[["render",lc],["__scopeId","data-v-ba557e10"]]);var dc=uc;const mc=e=>((0,n.Qi)("data-v-5dd1db7d"),e=e(),(0,n.jt)(),e),hc={class:"row"},pc={class:"col-md-6"},yc={class:"form-group"},gc=mc((()=>(0,n.Lk)("label",{for:"costAfterArrival"},[(0,n.Lk)("strong",null,"19. Cost of transport after arrival at place of introduction on importation")],-1))),fc={class:"form-group"},vc=mc((()=>(0,n.Lk)("label",{for:"chargesAfterImportation"},[(0,n.Lk)("strong",null,"20. Charges for construction, erection, assembly, maintenance or technical assistance undertaken after importation")],-1))),bc={class:"form-group"},kc=mc((()=>(0,n.Lk)("label",{for:"otherCharges"},[(0,n.Lk)("strong",null,"21. Other charges (specify)")],-1))),Lc={class:"col-md-6"},Cc={class:"form-group"},Dc=mc((()=>(0,n.Lk)("label",{for:"customsDutiesTaxes"},[(0,n.Lk)("strong",null,"22. Customs duties and taxes payable in Trinidad and Tobago by reason of the importation or sale of the goods")],-1))),_c={class:"form-group"},Ec=mc((()=>(0,n.Lk)("label",{for:"totalC"},[(0,n.Lk)("strong",null,"23. TOTAL C")],-1))),Fc={class:"form-group"},xc=mc((()=>(0,n.Lk)("label",{for:"valueDeclared"},[(0,n.Lk)("strong",null,"24. VALUE DECLARED (A + B - C)")],-1))),Tc={class:"mb-3"},Sc=mc((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"NOTES to Box 10")],-1))),Ic=mc((()=>(0,n.Lk)("p",null,"Declaration may be made by:",-1))),Oc=mc((()=>(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"(a) the actual importer if an individual;"),(0,n.Lk)("li",null,"(b) a partner in the case of partnership;"),(0,n.Lk)("li",null,"(c) a director or the secretary in the case of an incorporated Company"),(0,n.Lk)("li",null,"(d) any employee duly authorised in writing by one of the aforementioned persons.")],-1))),Ac=mc((()=>(0,n.Lk)("p",null,"(*): Where amounts are payable in FOREIGN CURRENCY, indicate in this section the amount in foreign currency and the rate of exchange by reference to each relevant element and item.",-1))),Nc=mc((()=>(0,n.Lk)("label",{for:"foreignCurrency",class:"form-label"},"Reference",-1)));function wc(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",hc,[(0,n.Lk)("div",pc,[(0,n.Lk)("div",yc,[gc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"costAfterArrival","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.costAfterArrival=e),onInput:t[1]||(t[1]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.costAfterArrival]])]),(0,n.Lk)("div",fc,[vc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"chargesAfterImportation","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.chargesAfterImportation=e),onInput:t[3]||(t[3]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.chargesAfterImportation]])]),(0,n.Lk)("div",bc,[kc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"otherCharges","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.otherCharges=e),onInput:t[5]||(t[5]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.otherCharges]])])]),(0,n.Lk)("div",Lc,[(0,n.Lk)("div",Cc,[Dc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"customsDutiesTaxes","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.customsDutiesTaxes=e),onInput:t[7]||(t[7]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.customsDutiesTaxes]])]),(0,n.Lk)("div",_c,[Ec,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalC","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.totalC=e),onInput:t[9]||(t[9]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.totalC]])]),(0,n.Lk)("div",Fc,[xc,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"valueDeclared","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.valueDeclared=e),onInput:t[11]||(t[11]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.valueDeclared]])])])]),(0,n.Lk)("div",Tc,[Sc,Ic,Oc,Ac,Nc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control mb-2",id:"foreignCurrency",placeholder:"11(a)","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.foreignCurrency=e),onInput:t[13]||(t[13]=(...e)=>i.updateSection&&i.updateSection(...e))},null,544),[[r.Jo,s.localData.foreignCurrency]])])])}var Pc={props:["customsDeclarationSectionFour","customsDeclarationSectionThree"],name:"CustomsDeclarationSectionFour",data(){return{localData:this.customsDeclarationSectionFour}},methods:{updateSection(){this.$emit("update-section-four",this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){let t=(parseFloat(e.netPrice)+parseFloat(e.indirectPayments))*parseFloat(e.exchangeRate),o=parseFloat(e.transport)+parseFloat(e.loadingHandling)+parseFloat(e.insurance),a=t+parseFloat(o)-parseFloat(this.localData.totalC);this.localData.valueDeclared=parseFloat(a).toFixed(2)}},customsDeclarationSectionFour:{deep:!0,handler(e){this.localData={...e};let t=(parseFloat(this.customsDeclarationSectionThree.netPrice)+parseFloat(this.customsDeclarationSectionThree.indirectPayments))*parseFloat(this.customsDeclarationSectionThree.exchangeRate),o=parseFloat(this.customsDeclarationSectionThree.transport)+parseFloat(this.customsDeclarationSectionThree.loadingHandling)+parseFloat(this.customsDeclarationSectionThree.insurance),a=parseFloat(this.localData.costAfterArrival)+parseFloat(this.localData.chargesAfterImportation)+parseFloat(this.localData.otherCharges)+parseFloat(this.localData.customsDutiesTaxes);this.localData.totalC=parseFloat(a).toFixed(2);let r=t+o-parseFloat(a).toFixed(2);this.localData.valueDeclared=r.toFixed(2)}}}};const Rc=(0,D.A)(Pc,[["render",wc],["__scopeId","data-v-5dd1db7d"]]);var Vc=Rc,Uc={name:"CustomsDeclarationForm",components:{CustomsDeclarationSectionOne:si,CustomsDeclarationSectionTwo:ll,CustomsDeclarationSectionThree:dc,CustomsDeclarationSectionFour:Vc},props:{entryId:{type:[String,Number],required:!0},buyerId:{type:[String,Number],required:!0},sellerId:{type:[String,Number],required:!0},invoiceNumber:{type:[String,Number],required:!0},invoiceTotal:{type:[String,Number],required:!0},currency:{type:[String,Number],required:!0},rateOfExchange:{type:[String,Number],required:!0},freight:{type:[String,Number],required:!0},insurance:{type:[String,Number],required:!0}},mounted(){this.syncData(),this.currencies=_o(),this.getCountries()},data(){return{newC75:!0,entryNumber:"",currencies:[],countries:[],form:{customsDeclarationSectionOne:{sellers:[],buyers:[],declarants:[],sellerNameAddress:"",buyerNameAddress:"",declarantNameAddress:""},customsDeclarationSectionTwo:{date_signed:this.getCurrentDate(),relatedParties:"no",influencePrice:"no",transactionValueApproximate:"no",restrictions:"no",conditions:"no",royalties:"no",resale_disposal_boolean:"no"},customsDeclarationSectionThree:{totalNationalCurrency:0,netPrice:0,indirectPayments:0,exchangeRate:1,transport:0,loadingHandling:0,insurance:0,totalB:0,transportIncluded:!1,insuranceIncluded:!1,invoiceCurrency:"USD"},customsDeclarationSectionFour:{costAfterArrival:0,chargesAfterImportation:0,otherCharges:0,customsDutiesTaxes:0,totalC:0,valueDeclared:0}}}},methods:{save75Declaration(){this.newC75?this.create75Declaration():this.updateC75Declaration()},getCountries(){pt().then((e=>{this.countries=e})).catch((e=>{console.error("Failed to get countries:",e)}))},getCurrentDate(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${a}-${o}-${t}`},async create75Declaration(){console.log("Saving C75 Declaration...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),o=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),a=e?`${e.name} \n ${e.address}`:"",r=t?`${t.name} \n ${t.address}`:"",n=o?`${o.name} \n ${o.address}`:"",s=o?o.status:"",i=o?.phone?o.phone:"",l=o?o.name:"";ho("Saving Data...");const c={sellerNameAddress:a,buyerNameAddress:r,declarantNameAddress:n,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:s,signatory_phone_number:i,signatory_name:l,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:"",cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",entryId:this.entryId};try{console.log("Saving customs declaration..."),await it(c),uo(),lo("All Data Saved successfully!"),console.log("Customs declaration saved successfully."),this.newC75=!1}catch(u){mo("Failed to save Entry Data!"),console.error("Failed to save the declaration:",u)}},prepareDeclarationObject(){console.log("Prearing Declaration Object...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),o=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),a=e.country?this.countries.find((t=>t.code===e.country))?.name:"",r=t.country?this.countries.find((e=>e.code===t.country))?.name:"",n=e?`${e.name}\n${e.address}, ${a}`:"",s=t?`${t.name}\n${t.address}, ${r}`:"",i=o?`${o.name}\n${o.address}\n${o.country}`:"",l=o?o.status:"",c=o?.phoneContact?o.phoneContact:"",u=o?o.name:"",d=this.currencies.find((e=>e.code===this.form.customsDeclarationSectionThree.invoiceCurrency)),m=d?d.name:"",h=void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:0,p=void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:1,y=parseFloat(h);console.log("Transport Converted:",y,h,p),console.log("Selected Seller:",e),console.log("Selected Buyer:",t),console.log("Selected Declarant:",o);let g={sellerNameAddress:n,buyerNameAddress:s,declarantNameAddress:i,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:l,signatory_phone_number:void 0!==c?c:"",signatory_name:u,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:y.toFixed(2),cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",transportIncluded:void 0!==this.form.customsDeclarationSectionThree.transportIncluded?this.form.customsDeclarationSectionThree.transportIncluded:"",insuranceIncluded:void 0!==this.form.customsDeclarationSectionThree.insuranceIncluded?this.form.customsDeclarationSectionThree.insuranceIncluded:"",invoice_currency:void 0!==m?m:"",referenceNumber:void 0!==this.$route.query.referenceNumber?this.$route.query.referenceNumber:""};return console.log(g),g},async generateBlanlValuationForPreSigning(){console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),ho("Generating customs declaration...");const e=await rt();uo(),lo("Valuation Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a");o.href=t;const a="Blank Valuation Form.pdf";o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()}catch(e){mo("Failed to generate document!"),console.error("Failed to generate the declaration:",e)}},async generateC75Declaration(){const e=this.prepareDeclarationObject();if(""!==e.declarantNameAddress&&void 0!==e.declarantNameAddress){console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),ho("Generating customs declaration...");const t=await at(e),o=this.$route.query.referenceNumber;uo(),lo("C75 Generated Successfully!");const a=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),r=document.createElement("a");r.href=a;const n=`Customs Declaration - ${o}.pdf`;r.setAttribute("download",n),document.body.appendChild(r),r.click(),r.remove()}catch(t){mo("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}}else mo("Please select a declarant!")},async generatePreSignedValuation(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),ho("Generating customs declaration...");const t=await nt(e);uo(),lo("C75 Generated Successfully!");const o=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.href=o;const r=`Customs Declaration - ${this.entryNumber}.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()}catch(t){mo("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async generatePreSignedValuationVersionTwo(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),ho("Generating customs declaration...");const t=await st(e);uo(),lo("C75 Generated Successfully!");const o=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.href=o;const r=`Customs Declaration - ${this.entryNumber}.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()}catch(t){mo("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async updateC75Declaration(){console.log("Updating C75 Declaration...");const e=this.prepareDeclarationObject();try{ho("Saving Data..."),console.log("Updating customs declaration..."),await ht(this.entryId,e),uo(),lo("All Data Saved successfully!"),console.log("Customs declaration updated successfully.")}catch(t){mo("Failed to save Entry Data!"),console.error("Failed to update the declaration:",t)}},async fetchCustomsDeclarations(){try{console.log("Getting C75 Entry...");const e=await lt(this.entryId);if(206===e.status)return console.log("No C75 Entry found."),this.newC75=!0,this.form.customsDeclarationSectionThree.netPrice=e.data.invoiceTotal,this.form.customsDeclarationSectionOne.invoiceNumber=e.data.invoiceNumbers,this.form.customsDeclarationSectionThree.exchangeRate=e.data.rate_of_exchange,this.entryNumber=e.data.entry_number?e.data.entry_number:"",void console.log("Entry Number:",this.entryNumber);this.newC75=!1,console.log("C75 Entry found."),this.updateFields(e.data)}catch(e){console.error("Failed to get the C75 Entry:",e)}},syncData(){this.form.customsDeclarationSectionOne.buyerId=parseInt(this.$route.query.buyerId),this.form.customsDeclarationSectionOne.sellerId=parseInt(this.$route.query.sellerId),this.form.customsDeclarationSectionOne.invoiceNumber=this.$route.query.invoiceNumber,this.form.customsDeclarationSectionThree.netPrice=this.$route.query.invoiceTotal,this.form.customsDeclarationSectionThree.invoiceCurrency=this.$route.query.currency,this.form.customsDeclarationSectionThree.exchangeRate=this.$route.query.rateOfExchange,this.form.customsDeclarationSectionThree.transport=this.$route.query.freight,this.form.customsDeclarationSectionThree.insurance=this.$route.query.insurance,this.form.customsDeclarationSectionOne.termsOfDelivery=this.$route.query.incoTerms?this.$route.query.incoTerms:"",Promise.all([mt(),ct(),_t(),ut(),pt()]).then((([e,t,o,a,r])=>{this.form.customsDeclarationSectionOne.sellers=e,this.form.customsDeclarationSectionOne.buyers=t,this.form.customsDeclarationSectionOne.vessels=o,this.form.customsDeclarationSectionOne.declarants=a,this.form.customsDeclarationSectionOne.countryList=r}))},convertTinyIntoString(e){return 1===e?"yes":"no"},updateFields(e){console.log("Updating fields..."),this.form.customsDeclarationSectionOne.sellerNameAddress=e.seller_name_and_address,this.form.customsDeclarationSectionOne.buyerNameAddress=e.buyer_name_address,this.form.customsDeclarationSectionOne.declarantNameAddress=e.declarant_name_address,this.form.customsDeclarationSectionOne.termsOfDelivery=e.terms_of_delivery,this.form.customsDeclarationSectionOne.contractNumber=e.name_date_contract,this.form.customsDeclarationSectionOne.invoiceNumber=e.invoiceNumbers,this.form.customsDeclarationSectionOne.sellerId=e.seller_id,this.form.customsDeclarationSectionOne.buyerId=e.buyer_id,this.form.customsDeclarationSectionOne.declarantId=e.declarant_id,this.form.customsDeclarationSectionTwo.relatedParties=this.convertTinyIntoString(e.related_parties_boolean),this.form.customsDeclarationSectionTwo.influencePrice=this.convertTinyIntoString(e.influence_price_boolean),this.form.customsDeclarationSectionTwo.transactionValueApproximate=this.convertTinyIntoString(e.transaction_value_approximate_boolean),this.form.customsDeclarationSectionTwo.restrictions=this.convertTinyIntoString(e.restrictions_disposal_boolean),this.form.customsDeclarationSectionTwo.conditions=this.convertTinyIntoString(e.sale_price_condition_boolean),this.form.customsDeclarationSectionTwo.royalties=this.convertTinyIntoString(e.royalties_boolean),this.form.customsDeclarationSectionTwo.resale_disposal_boolean=this.convertTinyIntoString(e.resale_disposal_boolean),this.form.customsDeclarationSectionTwo.date_signed=e.date_signed,this.form.customsDeclarationSectionTwo.status_of_signatory=e.status_of_signatory,this.form.customsDeclarationSectionTwo.signatory_phone_number=e.signatory_phone_number,this.form.customsDeclarationSectionTwo.signatory_name=e.signatory_name,this.form.customsDeclarationSectionThree.netPrice=e.invoiceTotal,this.form.customsDeclarationSectionThree.indirectPayment=e.indirect_payment,this.form.customsDeclarationSectionThree.exchangeRate=e.rate_of_exchange,this.form.customsDeclarationSectionThree.commissions=e.costs_commissions,this.form.customsDeclarationSectionThree.brokerage=e.costs_brokerage,this.form.customsDeclarationSectionThree.containersPacking=e.costs_containers_packing,this.form.customsDeclarationSectionThree.materials=e.goods_free_of_charge_materials,this.form.customsDeclarationSectionThree.tools=e.goods_free_of_charge_tools,this.form.customsDeclarationSectionThree.materialsConsumed=e.goods_free_of_charge_materials_consumed,this.form.customsDeclarationSectionThree.engineering=e.goods_engineering_development,this.form.customsDeclarationSectionThree.royalties=e.royalties_license_fee,this.form.customsDeclarationSectionThree.proceedsResale=e.procees_resale_disposal,this.form.customsDeclarationSectionThree.transport=e.cost_delivery_transport,this.form.customsDeclarationSectionThree.loadingHandling=e.cost_delivery_loading,this.form.customsDeclarationSectionThree.insurance=e.cost_delivery_insurance,this.form.customsDeclarationSectionFour.costAfterArrival=e.cost_transport_after_arrival,this.form.customsDeclarationSectionFour.chargesAfterImportation=e.charges_construction,this.form.customsDeclarationSectionFour.otherCharges=e.other_charges,this.form.customsDeclarationSectionFour.customsDutiesTaxes=e.customs_duties_taxes}}};const Bc=(0,D.A)(Uc,[["render",bs],["__scopeId","data-v-b59096ae"]]);var jc=Bc;const $c=e=>((0,n.Qi)("data-v-b9f2e906"),e=e(),(0,n.jt)(),e),Wc={class:"buyers-page"},Xc=$c((()=>(0,n.Lk)("h1",null,"Importers List",-1))),Gc={class:"row"},Mc={class:"col-md-2"},Jc={class:"form-group"},qc=$c((()=>(0,n.Lk)("label",{for:"buyerName"},[(0,n.Lk)("strong",null,"Name")],-1))),Yc={class:"col-md-2"},Hc={class:"form-group"},Kc=$c((()=>(0,n.Lk)("label",{for:"buyerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),zc={class:"col-md-2"},Qc={class:"form-group"},Zc=$c((()=>(0,n.Lk)("label",{for:"buyerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),eu={class:"col-md-2"},tu={class:"form-group"},ou=$c((()=>(0,n.Lk)("label",{for:"buyerCity"},[(0,n.Lk)("strong",null,"City")],-1))),au={class:"col-md-2"},ru={class:"form-group"},nu=$c((()=>(0,n.Lk)("label",{for:"buyerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),su=$c((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),iu=["value"],lu={class:"col-md-1"},cu={class:"form-group"},uu=$c((()=>(0,n.Lk)("label",{for:"tinNumber"},[(0,n.Lk)("strong",null,"TIN Number")],-1))),du=$c((()=>(0,n.Lk)("div",{class:"col-md-1"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Importer")])],-1))),mu={class:"table table-striped"},hu=$c((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"TIN Number")])],-1))),pu={scope:"row"};function yu(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",Wc,[Xc,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>i.addBuyer&&i.addBuyer(...e)),["prevent"]))},[(0,n.Lk)("div",Gc,[(0,n.Lk)("div",Mc,[(0,n.Lk)("div",Jc,[qc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerName",placeholder:"Please Enter Buyer Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.buyerName=e)},null,512),[[r.Jo,s.buyerName]])])]),(0,n.Lk)("div",Yc,[(0,n.Lk)("div",Hc,[Kc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>s.buyerAddressLine1=e)},null,512),[[r.Jo,s.buyerAddressLine1]])])]),(0,n.Lk)("div",zc,[(0,n.Lk)("div",Qc,[Zc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.buyerAddressLine2=e)},null,512),[[r.Jo,s.buyerAddressLine2]])])]),(0,n.Lk)("div",eu,[(0,n.Lk)("div",tu,[ou,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.buyerCity=e)},null,512),[[r.Jo,s.buyerCity]])])]),(0,n.Lk)("div",au,[(0,n.Lk)("div",ru,[nu,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.buyerCountry=e),id:"buyerCountry"},[su,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.code)+" - "+(0,x.v_)(e.name),9,iu)))),128))],512),[[r.u1,s.buyerCountry]])])]),(0,n.Lk)("div",lu,[(0,n.Lk)("div",cu,[uu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"tinNumber",placeholder:"TIN Number","onUpdate:modelValue":t[5]||(t[5]=e=>s.tinNumber=e)},null,512),[[r.Jo,s.tinNumber]])])]),du])],32),(0,n.Lk)("table",mu,[hu,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",pu,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,(0,x.v_)(e.name),1),(0,n.Lk)("td",null,(0,x.v_)(e.address),1),(0,n.Lk)("td",null,(0,x.v_)(e.country),1),(0,n.Lk)("td",null,(0,x.v_)(e.taxIdentificationNumber),1)])))),128))])])])}var gu={name:"BuyersPage",data(){return{buyers:[],countries:[],buyerName:"",buyerAddressLine1:"",buyerAddressLine2:"",buyerCity:"",buyerCountry:"",tinNumber:""}},methods:{async getBuyers(){this.buyers=await ct(),console.log(this.buyers)},async addBuyer(){const e={name:this.buyerName,address:`${this.buyerAddressLine1}\n${this.buyerAddressLine2}\n${this.buyerCity}`,country:this.buyerCountry,taxIdentificationNumber:this.tinNumber};ho("Adding Buyer"),yt(e).then((()=>{this.buyerName="",this.buyerAddressLine1="",this.buyerAddressLine2="",this.buyerCity="",this.buyerCountry="",lo("Buyer Added Successfully"),this.getBuyers()})).catch((e=>{mo("Failed to Add Buyer",e)}))},async getCountries(){this.countries=await pt(),console.log("Countries",this.contries)}},mounted(){this.getBuyers(),this.getCountries()}};const fu=(0,D.A)(gu,[["render",yu],["__scopeId","data-v-b9f2e906"]]);var vu=fu;const bu=e=>((0,n.Qi)("data-v-3fc590de"),e=e(),(0,n.jt)(),e),ku={class:"sellers-page"},Lu=bu((()=>(0,n.Lk)("h1",null,"Shippers List",-1))),Cu={class:"row"},Du={class:"col-md-2"},_u={class:"form-group"},Eu=bu((()=>(0,n.Lk)("label",{for:"sellerName"},[(0,n.Lk)("strong",null,"Name")],-1))),Fu={class:"col-md-2"},xu={class:"form-group"},Tu=bu((()=>(0,n.Lk)("label",{for:"sellerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),Su={class:"col-md-2"},Iu={class:"form-group"},Ou=bu((()=>(0,n.Lk)("label",{for:"sellerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),Au={class:"col-md-2"},Nu={class:"form-group"},wu=bu((()=>(0,n.Lk)("label",{for:"sellerCity"},[(0,n.Lk)("strong",null,"City")],-1))),Pu={class:"col-md-2"},Ru={class:"form-group"},Vu=bu((()=>(0,n.Lk)("label",{for:"sellerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),Uu=bu((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),Bu=["value"],ju={class:"col-md-1"},$u={class:"form-group"},Wu=bu((()=>(0,n.Lk)("label",{for:"tinNumber"},[(0,n.Lk)("strong",null,"TIN Number")],-1))),Xu=bu((()=>(0,n.Lk)("div",{class:"col-md-1"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Shipper")])],-1))),Gu={class:"table table-striped"},Mu=bu((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"TIN Number")])],-1))),Ju={scope:"row"};function qu(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",ku,[Lu,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>i.addSeller&&i.addSeller(...e)),["prevent"]))},[(0,n.Lk)("div",Cu,[(0,n.Lk)("div",Du,[(0,n.Lk)("div",_u,[Eu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerName",placeholder:"Please Enter Seller Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.sellerName=e)},null,512),[[r.Jo,s.sellerName]])])]),(0,n.Lk)("div",Fu,[(0,n.Lk)("div",xu,[Tu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>s.sellerAddressLine1=e)},null,512),[[r.Jo,s.sellerAddressLine1]])])]),(0,n.Lk)("div",Su,[(0,n.Lk)("div",Iu,[Ou,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.sellerAddressLine2=e)},null,512),[[r.Jo,s.sellerAddressLine2]])])]),(0,n.Lk)("div",Au,[(0,n.Lk)("div",Nu,[wu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.sellerCity=e)},null,512),[[r.Jo,s.sellerCity]])])]),(0,n.Lk)("div",Pu,[(0,n.Lk)("div",Ru,[Vu,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.sellerCountry=e),id:"sellerCountry"},[Uu,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.code)+" - "+(0,x.v_)(e.name),9,Bu)))),128))],512),[[r.u1,s.sellerCountry]])])]),(0,n.Lk)("div",ju,[(0,n.Lk)("div",$u,[Wu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"tinNumber",placeholder:"TIN Number","onUpdate:modelValue":t[5]||(t[5]=e=>s.tinNumber=e)},null,512),[[r.Jo,s.tinNumber]])])]),Xu])],32),(0,n.Lk)("table",Gu,[Mu,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Ju,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,(0,x.v_)(e.name),1),(0,n.Lk)("td",null,(0,x.v_)(e.address),1),(0,n.Lk)("td",null,(0,x.v_)(e.country),1),(0,n.Lk)("td",null,(0,x.v_)(e.taxIdentificationNumber),1)])))),128))])])])}var Yu={name:"SellersPage",data(){return{sellers:[],countries:[],sellerName:"",sellerAddressLine1:"",sellerAddressLine2:"",sellerCity:"",sellerCountry:"",tinNumber:""}},methods:{async getSellers(){this.sellers=await mt()},async getContries(){this.countries=await pt()},async addSeller(){const e={name:this.sellerName,address:`${this.sellerAddressLine1}\n${this.sellerAddressLine2}\n${this.sellerCity}`,country:this.sellerCountry,phoneContact:"",emailContact:"",taxIdentificationNumber:this.tinNumber};console.log("Seller",e),ho("Saving Data..."),gt(e).then((()=>{this.sellerName="",this.sellerAddressLine1="",this.sellerAddressLine2="",this.sellerCity="",this.sellerCountry="",this.tinNumber="",this.getSellers(),lo("Shipper added successfully")})).catch((e=>{mo("Error adding shipper",e)}))}},mounted(){this.getSellers(),this.getContries()}};const Hu=(0,D.A)(Yu,[["render",qu],["__scopeId","data-v-3fc590de"]]);var Ku=Hu;const zu=e=>((0,n.Qi)("data-v-26e81b34"),e=e(),(0,n.jt)(),e),Qu={class:"declarants-page"},Zu=zu((()=>(0,n.Lk)("h1",null,"Declarants List",-1))),ed={class:"row"},td={class:"col-md-2"},od={class:"form-group"},ad=zu((()=>(0,n.Lk)("label",{for:"declarantName"},[(0,n.Lk)("strong",null,"Name")],-1))),rd={class:"col-md-2"},nd={class:"form-group"},sd=zu((()=>(0,n.Lk)("label",{for:"declarantAddressLine1"},[(0,n.Lk)("strong",null,"Address Line")],-1))),id={class:"col-md-2"},ld={class:"form-group"},cd=zu((()=>(0,n.Lk)("label",{for:"declarantAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),ud={class:"col-md-1"},dd={class:"form-group"},md=zu((()=>(0,n.Lk)("label",{for:"declarantCity"},[(0,n.Lk)("strong",null,"City")],-1))),hd={class:"col-md-1"},pd={class:"form-group"},yd=zu((()=>(0,n.Lk)("label",{for:"declarantCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),gd=zu((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),fd=["value"],vd={class:"col-md-2"},bd={class:"form-group"},kd=zu((()=>(0,n.Lk)("label",{for:"declarantStatus"},[(0,n.Lk)("strong",null,"Status")],-1))),Ld=zu((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add New Declarant")])],-1))),Cd={class:"table table-striped"},Dd=zu((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"Status")])],-1))),_d={scope:"row"};function Ed(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",Qu,[Zu,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>i.addDeclarant&&i.addDeclarant(...e)),["prevent"]))},[(0,n.Lk)("div",ed,[(0,n.Lk)("div",td,[(0,n.Lk)("div",od,[ad,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantName",placeholder:"Please Enter Declarant Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.declarantName=e)},null,512),[[r.Jo,s.declarantName]])])]),(0,n.Lk)("div",rd,[(0,n.Lk)("div",nd,[sd,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine1",placeholder:"Please Enter Address Line","onUpdate:modelValue":t[1]||(t[1]=e=>s.declarantAddressLine1=e)},null,512),[[r.Jo,s.declarantAddressLine1]])])]),(0,n.Lk)("div",id,[(0,n.Lk)("div",ld,[cd,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.declarantAddressLine2=e)},null,512),[[r.Jo,s.declarantAddressLine2]])])]),(0,n.Lk)("div",ud,[(0,n.Lk)("div",dd,[md,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.declarantCity=e)},null,512),[[r.Jo,s.declarantCity]])])]),(0,n.Lk)("div",hd,[(0,n.Lk)("div",pd,[yd,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.declarantCountry=e),id:"declarantCountry"},[gd,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.name},(0,x.v_)(e.name),9,fd)))),128))],512),[[r.u1,s.declarantCountry]])])]),(0,n.Lk)("div",vd,[(0,n.Lk)("div",bd,[kd,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantStatus",placeholder:"Please Enter Status","onUpdate:modelValue":t[5]||(t[5]=e=>s.declarantStatus=e)},null,512),[[r.Jo,s.declarantStatus]])])]),Ld])],32),(0,n.Lk)("table",Cd,[Dd,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",_d,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,(0,x.v_)(e.name),1),(0,n.Lk)("td",null,(0,x.v_)(e.address),1),(0,n.Lk)("td",null,(0,x.v_)(e.country),1),(0,n.Lk)("td",null,(0,x.v_)(e.status),1)])))),128))])])])}var Fd={name:"DeclarantsPage",data(){return{declarants:[],countries:[],declarantName:"",declarantAddressLine1:"",declarantAddressLine2:"",declarantCity:"",declarantCountry:"",declarantStatus:""}},methods:{async getDeclarants(){this.declarants=await ut()},async getContries(){this.countries=await pt()},async addDeclarant(){const e={name:this.declarantName,address:`${this.declarantAddressLine1}\n${this.declarantAddressLine2}`,city:this.declarantCity,country:this.declarantCountry,status:this.declarantStatus};ho("Adding Declarant..."),ft(e).then((()=>{this.declarantName="",this.declarantAddressLine1="",this.declarantAddressLine2="",this.declarantCity="",this.declarantCountry="",this.declarantStatus="",lo("Declarant Added Successfully"),this.getDeclarants()})).catch((e=>{mo("Failed to Add Declarant",e)}))}},mounted(){this.getDeclarants(),this.getContries()}};const xd=(0,D.A)(Fd,[["render",Ed],["__scopeId","data-v-26e81b34"]]);var Td=xd;const Sd=e=>((0,n.Qi)("data-v-167acab7"),e=e(),(0,n.jt)(),e),Id={class:"vessels-page"},Od=Sd((()=>(0,n.Lk)("h1",null,"Vessels List",-1))),Ad={class:"row"},Nd={class:"col-md-5"},wd={class:"form-group"},Pd=Sd((()=>(0,n.Lk)("label",{for:"vesselName"},[(0,n.Lk)("strong",null,"Vessel Name")],-1))),Rd={class:"col-md-5"},Vd={class:"form-group"},Ud=Sd((()=>(0,n.Lk)("label",{for:"imoNumber"},[(0,n.Lk)("strong",null,"IMO Number")],-1))),Bd=Sd((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Vessel")])],-1))),jd={class:"table table-striped"},$d=Sd((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Vessel Name"),(0,n.Lk)("th",{scope:"col"},"IMO Number ")])],-1))),Wd={scope:"row"};function Xd(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",Id,[Od,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>i.addVessel&&i.addVessel(...e)),["prevent"]))},[(0,n.Lk)("div",Ad,[(0,n.Lk)("div",Nd,[(0,n.Lk)("div",wd,[Pd,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"vesselName",placeholder:"Please Enter Vessel Name","onUpdate:modelValue":t[0]||(t[0]=t=>e.vesselName=t)},null,512),[[r.Jo,e.vesselName]])])]),(0,n.Lk)("div",Rd,[(0,n.Lk)("div",Vd,[Ud,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"imoNumber",placeholder:"Please Enter IMO Number","onUpdate:modelValue":t[1]||(t[1]=t=>e.imoNumber=t)},null,512),[[r.Jo,e.imoNumber]])])]),Bd])],32),(0,n.Lk)("table",jd,[$d,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.vessels,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Wd,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,(0,x.v_)(e.name),1),(0,n.Lk)("td",null,(0,x.v_)(e.imoNumber),1)])))),128))])])])}var Gd={name:"VesselsPage",data(){return{vessels:[]}},mounted(){this.getVessels()},methods:{async getVessels(){this.vessels=await _t()},async addVessel(){const e={name:this.vesselName,imoNumber:this.imoNumber};ho("Adding Vessel"),Et(e).then((()=>{lo("Vessel Added Successfully"),this.vesselName="",this.imoNumber="",this.getVessels()})).catch((e=>{mo("Failed to Add Vessel",e)}))}}};const Md=(0,D.A)(Gd,[["render",Xd],["__scopeId","data-v-167acab7"]]);var Jd=Md;const qd=e=>((0,n.Qi)("data-v-3b3eb113"),e=e(),(0,n.jt)(),e),Yd={class:"exchange-rates-page"},Hd=qd((()=>(0,n.Lk)("h1",null,"Exchange Rates",-1))),Kd={class:"row"},zd={class:"col-md-3"},Qd={class:"form-group"},Zd=qd((()=>(0,n.Lk)("label",{for:"baseCurrency"},[(0,n.Lk)("strong",null,"Currency")],-1))),em={class:"col-md-3"},tm={class:"form-group"},om=qd((()=>(0,n.Lk)("label",{for:"rate"},[(0,n.Lk)("strong",null,"Exchange Rate")],-1))),am={class:"col-md-3"},rm={class:"form-group"},nm=qd((()=>(0,n.Lk)("label",{for:"effectiveDate"},[(0,n.Lk)("strong",null,"Effective Date")],-1))),sm=qd((()=>(0,n.Lk)("div",{class:"col-md-3"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Rate")])],-1))),im={class:"table table-striped"},lm=qd((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Currency Code"),(0,n.Lk)("th",{scope:"col"},"Currency Name"),(0,n.Lk)("th",{scope:"col"},"Exchange Rate"),(0,n.Lk)("th",{scope:"col"},"Effective Date")])],-1))),cm={scope:"row"};function um(e,t,o,a,s,i){const l=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)("div",Yd,[Hd,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[3]||(t[3]=(0,r.D$)(((...e)=>i.addExchangeRate&&i.addExchangeRate(...e)),["prevent"]))},[(0,n.Lk)("div",Kd,[(0,n.Lk)("div",zd,[(0,n.Lk)("div",Qd,[Zd,(0,n.bF)(l,{options:s.currencies,modelValue:s.baseCurrency,"onUpdate:modelValue":t[0]||(t[0]=e=>s.baseCurrency=e),label:"name",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",em,[(0,n.Lk)("div",tm,[om,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"rate",placeholder:"Please Enter Exchange Rate","onUpdate:modelValue":t[1]||(t[1]=e=>s.rate=e)},null,512),[[r.Jo,s.rate]])])]),(0,n.Lk)("div",am,[(0,n.Lk)("div",rm,[nm,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"effectiveDate",placeholder:"Please Enter Effective Date","onUpdate:modelValue":t[2]||(t[2]=e=>s.effectiveDate=e)},null,512),[[r.Jo,s.effectiveDate]])])]),sm])],32),(0,n.Lk)("table",im,[lm,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.exchangeRates,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",cm,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,(0,x.v_)(e.base_currency),1),(0,n.Lk)("td",null,(0,x.v_)(e.base_currency_name),1),(0,n.Lk)("td",null,(0,x.v_)(e.rate),1),(0,n.Lk)("td",null,(0,x.v_)(i.formatDate(e.last_updated)),1)])))),128))])])])}var dm={name:"ExchangeRatesPage",data(){return{exchangeRates:[],currencies:[],baseCurrency:"",rate:"",effectiveDate:this.getCurrentDate()}},computed:{sortedExchangeRates(){return[...this.exchangeRates].sort(((e,t)=>new Date(t.last_updated)-new Date(e.last_updated)))}},methods:{getCurrentDate(){const e=new Date,t=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return`${t}-${o}-${a}`},getCurrencyName(e){const t=this.currencies.find((t=>t.code===e));return t?t.name:""},modifyExchangeRates(){this.exchangeRates=this.exchangeRates.map((e=>({...e,base_currency_name:this.getCurrencyName(e.base_currency)})))},formatDate(e){return no(e)},async getExchangeRates(){this.exchangeRates=await Lt(),console.log("Exchange Rates",this.exchangeRates),this.modifyExchangeRates()},async addExchangeRate(){const e=new Date(this.effectiveDate).toISOString(),t={baseCurrency:this.baseCurrency,targetCurrency:"TTD",rate:this.rate,lastUpdated:e};console.log("Rate",t),Dt(t).then((()=>{lo("Exchange Rate Added Successfully"),this.getExchangeRates(),this.baseCurrency="",this.rate=""})).catch((()=>{mo("Failed to Add Exchange Rate")})),this.getExchangeRates()}},mounted(){this.getExchangeRates(),console.log("Currencies",_o()),this.currencies=_o()}};const mm=(0,D.A)(dm,[["render",um],["__scopeId","data-v-3b3eb113"]]);var hm=mm;function pm(e,t,o,a,r,s){const i=(0,n.g2)("VehicleEntry");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i,{onSubmit:s.handleCreate},null,8,["onSubmit"])])}const ym=(0,n.Lk)("h1",null,"Entry Details",-1),gm={key:0},fm={key:1,class:"vehicle-form"},vm={class:"row vehicleAttchments"},bm={class:"col-md-3"},km=(0,n.Lk)("label",{for:"referenceNumber"},[(0,n.Lk)("strong",null,"Reference Number")],-1),Lm={class:"col-md-3"},Cm=(0,n.Lk)("label",{for:"commercialInvoiceAttachment"},[(0,n.Lk)("strong",null,"Commercial Invoice Attachment")],-1),Dm={class:"col-md-3"},_m=(0,n.Lk)("label",{for:"attachedSheet"},[(0,n.Lk)("strong",null,"Attached Sheet")],-1),Em={class:"col-md-3"},Fm=(0,n.Lk)("label",{for:"instructionSheet"},[(0,n.Lk)("strong",null,"Instruction Sheet")],-1),xm={class:"row"},Tm={class:"col-md-3"},Sm={class:"form-row"},Im={class:"row"},Om={class:"col-md-3"},Am=(0,n.Lk)("label",{for:"InvoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),Nm={class:"col-md-3"},wm=(0,n.Lk)("label",{for:"supplierName",class:"form-label"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),Pm={class:"col-md-2"},Rm=(0,n.Lk)("label",{for:"InvoiceDate",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),Vm={class:"col-md-2"},Um=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),Bm={class:"col-md-2"},jm=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),$m=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Number"),(0,n.Lk)("th",null,"Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Total Cost"),(0,n.Lk)("th",null,"Gross Weight"),(0,n.Lk)("th",null,"Net Weight"),(0,n.Lk)("th",null,"Curb Weight"),(0,n.Lk)("th")])],-1),Wm=["onUpdate:modelValue"],Xm=["onUpdate:modelValue"],Gm=["onUpdate:modelValue"],Mm=["onUpdate:modelValue"],Jm=["onUpdate:modelValue"],qm=["onUpdate:modelValue"],Ym=["onUpdate:modelValue"],Hm=["onUpdate:modelValue"],Km=["onUpdate:modelValue"],zm=["onClick"],Qm={key:0},Zm=(0,n.Lk)("i",{class:"fas fa-chevron-up",style:{color:"gray"}},null,-1),eh=[Zm],th={key:1},oh=(0,n.Lk)("i",{class:"fas fa-chevron-down",style:{color:"gray"}},null,-1),ah=[oh],rh={key:0},nh={colspan:"11"},sh=(0,n.Lk)("label",{for:""},"Fuel Type",-1),ih=["onUpdate:modelValue"],lh=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),ch=["value"],uh=(0,n.Lk)("label",{for:""},"Seat Position",-1),dh=["onUpdate:modelValue"],mh=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),hh=["value"],ph=(0,n.Lk)("label",{for:"vehicleCode"},"Model Code",-1),yh=(0,n.Lk)("label",{for:"numberOfSeats"},"Number of Seats",-1),gh=["onUpdate:modelValue"],fh=(0,n.Lk)("label",{for:"numberOfDoors"},"Number of Doors",-1),vh=["onUpdate:modelValue"],bh=(0,n.Lk)("label",{for:"tyreSize"},"Tyre Size",-1),kh=["onUpdate:modelValue"],Lh=(0,n.Lk)("label",{for:"engineDisplacement"},"Engine Displacement",-1),Ch=["onUpdate:modelValue"],Dh={key:1},_h={colspan:"11"},Eh=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Chassis Number"),(0,n.Lk)("th",null,"Engine Number"),(0,n.Lk)("th",null,"Exterior Color"),(0,n.Lk)("th",null,"Customer Name"),(0,n.Lk)("th",null,"Customer TIN"),(0,n.Lk)("th",null,"Broker Instructions"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"ED Number"),(0,n.Lk)("th",null,"Manufacture Year")])],-1),Fh=["onUpdate:modelValue"],xh=["onUpdate:modelValue"],Th=["onUpdate:modelValue"],Sh=["onUpdate:modelValue"],Ih=["onUpdate:modelValue"],Oh=["onUpdate:modelValue"],Ah=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Nh=["value"],wh=["onUpdate:modelValue"],Ph={class:"form-row"},Rh={class:"row"},Vh={class:"col-md-3"},Uh=(0,n.Lk)("label",{for:"invoiceTotal",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Total")],-1),Bh={class:"col-md-3"},jh=(0,n.Lk)("label",{for:"inlandAmount",class:"form-label"},[(0,n.Lk)("strong",null,"Inland Amount")],-1),$h={class:"col-md-3"},Wh=(0,n.Lk)("label",{for:"insuranceAmount",class:"form-label"},[(0,n.Lk)("strong",null,"Insurance Amount")],-1),Xh={class:"col-md-3"},Gh=(0,n.Lk)("label",{for:"otherCharges",class:"form-label"},[(0,n.Lk)("strong",null,"Other Charges")],-1),Mh=(0,n.Lk)("h3",null,"Entry Summary",-1),Jh=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Number of Vehicles Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),qh=(0,n.Lk)("tr",null,[(0,n.Lk)("td"),(0,n.Lk)("td"),(0,n.Lk)("td")],-1);function Yh(e,t,o,a,s,i){const l=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)(n.FK,null,[ym,1==o.isEditMode?((0,n.uX)(),(0,n.CE)("h2",gm,"Reference Number: "+(0,x.v_)(this.referenceNumber),1)):(0,n.Q3)("",!0),0==o.isEditMode?((0,n.uX)(),(0,n.CE)("div",fm,[(0,n.Lk)("div",vm,[(0,n.Lk)("div",bm,[km,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.referenceNumber=e),placeholder:"Enter Reference Number"},null,512),[[r.Jo,s.referenceNumber]])]),(0,n.Lk)("div",Lm,[Cm,(0,n.Lk)("input",{type:"file",id:"commercialInvoiceAttachment",class:"form-control",onChange:t[1]||(t[1]=e=>i.handleFileChange(e,"commercialInvoice"))},null,32)]),(0,n.Lk)("div",Dm,[_m,(0,n.Lk)("input",{type:"file",id:"attachedSheet",class:"form-control",onChange:t[2]||(t[2]=e=>i.handleFileChange(e,"attachedSheet"))},null,32)]),(0,n.Lk)("div",Em,[Fm,(0,n.Lk)("input",{type:"file",id:"instructionSheet",class:"form-control",onChange:t[3]||(t[3]=e=>i.handleFileChange(e,"instructionSheet"))},null,32)])]),(0,n.Lk)("div",null,[(0,n.Lk)("div",xm,[(0,n.Lk)("div",Tm,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[4]||(t[4]=(...e)=>i.readToyotaFiles&&i.readToyotaFiles(...e))},"Upload Files")])])])])):(0,n.Q3)("",!0),(0,n.bF)(l,{ref:"myCustomsForm",customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[5]||(t[5]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"]),(0,n.Lk)("div",Sm,[(0,n.Lk)("div",Im,[(0,n.Lk)("div",Om,[Am,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.invoiceNumber=e),id:"InvoiceNumber",placeholder:"Please Enter Invoice Number"},null,512),[[r.Jo,s.invoiceNumber]])]),(0,n.Lk)("div",Nm,[wm,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>s.supplierName=e),id:"supplierName",placeholder:"Please Enter Supplier Name"},null,512),[[r.Jo,s.supplierName]])]),(0,n.Lk)("div",Pm,[Rm,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>s.invoiceDate=e),id:"InvoiceDate",placeholder:"Please Enter Invoice Date"},null,512),[[r.Jo,s.invoiceDate]])]),(0,n.Lk)("div",Vm,[Um,(0,n.bF)(c,{options:s.currencies,modelValue:s.invoiceCurrency,"onUpdate:modelValue":t[9]||(t[9]=e=>s.invoiceCurrency=e),label:"name",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",Bm,[jm,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>s.rateOfExchange=e),id:"rateOfExchange",placeholder:"Please Enter Rate of Exchange"},null,512),[[r.Jo,s.rateOfExchange]])])])]),(0,n.Lk)("div",null,[(0,n.Lk)("table",null,[$m,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.vehicles,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,x.v_)(t+1),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vehicleCode=t,class:"form-control",placeholder:"Please Enter Vehicle Code"},null,8,Wm),[[r.Jo,e.vehicleCode]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.description=t,class:"form-control",placeholder:"Please Enter Vehicle Model"},null,8,Xm),[[r.Jo,e.description]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.thnNumber=t,class:"form-control",placeholder:"Please Enter THN Number"},null,8,Gm),[[r.Jo,e.thnNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,class:"form-control",placeholder:"Please Enter Quantity"},null,8,Mm),[[r.Jo,e.quantity]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.unitPrice=t,class:"form-control",placeholder:"Please Enter Unit Price"},null,8,Jm),[[r.Jo,e.unitPrice]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.totalCost=t,class:"form-control",placeholder:"Please Enter Total Cost"},null,8,qm),[[r.Jo,e.totalCost]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.grossWeight=t,class:"form-control",placeholder:"Please Enter Gross Weight"},null,8,Ym),[[r.Jo,e.grossWeight]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.netWeight=t,class:"form-control",placeholder:"Please Enter Net Weight"},null,8,Hm),[[r.Jo,e.netWeight]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.curbWeight=t,class:"form-control",placeholder:"Please Enter Curb Weight"},null,8,Km),[[r.Jo,e.curbWeight]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>i.toggleDetails(t)},[s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("span",Qm,eh)):((0,n.uX)(),(0,n.CE)("span",th,ah))],8,zm)])]),s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("tr",rh,[(0,n.Lk)("td",nh,[(0,n.Lk)("table",null,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[sh,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.fuelType=t,class:"form-control"},[lh,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.fuelTypeOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.detail),9,ch)))),128))],8,ih),[[r.u1,e.fuelType]])]),(0,n.Lk)("td",null,[uh,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.seatPosition=t,class:"form-control"},[mh,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.seatPositionOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.detail),9,hh)))),128))],8,dh),[[r.u1,e.seatPosition]])]),(0,n.Lk)("td",null,[ph,(0,n.bF)(c,{options:s.vehicleCodeOptions,modelValue:e.modelCode,"onUpdate:modelValue":t=>e.modelCode=t,style:{width:"300px"},label:"description",searchable:!0,filterable:!0,placeholder:"Please select one",reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[yh,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.numberOfSeats=t,class:"form-control",placeholder:"Please Enter Number of Seats"},null,8,gh),[[r.Jo,e.numberOfSeats]])]),(0,n.Lk)("td",null,[fh,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.numberOfDoors=t,class:"form-control",placeholder:"Please Enter Number of Doors"},null,8,vh),[[r.Jo,e.numberOfDoors]])]),(0,n.Lk)("td",null,[bh,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.tyreSize=t,class:"form-control",placeholder:"Please Enter Tyre Size"},null,8,kh),[[r.Jo,e.tyreSize]])]),(0,n.Lk)("td",null,[Lh,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.engineDisplacement=t,class:"form-control",placeholder:"Please Enter Engine Displacement"},null,8,Ch),[[r.Jo,e.engineDisplacement]])])])])])])])):(0,n.Q3)("",!0),s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("tr",Dh,[(0,n.Lk)("td",_h,[(0,n.Lk)("table",null,[Eh,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.details,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.chassisNumber},[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.chassisNumber=t,class:"form-control",placeholder:"Please Enter Chassis Number"},null,8,Fh),[[r.Jo,e.chassisNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.engineNumber=t,class:"form-control",placeholder:"Please Enter Engine Number"},null,8,xh),[[r.Jo,e.engineNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.exteriorColor=t,class:"form-control",placeholder:"Please Enter Exterior Color"},null,8,Th),[[r.Jo,e.exteriorColor]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.customerName=t,class:"form-control",placeholder:"Please Enter Customer Name"},null,8,Sh),[[r.Jo,e.customerName]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.customerTIN=t,class:"form-control",placeholder:"Please Enter Customer TIN"},null,8,Ih),[[r.Jo,e.customerTIN]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.brokerInstructions=t,class:"form-control"},[Ah,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.instructionList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,x.v_)(e.code),9,Nh)))),128))],8,Oh),[[r.u1,e.brokerInstructions]])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:i.availableCPCCodes,modelValue:e.cpcCode,"onUpdate:modelValue":t=>e.cpcCode=t,label:"code",id:"cpcCode",searchable:!0,filterable:!0,reduce:e=>e.cpcId},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:e.npcCode,"onUpdate:modelValue":t=>e.npcCode=t,options:s.npcCodeOptions,label:"code",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.edNumber=t,class:"form-control",placeholder:"Please Enter ED Number"},null,8,wh),[[r.Jo,e.edNumber]])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:s.years,modelValue:e.manufactureYear,"onUpdate:modelValue":t=>e.manufactureYear=t,searchable:!0,filterable:!0,placeholder:"Please select one"},null,8,["options","modelValue","onUpdate:modelValue"])])])))),128))])])])])):(0,n.Q3)("",!0)],64)))),128))])]),(0,n.Lk)("div",Ph,[(0,n.Lk)("div",Rh,[(0,n.Lk)("div",Vh,[Uh,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>s.invoiceTotal=e),id:"invoiceTotal",placeholder:"Please Enter Invoice Total"},null,512),[[r.Jo,s.invoiceTotal]])]),(0,n.Lk)("div",Bh,[jh,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>s.inlandAmount=e),id:"inlandAmount",placeholder:"Please Enter Inland Amount"},null,512),[[r.Jo,s.inlandAmount]])]),(0,n.Lk)("div",$h,[Wh,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=e=>s.insuranceAmount=e),id:"insuranceAmount",placeholder:"Please Enter Insurance Amount"},null,512),[[r.Jo,s.insuranceAmount]])]),(0,n.Lk)("div",Xh,[Gh,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>s.otherCharges=e),id:"otherCharges",placeholder:"Please Enter Other Charges"},null,512),[[r.Jo,s.otherCharges]])])])])]),(0,n.Lk)("div",null,[Mh,(0,n.Lk)("table",null,[Jh,(0,n.Lk)("tbody",null,[qh,(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[15]||(t[15]=e=>i.handleButtonClick())},(0,x.v_)(o.isEditMode?"Update Entry":"Create Entry"),1)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[16]||(t[16]=e=>i.generateWorksheet())},"Generate WorkSheet")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[17]||(t[17]=e=>i.generateAsycudaXML())},"Generate Asycuda XML")])])])])])],64)}function Hh(){const e=(0,Co.KR)([{code:"328FG18",description:"FORKLIFT TRUCK"},{code:"3BAAGH30W",description:"ALPHARD MINIVAN"},{code:"4RUNNER",description:"4RUNNER"},{code:"6FGL18",description:"FORKLIFT"},{code:"7FBEHU18",description:"ELECTRIC FORKLIFT"},{code:"7FDU70",description:"FORKLIFT"},{code:"86",description:"TOYOTA 86"},{code:"8FBE20U",description:"FORKLIFT"},{code:"8FGC45U",description:"2014 LPG FORKLIFT"},{code:"8FGCU 30",description:"TOYOTA FORKLIFT 8FGCU 30"},{code:"8FGCU25",description:"TOYOTA FORLIFT"},{code:"8FGU15",description:"TOYOTA FORKLIFT TRUCK"},{code:"AGYA",description:"HATCHBACK"},{code:"AQUA",description:"AQUA"},{code:"AURIS",description:"TOYOTA AURIS MOTOR CAR"},{code:"AVALON",description:"AVALON"},{code:"AXIO",description:"TOYOTA AXIO"},{code:"AXIO HYBRID",description:"TOYOTA AXIO GASOLINE ELECTRIC HYBRID"},{code:"AGYO",description:"TOYOTA AYGO"},{code:"B101RAGQSGJ",description:"5 DR RHD"},{code:"B101RAGQSGT",description:"5DR GAS RHD"},{code:"BB",description:"MINI MPV"},{code:"BZ4X PURE",description:"ELECTRIC SUV"},{code:"CALYA ASTRA",description:"SUV"},{code:"CAMRY",description:"CAMRY"},{code:"CAMRY HYBRID",description:"CAMRY HYBRID"},{code:"CAMRY SOLARA",description:"CAMRY SOLARA"},{code:"CELICA",description:"CELICA"},{code:"CHR",description:"CROSSOVER SUV"},{code:"CHR HYBRID",description:"C-HR HYBRID"},{code:"COASTER",description:"COASTER"},{code:"COMMUTER",description:"CUMMUTER PANEL VAN"},{code:"COROLLA",description:"COROLLA"},{code:"COROLLA CROSS",description:"COROLLA CROSS"},{code:"CRESSIDA",description:"CRESSIDA"},{code:"CROWN",description:"SEDAN"},{code:"CROWN HYBRID",description:"TOYOTA CROWN HYBRID"},{code:"DYNA",description:"DYNA TRUCK"},{code:"ECHO",description:"ECHO"},{code:"ESTIMA",description:"SEDAN"},{code:"FIELDER",description:"FIELDER"},{code:"FJ CRUISER",description:"FJ CRUISER"},{code:"FORKLIFT",description:"TOYOTA FORKLIFT"},{code:"FORTUNER",description:"FORTUNER"},{code:"GRAND",description:"GRAND HIACE"},{code:"GRANDE",description:"GRANDE ACE"},{code:"HARRIER",description:"HARRIER SUV"},{code:"HIACE",description:"HIACE"},{code:"HIGHLANDER",description:"HIGHLANDER"},{code:"HIGHLANDER HYBRID",description:"HIGHLANDER HYBRID"},{code:"HILUX",description:"HILUX SINGLE CAB"},{code:"HILUX DOUBLE",description:"HILUX DOUBLE CAB"},{code:"HINO",description:"HINO TRUCK"},{code:"IPSUM",description:"IPSUM"},{code:"IST",description:"IST"},{code:"LAND CRUISER",description:"LAND CRUISER"},{code:"LC200",description:"LC200"},{code:"LC70",description:"LC70"},{code:"LEXUS",description:"LEXUS"},{code:"LITEACE",description:"TOYOTA LITEACE"},{code:"MARKX",description:"MARKX"},{code:"MATRIX",description:"MATRIX"},{code:"MR2",description:"MR2"},{code:"NOAH",description:"NOAH MINIBUS"},{code:"PASEO",description:"PASEO"},{code:"PASSO",description:"TOYOTA PASSO"},{code:"PIXIS EPOCH",description:"PIXIS EPOCH"},{code:"PRADO",description:"PRADO"},{code:"PREVIA",description:"PREVIA"}]);return e}var Kh={name:"VehicleEntry",components:{CustomsEntryForm:xr},props:{record:{type:Object,default:()=>ao()},vehicleDetails:{type:Array,default:()=>[]},isEditMode:{type:Boolean,default:!1},referenceNumberRecord:{type:String,default:""},invoiceDetails:{type:Object,default:()=>({supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0})}},watch:{record:{handler:function(e){this.customsEntryForm=e},deep:!0},vehicleDetails:{handler:function(e){this.vehicles=e},deep:!0},referenceNumberRecord:{handler:function(e){this.referenceNumber=e}},invoiceDetails:{handler:function(e){this.supplierName=e.supplierName,this.invoiceNumber=e.invoiceNumber,this.invoiceDate=e.invoiceDate,this.invoiceCurrency=e.invoiceCurrency,this.rateOfExchange=e.rateOfExchange,this.invoiceTotal=e.invoiceTotal,this.inlandAmount=e.inlandAmount,this.insuranceAmount=e.insuranceAmount,this.otherCharges=e.otherCharges},deep:!0}},emits:["submit"],data(){return{files:{commercialInvoice:null,attachedSheet:null,instructionSheet:null},referenceNumber:"",supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0,vehicles:[],seatPositionOptions:[{detail:"Left Hand Drive",code:"LHD"},{detail:"Right Hand Drive",code:"RHD"}],instructionList:[{detail:"Exempted but Bond then Extract",code:"EB"},{detail:"Exempted clear off the Port",code:"EC"},{detail:"Exempted from all duties and taxes but processing like a duty paid",code:"DP"},{detail:"Bond",code:"B"},{detail:"Duty Paid",code:"DP"}],fuelTypeOptions:[{detail:"CNG",code:"CNG"},{detail:"Diesel",code:"DSL"},{detail:"Electric",code:"ELC"},{detail:"Hybrid",code:"HYB"},{detail:"Petrol",code:"PET"},{detail:"Other",code:"OTH"},{detail:"Liquified Petroleum Gas",code:"LPG"}],vehicleCodeOptions:[],currencies:[],years:[],countries:[],npcCodeOptions:["000"],expandedIndex:null,customsEntryForm:{...this.record}}},mounted(){this.setYears(),this.vehicleCodeOptions=Hh(),this.currencies=_o(),this.pageSetup(),this.fetchNpcCodes(),this.fetchCountries()},computed:{availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},methods:{handleButtonClick(){this.isEditMode?(console.log("Updating Entry"),this.updateEntry()):(console.log("Saving Entry"),this.saveEntry())},sanitizeVehicleData(){return this.vehicles.flatMap((e=>e.details.map((t=>({description:e.description,quantity:t.quantity,unit_price:e.unitPrice,amount:parseFloat(t.quantity)*parseFloat(e.unitPrice),thn_code:e.commodity,product_code:e.vehicleCode,country_of_origin:"",cpcCode:t.cpcCode,npcCode:t.npcCode,vatApplicable:!0,grossWeight:t.grossWeight,netWeight:t.netWeight,curbWeight:t.curbWeight,fuelType:t.fuelType,seatPosition:t.seatPosition,modelCode:t.modelCode,numberOfSeats:t.numberOfSeats,numberOfDoors:t.numberOfDoors,tyreSize:t.tyreSize,engineDisplacement:t.engineDisplacement,chassisNumber:t.chassisNumber,engineNumber:t.engineNumber,exteriorColor:t.exteriorColor,customerName:t.customerName,tinNumber:t.customerTIN,brokerInstructions:t.brokerInstructions,edNumber:t.edNumber,manufactureYear:t.manufactureYear})))))},updateWaybill(){return{waybill_number:this.customsEntryForm.waybillNumber,waybill_date:this.customsEntryForm.waybillDate,mode_of_transport:this.customsEntryForm.modeOfTransport,freight_type:this.customsEntryForm.freightType,marks_and_numbers:this.customsEntryForm.marksAndNumbers,package_type:this.customsEntryForm.packageType,package_quantity:this.customsEntryForm.numberOfPackages,country_of_origin:this.customsEntryForm.country_of_origin,country_of_final_destination:this.customsEntryForm.countryOfFinalDestination,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,port_of_discharge:this.customsEntryForm.portOfDischargeId,waybill_id:this.customsEntryForm.waybill_id}},updateEntryData(){return{net_weight:this.customsEntryForm.netWeight,gross_weight:this.customsEntryForm.grossWeight,entry_number:this.referenceNumber,freight_charge:this.customsEntryForm.freightAmount,declarant:this.customsEntryForm.declarantId,incoterms:this.customsEntryForm.incoTerms,regime_type:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,container_charges:this.customsEntryForm.containerCharges,additional_charges:this.customsEntryForm.additionalCharges,local_fee:this.customsEntryForm.localFee,country_last_provenance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry}},updateEntry(){const e=this.updateWaybill(),t=this.updateEntryData(),o={waybill:e,entry:t};console.log("Generating Payload",o),this.$emit("submit",o)},saveEntry(){const e={invoice_total:this.invoiceTotal,invoice_id:this.invoiceNumber,invoice_date:this.invoiceDate,subtotal:this.invoiceTotal,vendor_name:this.supplierName,total_tax:0,vendor_address:"",purchase_order:"",inland:this.inlandAmount,insurance:this.insuranceAmount,otherCharges:this.otherCharges,currency:this.invoiceCurrency,rate_of_exchange:this.rateOfExchange,invoice_items:this.sanitizeVehicleData()},t={referenceNumber:this.referenceNumber,waybillNumber:this.customsEntryForm.waybillNumber,waybillDate:this.customsEntryForm.waybillDate,modeOfTransport:this.customsEntryForm.modeOfTransport,freightType:this.customsEntryForm.freightType,marksAndNumbers:this.customsEntryForm.marksAndNumbers,countryOfOrigin:this.customsEntryForm.countryOfOrigin,countryOfFinalDestination:this.customsEntryForm.countryOfFinalDestination,countryLastProvenance:this.customsEntryForm.countryLastProvinance,tradingCountry:this.customsEntryForm.tradingCountry,kindOfPackage:this.customsEntryForm.packageType,numberOfPackages:this.customsEntryForm.numberOfPackages,totalCargoValue:this.customsEntryForm.totalCargoValue,freightCharge:this.customsEntryForm.freightAmount,insuranceAmount:this.customsEntryForm.insuranceAmount,otherCharges:this.customsEntryForm.otherCharges,rateOfExchange:this.customsEntryForm.rateOfExchange,netWeight:this.customsEntryForm.netWeight,grossWeight:this.customsEntryForm.grossWeight,declarant:this.customsEntryForm.declarantId,incoTerms:this.customsEntryForm.incoTerms,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,portOfDischarge:this.customsEntryForm.portOfDischargeId,regimeType:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,containerCharges:this.customsEntryForm.containerCharges,additionalCharges:this.customsEntryForm.additionalCharges,localFee:this.customsEntryForm.localFee,entryType:Tr.VEHICLES,invoiceList:[e]};console.log("Entry Data",t),this.$emit("submit",t)},pageSetup(){this.getRegimeTypes().then((()=>{this.setDefaults()}))},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},setDefaults(){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===Eo().defaultRegimeType));this.customsEntryForm.regimeType=e.regimeTypeId},setYears(){const e=(new Date).getFullYear(),t=1990;for(let o=t;o<=e;o++)this.years.push(o)},async fetchNpcCodes(){bt().then((e=>{this.npcCodeOptions=e,console.log("NPC Codes: ",e)}))},async getRegimeTypes(){return vt("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e}))},toggleDetails(e){this.expandedIndex=this.expandedIndex===e?null:e},handleFileChange(e,t){this.files[t]=e.target.files[0]},async readToyotaFiles(){const e=new FormData;e.append("commercialInvoice",this.files.commercialInvoice),e.append("pdfAttachments",this.files.attachedSheet),e.append("toyotaInstructionExcel",this.files.instructionSheet),e.append("reference_number","RLL76568"),ho("Uploading Files"),Pt(e).then((e=>{lo("Files Uploaded Successfully"),console.log(e),this.vehicles=this.convertVehicleData(e.line_items),this.supplierName=e.summary_fields["VENDOR_NAME"]??"",this.invoiceNumber=e.summary_fields["INVOICE_RECEIPT_ID"]??"",this.invoiceDate=e.summary_fields["INVOICE_RECEIPT_DATE"]??"",this.invoiceTotal=Yt(e.summary_fields["TOTAL"]),this.customsEntryForm.totalCargoValue=this.invoiceTotal})).catch((e=>{mo("Error Uploading Files"),console.error("Error details:",e),e.response&&(console.error("Error response data:",e.response.data),console.error("Error response status:",e.response.status),console.error("Error response headers:",e.response.headers))}))},convertVehicleData(e){const t=[],o=this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes)),a=o.find((e=>e.code===Eo().defaultCPCCode)).cpcId;return e.forEach((e=>{const o=e["Product Code"].match(/\d{5}/)[0],r={chassisNumber:e.chassis_number,engineNumber:e.engine_number,exteriorColor:e.exterior_color,interiorColor:e.interior_color,customerName:e.customer,customerTIN:e.customer_tin??"",brokerInstructions:e.instruction_code,cpcCode:a,npcCode:"000",edNumber:e["ED No"],quantity:e["quantity"],grossWeight:e["gross_weight"],netWeight:e["net_weight"],engineDisplacement:e["engine_displacement"],manufactureYear:e.manufacture_year??"2000"},n=e["Product Code"].match(/\d{5}/)[0],s=t.find((e=>e.vehicleCode===n));if(s)return s.quantity+=parseInt(e["quantity"]),void s.details.push(r);t.push({vehicleCode:o,description:e["description"],thnNumber:null===e["commodity_code"]?"":e["commodity_code"],quantity:1,unitPrice:e["unitcost"],grossWeight:null===e["gross_weight"]?0:e["gross_weight"],netWeight:null===e["net_weight"]?0:e["net_weight"],curbWeight:null===e["curb_weight"]?0:e["curb_weight"],engineDisplacement:e["engine_displacement"],fuelType:null===e["fuel_type"]?"PET":e["fuel_type"],numberOfSeats:null===e["number_of_seats"]?5:e["number_of_seats"],numberOfDoors:null===e["number_of_doors"]?4:e["number_of_doors"],tyreSize:null===e["tyre_size"]?"":e["tyre_size"],modelCode:null===e["model_code"]?"":e["model_code"],seatPosition:null===e["seat_position"]?"RHD":e["seat_position"],details:[r]})})),console.log("Vehicle Data Read",t),t},commodityCodeChange(e){const t=e.target.innerText,o=t.replace(/[^0-9]/g,""),a=this.includeFullStops(o);e.target.innerText=a,this.moveCursorToEnd(e.target)},includeFullStops(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},getChargeData(){let e=[];return this.vehicles.forEach((t=>{const o=It(t.thnNumber.replace(/\./g,"")).then((e=>{console.log(e);let o=Jt(e.charges,!0);t.commodity={code:t.thnNumber.replace(/\./g,""),id:e.id,charges:o},console.log("Vehicle Commodity",t.commodity)})).catch((e=>(uo(),mo(`The following commodity code does not exist on Asycuda - ${t.thnNumber}. Please update this and try again. `),console.error("Error details:",e),Promise.reject(e))));e.push(o)})),Promise.all(e)},generateAsycudaXML(){console.log("Generating Asycuda XML"),ho("Generating Asycuda XML");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId));console.log("Selected Port: ",e);const t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),a=this.customsEntryForm.declarants.find((e=>e.id===this.customsEntryForm.declarantId)),r=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin)),n=Kt(this.vehicles,this.availableCPCCodes),s=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(0,2),i=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(2),l={exworks:this.invoiceTotal,rate_of_exchange:this.rateOfExchange,supplementary_charges_and_deductions:{internal_freight:this.inlandAmount,insurance:this.insuranceAmount,other:this.otherCharges,deductions:0},line_items:n},c={reference_number:"RLL7656",group_items:!0,waybill:{number:this.customsEntryForm.waybillNumber,external_freight:this.customsEntryForm.freightAmount,insurance:void 0==this.customsEntryForm.insuranceAmount?0:this.customsEntryForm.insuranceAmount,other_charges:void 0==this.customsEntryForm.otherCharges?0:this.customsEntryForm.otherCharges,importer:{name:t?.name,tax_identification_number:void 0==t.taxIdentificationNumber?"":t.taxIdentificationNumber},exporter:{name:`${o?.name}\n${o?.address}`,tax_identification_number:void 0==o.taxIdentificationNumber?"":o.taxIdentificationNumber},declarant:{name:a?.name,tax_identification_number:void 0==a.taxIdentificationNumber?"":a.taxIdentificationNumber},mode_of_transport:"Ocean"===this.customsEntryForm.modeOfTransport?"1":"Air"===this.customsEntryForm.modeOfTransport?"4":"",container_flag:!1,vessel:this.customsEntryForm.vesselName,country_of_origin:this.customsEntryForm.countryOfOrigin,country_of_destination:void 0==this.customsEntryForm.countryOfFinalDestination?"":this.customsEntryForm.countryOfFinalDestination,number_of_packages:this.customsEntryForm.numberOfPackages+"",type_of_declaration:s,general_procedural_code:i,office_of_destination:e.asycudaCode,country_last_provinance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry,country_export:this.customsEntryForm.countryOfOrigin,delivery_terms:this.customsEntryForm.incoTerms,delivery_terms_place:this.customsEntryForm.countryOfOrigin,place_of_terms:r?.name,local_currency:"TTD",office_of_entry:e.asycudaCode,location_of_goods:""},invoices:[l]};console.log("Request Data",c),xt(c).then((e=>{uo(),lo("Asycuda XML ZIP File Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/zip"})),o=document.createElement("a"),a="Asycuda-XML.zip";o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((()=>{mo("Error Generating Asycuda XML")}))},generateWorksheet(){console.log("Generating Worksheet"),ho("Generating Worksheet"),this.getChargeData().then((()=>{const e=Xt("RLL7656","TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges),t=zt(this.vehicles,this.availableCPCCodes);console.log("Vehicle Lines",t);const o={name:this.invoiceNumber,supplier:this.supplierName,exworks:this.invoiceTotal,invoice_currency:this.invoiceCurrency,cif_foreign_currency:0,cif_local_currency:0,rate_of_exchange:6.78346,supplementary_charges_and_deductions:{internal_freight:this.inlandAmount,insurance:this.insuranceAmount,other:this.otherCharges,deductions:0},line_items:t};e.invoices=[o],console.log("Worksheet Object",e),Tt(e).then((e=>{uo(),lo("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/zip"})),o=document.createElement("a"),a="Worksheet.zip";o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((()=>{mo("Error Generating Worksheet")}))})).catch((()=>{mo("Error Generating Worksheet")}))},truncateString(e){return e.length>14?e.substring(0,14):e},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)}}};const zh=(0,D.A)(Kh,[["render",Yh]]);var Qh=zh,Zh={components:{VehicleEntry:Qh},methods:{async handleCreate(e){try{ho("Saving your Entry..."),et(e).then((e=>{console.log("Entry created successfully:",e),uo(),lo("Entry created successfully")})).catch((e=>{console.error("Failed to create the Entry:",e),mo("Failed to create the Entry. Please try again.")}))}catch(t){console.error("Failed to create the invoice:",t),mo("Failed to create the Entry. Please try again.")}}}};const ep=(0,D.A)(Zh,[["render",pm]]);var tp=ep;function op(e,t,o,a,r,s){const i=(0,n.g2)("VehicleEntry");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i,{record:r.record,vehicleDetails:r.vehicleDetails,invoiceDetails:r.invoiceDetails,referenceNumberRecord:r.referenceNumberRecord,isEditMode:!0,onSubmit:s.handleEdit},null,8,["record","vehicleDetails","invoiceDetails","referenceNumberRecord","onSubmit"])])}var ap={components:{VehicleEntry:Qh},data(){return{entryId:"",waybillId:"",record:ao(),vehicleDetails:[],invoiceDetails:{supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0},referenceNumberRecord:""}},mounted(){this.entryId=this.$route.params.entryId,this.fetchEntryDetails(),this.getRegimeTypes(),this.fetchPorts()},methods:{async fetchEntryDetails(){console.log("Fetching details for entry ID:",this.entryId),ho("Fetching Entry details...");try{const e=tt(this.entryId),t=ot(this.entryId),[o,a]=await Promise.all([e,t]);uo(),lo("Entry details fetched successfully"),console.log("Entry details:",o),this.record=ao(),this.record.incotermsList=_r(),this.record.modeOfTransportOOptions=Fo(),this.record.packageTypes=Do(),this.record.importerId=o.importer,this.record.exporterId=o.shipper,this.record.waybillNumber=o.waybill_number,this.record.modeOfTransport=o.mode_of_transport,this.record.freightType=o.freight_type,this.record.vesselId=o.vessel,this.record.portOfDischargeId=o.port_of_discharge,this.record.netWeight=o.net_weight,this.record.grossWeight=o.gross_weight,this.record.numberOfPackages=o.package_quantity,this.record.packageType=o.package_type,this.record.marksAndNumbers=o.marks_and_numbers,this.record.totalCargoValue=o.invoice_total??0,this.record.freightAmount=o.freight_charge??0,this.record.insuranceAmount=o.insurance_amount??0,this.record.otherCharges=o.other_charges??0,this.record.rateOfExchange=o.rate_of_exchange,this.record.countryOfOrigin=o.country_of_origin,this.record.countryOfFinalDestination=o.country_of_final_destination,this.record.regimeType=o.regimeType,this.record.regimeTypeCode=o.regimeTypeCode,this.record.depositAmount=o.deposit??0,this.record.containerCharges=o.container_charges??0,this.record.additionalCharges=o.additional_charges??0,this.record.localFee=o.local_fee??0,this.record.declarantId=o.declarant,this.record.incoTerms=o.incoterms,this.record.countryLastProvinance=o.country_last_provenance,this.record.tradingCountry=o.trading_country,this.fetchPorts(),console.log("Commercial Invoice details:",a),this.vehicleDetails=this.processVehicleData(a[0].lines),this.invoiceDetails={supplierName:a[0].supplier_name,invoiceNumber:a[0].invoice_number,invoiceDate:a[0].invoice_date,invoiceCurrency:a[0].currency,rateOfExchange:a[0].rate_of_exchange,invoiceTotal:a[0].invoice_total,inlandAmount:a[0].inland,insuranceAmount:a[0].insurance,otherCharges:a[0].other_charges},this.referenceNumberRecord=o.entry_number,this.waybillId=o.waybill_id,console.log("Vehicle details:",this.vehicleDetails)}catch(e){console.error("Failed to fetch the Entry details:",e),mo("Failed to fetch the Entry details. Please try again.")}},async getRegimeTypes(){return vt("TT").then((e=>{this.record.regimeTypeOptions=e}))},async fetchPorts(){return kt().then((e=>{this.record.ports=e}))},processVehicleData(e){const t=[];return e.forEach((e=>{const o=e["product_code"],a={chassisNumber:e.chassis_number,engineNumber:e.engine_number,exteriorColor:e.exterior_color,customerName:e.customer_name??"",customerTIN:e.customer_tin??"",brokerInstructions:e.broker_instructions,cpcCode:e.cpc_code,npcCode:e.npc_code,edNumber:e.ed_number,quantity:e.quantity,grossWeight:e.gross_weight??0,netWeight:e.net_weight??0,engineDisplacement:e.engine_displacement,manufactureYear:e.manufacture_year??"2000",engine_number:e.engine_number},r=e["product_code"],n=t.find((e=>e.vehicleCode===r));if(n)return n.quantity+=parseInt(e["quantity"]),void n.details.push(a);t.push({vehicleCode:o,description:e.description,thnNumber:null===e["tariff_code"]?"":e["tariff_code"],quantity:1,unitPrice:null===e.unit_price?0:e.unit_price,grossWeight:null===e["gross_weight"]?0:e["gross_weight"],netWeight:null===e["net_weight"]?0:e["net_weight"],curbWeight:null===e["curb_weight"]?0:e["curb_weight"],engineDisplacement:e["engine_displacement"],fuelType:null===e["fuel_type"]?"":e["fuel_type"],numberOfSeats:null===e["number_of_seats"]?5:e["number_of_seats"],numberOfDoors:null===e["number_of_doors"]?4:e["number_of_doors"],tyreSize:null===e["tyre_size"]?"":e["tyre_size"],modelCode:null===e["model_code"]?"":e["model_code"],seatPosition:null===e["seat_position"]?"RHD":e["seat_position"],details:[a]})})),t},mapResponseToRecord(e){return{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:_r(),modeOfTransportOOptions:Fo(),importerId:e.importer,exporterId:e.shipper,importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantTaxIdentificationNumber:"",waybillNumber:e.waybill_number,waybillDate:"",modeOfTransport:e.mode_of_transport,freightType:e.freight_type,vesselId:e.vessel,vesselName:"",packageTypes:Do(),portOfDischargeId:e.port_of_discharge,portOfDischargeName:"",netWeight:e.net_weight,grossWeight:e.gross_weight,numberOfPackages:e.package_quantity,packageType:e.package_type,marksAndNumbers:e.marks_and_numbers,totalCargoValue:e.invoice_total,freightAmount:e.freight_charge,insuranceAmount:e.insurance_amount,otherCharges:e.other_charges,rateOfExchange:e.rate_of_exchange,countryOfOrigin:e.country_of_origin,countryOfFinalDestination:e.country_of_final_destination,regimeType:e.regimeType,regimeTypeCode:e.regimeTypeCode,regimeTypeOptions:[],depositAmount:e.deposit,containerCharges:e.container_charges,additionalCharges:e.additional_charges,localFee:e.local_fee,declarantId:e.declarant,incoTerms:e.incoterms,countryLastProvinance:e.country_last_provenance,tradingCountry:e.trading_country}},async handleEdit(e){console.log("Edit payload:",e);const t=e.waybill;console.log("Waybill data:",t);const o=e.entry;console.log("Entry data:",o),ho("Updating Entry details..."),Promise.all([Ut(this.entryId,o),Bt(this.waybillId,t)]).then((()=>{uo(),lo("Entry details updated successfully")})).catch((e=>{console.error("Failed to update the Entry details:",e),mo("Failed to update the Entry details. Please try again.")}))}}};const rp=(0,D.A)(ap,[["render",op]]);var np=rp;const sp=(0,n.Lk)("h1",null,"Classified Entries",-1),ip={class:"table table-bordered"},lp=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Entry #"),(0,n.Lk)("th",null,"Consignee"),(0,n.Lk)("th",null,"Invoice Number"),(0,n.Lk)("th",null,"Waybill Number"),(0,n.Lk)("th",null,"Classififcation Status"),(0,n.Lk)("th",null,"Classified By"),(0,n.Lk)("th",null,"Actions")])],-1),cp=["onClick"],up={key:0,class:"error-message"};function dp(e,t,o,a,s,i){return(0,n.uX)(),(0,n.CE)("div",null,[sp,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchTerm=e),placeholder:"Search entries"},null,512),[[r.Jo,s.searchTerm]]),(0,n.Lk)("table",ip,[lp,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.filteredEntries,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.entry_id},[(0,n.Lk)("td",null,(0,x.v_)(e.entry_number),1),(0,n.Lk)("td",null,(0,x.v_)(e.importerName),1),(0,n.Lk)("td",null,(0,x.v_)(e.invoice_number?e.invoice_number.split("; ")[0]:""),1),(0,n.Lk)("td",null,(0,x.v_)(e.waybill_number),1),(0,n.Lk)("td",null,[(0,n.Lk)("h5",null,[(0,n.Lk)("span",{class:(0,x.C4)({"badge bg-success":"Classififcation Approved"===i.getStatusText(e.classification_approved),"badge bg-warning text-dark":"Not Classified"===i.getStatusText(e.classification_approved)})},(0,x.v_)(i.getStatusText(e.classification_approved)),3)])]),(0,n.Lk)("td",null,(0,x.v_)(e.classification_approved_by),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",onClick:t=>i.openEntry(e.entry_id,e.entry_type)},"Edit",8,cp)])])))),128))])]),s.error?((0,n.uX)(),(0,n.CE)("div",up,(0,x.v_)(s.error),1)):(0,n.Q3)("",!0)])}var mp={data(){return{entries:[],error:null,searchTerm:""}},created(){this.fetchEntries()},methods:{getStatusText(e){return e?Sr.APPROVED:Sr.NOT_CLASSIFIED},openEntry(e,t){t&&t===Tr.VEHICLES?this.$router.push({name:"VehicleEntryEditPage",params:{entryId:e}}):this.$router.push({name:"EntryDetails",params:{entryId:e}})},async fetchEntries(){try{const e=await He().get("https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/entries");this.entries=e.data}catch(e){this.error=e.message,console.error("There was an error!",e)}}},computed:{filteredEntries(){if(!this.searchTerm)return this.entries.filter((e=>1===e.classification_approved));const e=this.searchTerm.toLowerCase();return this.entries.filter((t=>1===t.classification_approved&&(t.entry_number&&t.entry_number.toString().toLowerCase().includes(e)||t.waybill_number&&t.waybill_number.toString().toLowerCase().includes(e)||t.invoice_number&&t.invoice_number.split("; ").some((t=>t.toLowerCase().includes(e)))||t.consignee&&t.consignee.toString().toLowerCase().includes(e))))}}};const hp=(0,D.A)(mp,[["render",dp]]);var pp=hp;const yp=[{path:"/",name:"NewEntry",component:Ar},{path:"/view-entries",name:"ViewEntries",component:$r},{path:"/entries/:entryId",name:"EntryDetails",component:ps,props:!0},{path:"/customs-declaration/:entryId",name:"CustomsDeclarationForm",component:jc,props:!0},{path:"/buyers",name:"BuyersPage",component:vu},{path:"/sellers",name:"SellersPage",component:Ku},{path:"/declarants",name:"DeclarantsPage",component:Td},{path:"/vessels",name:"VesselsPage",component:Jd},{path:"/rate-of-exchange",name:"RateOfExchnagePage",component:hm},{path:"/create-vehicle-entry",name:"VehicleEntry",component:tp},{path:"/edit-vehicle-entry/:entryId",name:"VehicleEntryEditPage",component:np},{path:"/approved-classification-entries",name:"ApprovedClassificationEntries",component:pp}],gp=(0,F.aE)({history:(0,F.LA)(),routes:yp});var fp=gp,vp=o(6845);const bp=(0,r.Ef)(E);bp.use(fp),bp.component("v-select",vp.A),bp.mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,n){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],n=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,r,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,s=a[0],i=a[1],l=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var u=l(o)}for(t&&t(a);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkasycuda_xml_automation"]=self["webpackChunkasycuda_xml_automation"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(8275)}));a=o.O(a)})();
//# sourceMappingURL=app.4e20b39a.js.map