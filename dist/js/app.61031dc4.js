(function(){var e={5358:function(e,t,o){var a={"./af":2190,"./af.js":2190,"./ar":7218,"./ar-dz":5785,"./ar-dz.js":5785,"./ar-kw":9417,"./ar-kw.js":9417,"./ar-ly":6904,"./ar-ly.js":6904,"./ar-ma":8617,"./ar-ma.js":8617,"./ar-ps":1318,"./ar-ps.js":1318,"./ar-sa":2699,"./ar-sa.js":2699,"./ar-tn":6789,"./ar-tn.js":6789,"./ar.js":7218,"./az":3050,"./az.js":3050,"./be":8316,"./be.js":8316,"./bg":310,"./bg.js":310,"./bm":8884,"./bm.js":8884,"./bn":3469,"./bn-bd":6672,"./bn-bd.js":6672,"./bn.js":3469,"./bo":9118,"./bo.js":9118,"./br":3113,"./br.js":3113,"./bs":3626,"./bs.js":3626,"./ca":921,"./ca.js":921,"./cs":7799,"./cs.js":7799,"./cv":2828,"./cv.js":2828,"./cy":3521,"./cy.js":3521,"./da":6962,"./da.js":6962,"./de":3294,"./de-at":6158,"./de-at.js":6158,"./de-ch":5960,"./de-ch.js":5960,"./de.js":3294,"./dv":7963,"./dv.js":7963,"./el":3432,"./el.js":3432,"./en-au":998,"./en-au.js":998,"./en-ca":5931,"./en-ca.js":5931,"./en-gb":5930,"./en-gb.js":5930,"./en-ie":8081,"./en-ie.js":8081,"./en-il":1594,"./en-il.js":1594,"./en-in":3904,"./en-in.js":3904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":9409,"./en-sg.js":9409,"./eo":2177,"./eo.js":2177,"./es":4805,"./es-do":9155,"./es-do.js":9155,"./es-mx":9791,"./es-mx.js":9791,"./es-us":6098,"./es-us.js":6098,"./es.js":4805,"./et":6240,"./et.js":6240,"./eu":391,"./eu.js":391,"./fa":612,"./fa.js":612,"./fi":4220,"./fi.js":4220,"./fil":5570,"./fil.js":5570,"./fo":5466,"./fo.js":5466,"./fr":4461,"./fr-ca":6306,"./fr-ca.js":6306,"./fr-ch":7081,"./fr-ch.js":7081,"./fr.js":4461,"./fy":3484,"./fy.js":3484,"./ga":9338,"./ga.js":9338,"./gd":2978,"./gd.js":2978,"./gl":9866,"./gl.js":9866,"./gom-deva":5011,"./gom-deva.js":5011,"./gom-latn":4724,"./gom-latn.js":4724,"./gu":1601,"./gu.js":1601,"./he":9802,"./he.js":9802,"./hi":9358,"./hi.js":9358,"./hr":3907,"./hr.js":3907,"./hu":218,"./hu.js":218,"./hy-am":533,"./hy-am.js":533,"./id":2844,"./id.js":2844,"./is":7353,"./is.js":7353,"./it":6364,"./it-ch":774,"./it-ch.js":774,"./it.js":6364,"./ja":3627,"./ja.js":3627,"./jv":8221,"./jv.js":8221,"./ka":2417,"./ka.js":2417,"./kk":2071,"./kk.js":2071,"./km":6149,"./km.js":6149,"./kn":4572,"./kn.js":4572,"./ko":659,"./ko.js":659,"./ku":6285,"./ku-kmr":9398,"./ku-kmr.js":9398,"./ku.js":6285,"./ky":1609,"./ky.js":1609,"./lb":119,"./lb.js":119,"./lo":1748,"./lo.js":1748,"./lt":1973,"./lt.js":1973,"./lv":1347,"./lv.js":1347,"./me":3023,"./me.js":3023,"./mi":5747,"./mi.js":5747,"./mk":4341,"./mk.js":4341,"./ml":3840,"./ml.js":3840,"./mn":2058,"./mn.js":2058,"./mr":9182,"./mr.js":9182,"./ms":5197,"./ms-my":9136,"./ms-my.js":9136,"./ms.js":5197,"./mt":6408,"./mt.js":6408,"./my":1683,"./my.js":1683,"./nb":3141,"./nb.js":3141,"./ne":9344,"./ne.js":9344,"./nl":4703,"./nl-be":4641,"./nl-be.js":4641,"./nl.js":4703,"./nn":9873,"./nn.js":9873,"./oc-lnc":1217,"./oc-lnc.js":1217,"./pa-in":4612,"./pa-in.js":4612,"./pl":4457,"./pl.js":4457,"./pt":1089,"./pt-br":9146,"./pt-br.js":9146,"./pt.js":1089,"./ro":5950,"./ro.js":5950,"./ru":7292,"./ru.js":7292,"./sd":6774,"./sd.js":6774,"./se":7493,"./se.js":7493,"./si":3761,"./si.js":3761,"./sk":9711,"./sk.js":9711,"./sl":8558,"./sl.js":8558,"./sq":8633,"./sq.js":8633,"./sr":688,"./sr-cyrl":7903,"./sr-cyrl.js":7903,"./sr.js":688,"./ss":1991,"./ss.js":1991,"./sv":7020,"./sv.js":7020,"./sw":5891,"./sw.js":5891,"./ta":5714,"./ta.js":5714,"./te":206,"./te.js":206,"./tet":4768,"./tet.js":4768,"./tg":8276,"./tg.js":8276,"./th":7977,"./th.js":7977,"./tk":6928,"./tk.js":6928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":1361,"./tlh.js":1361,"./tr":4367,"./tr.js":4367,"./tzl":627,"./tzl.js":627,"./tzm":2636,"./tzm-latn":8148,"./tzm-latn.js":8148,"./tzm.js":2636,"./ug-cn":8823,"./ug-cn.js":8823,"./uk":461,"./uk.js":461,"./ur":1366,"./ur.js":1366,"./uz":3454,"./uz-latn":8374,"./uz-latn.js":8374,"./uz.js":3454,"./vi":8572,"./vi.js":8572,"./x-pseudo":464,"./x-pseudo.js":464,"./yo":3709,"./yo.js":3709,"./zh-cn":5873,"./zh-cn.js":5873,"./zh-hk":7549,"./zh-hk.js":7549,"./zh-mo":2240,"./zh-mo.js":2240,"./zh-tw":405,"./zh-tw.js":405};function r(e){var t=n(e);return o(t)}function n(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=5358},6957:function(e,t,o){"use strict";var a={};o.r(a),o.d(a,{A:function(){return Gt},h:function(){return Mt}});var r=o(5130),n=o(6768);const s={id:"app"},l={class:"navbar navbar-expand-lg navbar-dark bg-primary"},i={class:"container-fluid"},c=(0,n.Lk)("a",{class:"navbar-brand",href:"#"},"M.A.R.Y.",-1),u=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarNavDropdown"},m={class:"navbar-nav"},p={class:"nav-item dropdown"},h=(0,n.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," New Entry ",-1),y={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},g={class:"nav-item"},f={class:"nav-item dropdown"},b=(0,n.Lk)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Configuration ",-1),v={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"};function k(e,t,o,a,r,k){const L=(0,n.g2)("router-link"),D=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("nav",l,[(0,n.Lk)("div",i,[c,u,(0,n.Lk)("div",d,[(0,n.Lk)("ul",m,[(0,n.Lk)("li",p,[h,(0,n.Lk)("ul",y,[(0,n.bF)(L,{class:"dropdown-item",to:"/"},{default:(0,n.k6)((()=>[(0,n.eW)("Standard Entry")])),_:1}),(0,n.bF)(L,{class:"dropdown-item",to:"/create-vehicle-entry"},{default:(0,n.k6)((()=>[(0,n.eW)("Vehicle Entry")])),_:1})])]),(0,n.Lk)("li",g,[(0,n.bF)(L,{class:"nav-link",to:"/view-entries"},{default:(0,n.k6)((()=>[(0,n.eW)("Entry List")])),_:1})]),(0,n.Lk)("li",f,[b,(0,n.Lk)("ul",v,[(0,n.bF)(L,{class:"dropdown-item",to:"/buyers"},{default:(0,n.k6)((()=>[(0,n.eW)("Importers")])),_:1}),(0,n.bF)(L,{class:"dropdown-item",to:"/sellers"},{default:(0,n.k6)((()=>[(0,n.eW)("Shippers")])),_:1}),(0,n.bF)(L,{class:"dropdown-item",to:"/declarants"},{default:(0,n.k6)((()=>[(0,n.eW)("Declarants")])),_:1}),(0,n.bF)(L,{class:"dropdown-item",to:"/vessels"},{default:(0,n.k6)((()=>[(0,n.eW)("Vessels")])),_:1})])])])])])]),(0,n.bF)(D)])}var L={name:"App",components:{}},D=o(1241);const _=(0,D.A)(L,[["render",k]]);var C=_,F=o(1387),E=o(4232);const T={id:"app"},S=(0,n.Lk)("h1",null,"New Entry",-1),I={class:"row"},x=(0,n.Lk)("div",{class:"col-md-5"},null,-1),N={class:"col-md-2"},A=(0,n.Lk)("div",{class:"col-md-5"},null,-1),O={key:0},w=(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onclick:"document.querySelector('input[type=file]').click()"},"Choose Files",-1),P=(0,n.Lk)("h3",null,"Header Information",-1),V={class:"form-row"},R={class:"row"},U={class:"col-md-3"},B=(0,n.Lk)("label",{for:"InvoiceNumber"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),j=["onUpdate:modelValue"],W={class:"col-md-3"},$=(0,n.Lk)("label",{for:"SupplierName"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),X=["onUpdate:modelValue"],G={class:"col-md-2"},M=(0,n.Lk)("label",{for:"InvoiceDate"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),J=["onUpdate:modelValue"],q={class:"col-md-2"},H=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),Y={class:"col-md-2"},K=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),z=["onUpdate:modelValue"],Q=(0,n.Lk)("h3",null,"Line Details",-1),Z=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Country of Origin"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"VAT Applicable"),(0,n.Lk)("th",null,"Actions")])],-1),ee=["onBlur"],te=["onBlur"],oe=["onInput","onBlur"],ae=["onBlur"],re=["onBlur"],ne=["onBlur"],se={class:"form-check form-switch"},le=["onUpdate:modelValue"],ie=["onClick"],ce=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),ue=[ce],de={colspan:"7"},me=["onClick"],pe=(0,n.Lk)("h3",null,"Footer Information",-1),he=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges")])],-1),ye=["onBlur"],ge=["onBlur"],fe=["onBlur"],be=["onBlur"],ve=(0,n.Lk)("h3",null,"Calculated Check",-1),ke=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),Le={key:1},De=(0,n.Lk)("h3",null,"Entry Summary",-1),_e=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),Ce=["disabled"],Fe=["disabled"];function Ee(e,t,o,a,s,l){const i=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)("div",T,[S,(0,n.Lk)("div",I,[x,(0,n.Lk)("div",N,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.referenceNumber=e),placeholder:"Enter Reference Number",onInput:t[1]||(t[1]=(...e)=>l.validateInput&&l.validateInput(...e))},null,544),[[r.Jo,s.referenceNumber]])]),A]),s.isValidReference?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("div",{class:"dropzone",onDragover:t[5]||(t[5]=(0,r.D$)(((...e)=>l.dragOver&&l.dragOver(...e)),["prevent"])),onDragenter:t[6]||(t[6]=(0,r.D$)(((...e)=>l.dragEnter&&l.dragEnter(...e)),["prevent"])),onDragleave:t[7]||(t[7]=(0,r.D$)(((...e)=>l.dragLeave&&l.dragLeave(...e)),["prevent"])),onDrop:t[8]||(t[8]=(0,r.D$)(((...t)=>e.handleDrop&&e.handleDrop(...t)),["prevent"]))},[(0,n.eW)(" Please Upload Commercial Invoices "),(0,n.Lk)("input",{type:"file",multiple:"",onChange:t[2]||(t[2]=(...e)=>l.handleFileUpload&&l.handleFileUpload(...e)),style:{display:"none"}},null,32),w,(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[3]||(t[3]=(...e)=>l.uploadFiles&&l.uploadFiles(...e))},"Upload Files AWS"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[4]||(t[4]=(...e)=>l.uploadFilesMicrosoft&&l.uploadFilesMicrosoft(...e))},"Upload Files GABRIEL")],32),(0,n.Lk)("div",null,[(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.selectedFiles,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},(0,E.v_)(e.name),1)))),128))]),(0,n.bF)(i,{customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[9]||(t[9]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"])])])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.invoiceDataArray,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,E.v_)(t+1),1),P,(0,n.Lk)("div",V,[(0,n.Lk)("div",R,[(0,n.Lk)("div",U,[B,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_id=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,j),[[r.Jo,e.invoice_id]])]),(0,n.Lk)("div",W,[$,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,X),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",G,[M,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,J),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",q,[H,(0,n.bF)(c,{modelValue:e.currency,"onUpdate:modelValue":t=>e.currency=t,options:s.currencies,label:"name",id:"invoiceCurrency",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Currency"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("div",Y,[K,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,z),[[r.Jo,e.rate_of_exchange]])])])]),Q,(0,n.Lk)("table",null,[Z,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.invoice_items,((t,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:o},[(0,n.Lk)("td",null,(0,E.v_)(o+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateItem(e,o,"product_code",t.target.innerText)},(0,E.v_)(t.product_code||"N/A"),41,ee),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateItem(e,o,"description",t.target.innerText)},(0,E.v_)(t.description||"N/A"),41,te),(0,n.Lk)("td",{contenteditable:"true",onInput:e=>l.handleInput(e,o,"thn_code"),onBlur:t=>l.updateItem(e,o,"thn_code",t.target.innerText)},(0,E.v_)(t.thn_code||"N/A"),41,oe),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateItem(e,o,"quantity",t.target.innerText),style:(0,E.Tr)(l.naStyle(t.quantity))},(0,E.v_)(t.quantity||"N/A"),45,ae),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateItem(e,o,"unit_price",t.target.innerText),style:(0,E.Tr)(l.naStyle(t.unit_price))},(0,E.v_)(t.unit_price||"N/A"),45,re),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateItem(e,o,"amount",t.target.innerText),style:(0,E.Tr)(l.extensionStyle(t))},(0,E.v_)(t.amount||"N/A"),45,ne),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:t.country_of_origin,"onUpdate:modelValue":e=>t.country_of_origin=e,options:s.countries,label:"name",id:"country",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Origin"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:t.cpcCode,"onUpdate:modelValue":e=>t.cpcCode=e,options:l.availableCPCCodes,label:"code",id:"cpcCode",searchable:!0,reduce:e=>e.cpcId,filterable:!0,placeholder:"Select a CPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:t.npcCode,"onUpdate:modelValue":e=>t.npcCode=e,options:s.npcCodeOptions,label:"code",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.Lk)("div",se,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e=>t.vatApplicable=e},null,8,le),[[r.lH,t.vatApplicable]])])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>l.deleteRow(e,o)},ue,8,ie)])])))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",de,[(0,n.Lk)("button",{onClick:t=>l.addNewLine(e)},"Add New Line",8,me)])])])]),pe,(0,n.Lk)("table",null,[he,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateData(e,"invoice_total",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.invoice_total))},(0,E.v_)(e.invoice_total||"N/A"),45,ye),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateData(e,"inland",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.inland))},(0,E.v_)(e.inland||"N/A"),45,ge),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateData(e,"insurance",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.insurance))},(0,E.v_)(e.insurance||"N/A"),45,fe),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateData(e,"otherCharges",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.otherCharges))},(0,E.v_)(e.otherCharges||"N/A"),45,be)])])]),ve,(0,n.Lk)("table",null,[ke,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,E.Tr)(l.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,E.v_)(l.calculateTotalExtensionPrice(e.invoice_items)),1),(0,n.Lk)("td",null,(0,E.v_)(e.invoice_items.length),1),(0,n.Lk)("td",null,(0,E.v_)(l.calculateTotalExtensionPrice(e.invoice_items)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),s.selectedFiles.length?((0,n.uX)(),(0,n.CE)("div",Le,[De,(0,n.Lk)("table",null,[_e,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,E.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,E.v_)(this.totalFOBValue),1)]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:l.entryButtonDisabled,onClick:t[10]||(t[10]=e=>l.createInvoices(s.invoiceDataArray))},"Save Entry",8,Ce)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:l.thnCodesCompleted,onClick:t[11]||(t[11]=(...e)=>l.generateWorkSheet&&l.generateWorkSheet(...e))},"Generate WorkSheet",8,Fe)])])])])])):(0,n.Q3)("",!0)])}o(4114),o(4603),o(7566),o(8721);var Te=o(8047),Se=o.n(Te);const Ie="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/",xe="https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//",Ne=async(e,t,o=null)=>{try{const a=await Se()({method:e,url:t,data:o});return a.data}catch(a){throw console.error("API error:",a),a}},Ae=async e=>await Ne("post",`${Ie}commercial_invoices`,e),Oe=async e=>await Ne("post",`${Ie}commercial_invoices_vehicles`,e),we=async e=>{try{const t=await Se()({url:`${Ie}entry-details/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Pe=async e=>{try{const t=await Se()({url:`${Ie}commercial-invoices-with-lines/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Ve=async e=>{try{const t=await Se()({url:`${Ie}generate-customs-declaration`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Re=async()=>{try{const e=await Se()({url:`${Ie}blank-valuation-form-trinidad`,method:"GET",responseType:"blob"});return e.data}catch(e){throw console.error("API error:",e),e}},Ue=async e=>{try{const t=await Se()({url:`${Ie}generate-pre-signed-valuation-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},Be=async e=>{try{const t=await Se()({url:`${Ie}generate-pre-signed-valuation-form-v2`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},je=async e=>{try{const t=await Se()({url:`${Ie}customs-declaration`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},We=async e=>{console.log(e);try{const t=await Se()({url:`${Ie}customs-declaration/${e}`,method:"GET"});return t}catch(t){throw console.error("API error:",t),t}},$e=async()=>{try{const e=await Se()({url:`${Ie}buyers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Xe=async()=>{try{const e=await Se()({url:`${Ie}declarants`,method:"GET"});return console.log(e),e.data}catch(e){throw console.error("API error:",e),e}},Ge=async()=>{try{const e=await Se()({url:`${Ie}customs-entry-declarants`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Me=async()=>{try{const e=await Se()({url:`${Ie}shippers`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Je=async(e,t)=>{try{const o=await Se()({url:`${Ie}customs-declaration/${e}`,method:"PUT",data:t});return o}catch(o){throw console.error("API error:",o),o}},qe=async()=>{try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();return t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},He=async e=>{try{const t=await Se()({url:`${Ie}buyers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},Ye=async e=>{try{const t=await Se()({url:`${Ie}shippers`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},Ke=async e=>{try{const t=await Se()({url:`${Ie}declarants`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},ze=async e=>{try{const t=await Se()({url:`${Ie}cpc-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},Qe=async()=>{try{const e=await Se()({url:`${Ie}npc_codes`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},Ze=async()=>{try{const e=await Se()({url:`${Ie}ports/TT`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},et=async()=>{try{const e=await Se()({url:`${Ie}vessels`,method:"GET"});return e.data}catch(e){throw console.error("API error:",e),e}},tt=async e=>{try{const t=await Se()({url:`${Ie}vessels`,method:"POST",data:e});return t}catch(t){throw console.error("API error:",t),t}},ot=async e=>{try{const t=await Se()({url:`${xe}generate-worksheet-json`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},at=async e=>{try{const t=await Se()({url:`${xe}generate-asycuda-toyota-xml`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},rt=async e=>{try{const t=await Se()({url:`${xe}generate-toyota-worksheet`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},nt=async e=>{try{const t=await Se()({url:`${xe}generate-asycuda-xml-json`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},st=async e=>{try{const t=await Se()({url:`${xe}commodity-codes/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},lt=async e=>{try{const t=await Se()({url:`${Ie}deposit-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},it=async e=>{try{const t=await Se()({url:`${Ie}tt-c84`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ct=async e=>{try{const t=await Se()({url:`${Ie}overtime-form`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ut=async e=>{try{const t=await Se()({url:`${Ie}special-exemptions-declarations/${e}`,method:"GET"});return t.data}catch(t){throw console.error("API error:",t),t}},dt=async e=>{try{const t=await Se()({url:`${xe}analyze-toyota-documents`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},mt=async e=>{try{const t=await Se()({url:`${xe}classify-items`,method:"POST",data:e});return t.data}catch(t){if(t.response&&404===t.response.status||500===t.response.status)return null;throw console.error("API error:",t),t}},pt=async e=>{try{const t=await Se()({url:`${Ie}generate-caricom`,method:"POST",responseType:"blob",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ht=async(e,t)=>{try{const o=await Se()({url:`${Ie}customs-entry/${e}`,method:"PUT",data:t});return o.data}catch(o){throw console.error("API error:",o),o}},yt=async(e,t)=>{try{const o=await Se()({url:`${Ie}waybill/${e}`,method:"PUT",data:t});return o.data}catch(o){throw console.error("API error:",o),o}},gt=async e=>{try{const t=await Se()({url:`${Ie}upload-invoices`,method:"POST",data:e});return t.data}catch(t){throw console.error("API error:",t),t}},ft=(e,t,o,a,r,n,s,l,i,c,u,d,m,p,h,y,g,f)=>{const b={reference_number:e,country:t,declarant:{name:o,tin:a},regime:r,waybill:{importer:{name:n,tin:s},exporter:{name:l,tin:i},vessel:c,port_of_discharge:u,external_freight:parseFloat(bt(y)),insurance:parseFloat(bt(g)),other_charges:parseFloat(bt(f))},valuation:{additional_local_charges:{deposit:d,container_charges:m,additional_charges:p,local_fee:h}}};return b},bt=e=>void 0===e||null===e||""===e||"0.0"===e||isNaN(e)||"N/A"===e?0:e,vt=(e,t,o,a,r,n)=>{e=parseFloat(bt(e)),t=parseFloat(bt(t)),o=parseFloat(bt(o)),a=parseFloat(bt(a)),r=parseFloat(bt(r)),n=parseFloat(bt(n)),console.log("Calculating CIF..."),console.log(e,parseFloat(t),o,a,r,n);const s=e/parseFloat(t)*o;return e+s+a+r+parseFloat(n)},kt=(e,t)=>{console.log("Charge Data: ",e);let o=[];for(const[a,r]of Object.entries(e)){let e={name:a,value:"0",id:null,operand_field:"",subjected_to_vat:!0};r.forEach((o=>{void 0!==o.charge_amount&&(e.value=o.charge_amount,e.id=o.tariff_charge_id),"value added tax"===o.name&&(e.value=t?"12.5":"0")})),void 0!==r[1].operand_field&&(e.operand_field=r[1].operand_field),void 0!==r[1].subjected_to_vat&&(e.subjected_to_vat=r[1].subjected_to_vat),o.push(e)}return o},Lt=(e,t,o,a,r,n,s,l,i,c,u)=>(console.log("Available CPC Codes: ",c),e.map(((e,t)=>({exworks:parseFloat(e.invoice_total),rate_of_exchange:parseFloat(e.rate_of_exchange),supplementary_charges_and_deductions:{internal_freight:parseFloat(bt(e.inland)),insurance:parseFloat(bt(e.insurance)),other:parseFloat(bt(e.other_charges)),deductions:0},line_items:e.lines.map(((e,o)=>{const r=parseFloat(e.extension_price)/u*parseFloat(a);return{description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.extension_price),cpc_code:parseInt(c.find((t=>t.cpcId===e.cpcCode))?.code),country_origin_code:e.country_of_origin,anc_code:parseInt(e.npc_code),commodity:parseInt(e.tariff_code.replace(/\./g,"")),gross_weight:parseFloat(r),net_weight:parseFloat(r)-parseFloat(r)/10,package_quantity:0===t&&0===o?parseFloat(n):0,kind_of_package:s,marks_and_numbers:l}}))})))),Dt=e=>{const t=e.replace(/[$,\s]/g,""),o=parseFloat(t);return o},_t=(e,t)=>e.flatMap((e=>e.details.map((o=>({description:e.description,quantity:o.quantity,unit_cost:e.unitPrice,exworks:parseFloat(o.quantity)*parseFloat(e.unitPrice),cpc_code:parseInt(t.find((e=>e.cpcId===o.cpcCode))?.code),country_origin_code:"",anc_code:o.npcCode,commodity:e.thnNumber,gross_weight:e.grossWeight,net_weight:e.netWeight,package_quantity:1,kind_of_package:"CT",marks_and_numbers:`CHASSIS # ${o.chassisNumber}`,chassis_number:o.chassisNumber,curb_weight:e.curbWeight,engine_number:o.engineNumber,exterior_color:o.exteriorColor,customer:o.customerName,customer_tin:o.customerTIN,instruction_code:o.brokerInstructions,engine_displacement:e.engineDisplacement,manufacture_year:o.manufactureYear,number_of_seats:e.numberOfSeats,number_of_doors:e.numberOfDoors,tyre_size:e.tyreSize,model_code:e.modelCode,fuel_type:e.fuelType,seat_position:e.seatPosition,used_flag:!1}))))),Ct=e=>e.flatMap((e=>e.details.map((t=>({description:e.description,quantity:t.quantity,unit_cost:e.unitPrice,exworks:parseFloat(t.quantity)*parseFloat(e.unitPrice),cpc_code:t.cpcCode,country_of_origin:"",anc_code:t.npcCode,commodity:e.commodity,gross_weight:e.grossWeight,net_weight:e.netWeight,package_quantity:1,kind_of_package:"CT",marks_and_numbers:`CHASSIS # ${t.chassisNumber}`,chassis_number:t.chassisNumber,curb_weight:e.curbWeight,engine_number:t.engineNumber,exterior_color:t.exteriorColor,customer:t.customerName,customer_tin:t.customerTIN,instruction_code:t.brokerInstructions,engine_displacement:e.engineDisplacement,manufacture_year:t.manufactureYear,number_of_seats:e.numberOfSeats,number_of_doors:e.numberOfDoors,tyre_size:e.tyreSize,model_code:e.modelCode,fuel_type:e.fuelType,seat_position:e.seatPosition,used_flag:!1}))))),Ft=(e,t,o)=>(console.log("Invoices: ",e),e.map((e=>({name:e.invoice_number,supplier:e.supplier_name,exworks:parseFloat(e.invoice_total),invoice_currency:e.currency,cif_foreign_currency:vt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:vt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(bt(e.inland)),insurance:parseFloat(bt(e.insurance)),other:parseFloat(bt(e.other_charges)),deductions:0},line_items:e.lines.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.extension_price),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))})))),Et=(e,t,o)=>e.map((e=>({name:e.invoice_id,supplier:e.vendor_name,exworks:e.invoice_total,invoice_currency:e.currency,cif_foreign_currency:vt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges),rate_of_exchange:e.rate_of_exchange,cif_local_currency:vt(e.invoice_total,o,t,e.inland,e.insurance,e.otherCharges)*e.rate_of_exchange,supplementary_charges_and_deductions:{internal_freight:parseFloat(e.inland),insurance:parseFloat(e.insurance),other:parseFloat(e.otherCharges),deductions:0},line_items:e.invoice_items.map((e=>({description:e.description,quantity:parseFloat(e.quantity),unit_cost:parseFloat(e.unit_price),exworks:parseFloat(e.amount),cpc_code:e.cpcCodeName,country_of_origin:e.country_of_origin,anc_code:e.npcCode,commodity:e.commodity})))})));function Tt(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear(),r=`${t}/${o}/${a}`;return r}const St=(e,t,o,a,r,n,s,l,i,c,u,d,m,p,h,y,g,f)=>({regimeType:e,waybillNumber:t,waybillDate:o,incoTerms:a,termsOfPayment:"SDT",importer:r,imorterNo:null===n?"":n,declarant:s,declarantNo:l,reference:i,consignor:c,countryOfConsignment:u,countryOfConsignmentCode:d,meansOfTransportation:m,rotation:"/24",mode:p,portOfImportation:h,portCode:y,dateOfImportation:Tt(),depositAmount:parseFloat(g).toFixed(2),reason:f}),It=(e,t,o,a,r,n,s,l,i,c,u,d,m,p,h,y,g,f)=>{let b=m.flatMap((e=>e.lines.map((e=>{let t=parseFloat(e.extension_price)/h*parseFloat(d),o=t-t/10;return{numberAndKindOfPackages:"",specificationOfCommodities:e.description,netWeight:o.toFixed(2),quantity:parseFloat(e.quantity).toLocaleString("en-US",{minimumFractionDigits:2}),unitPrice:parseFloat(e.unit_price).toLocaleString("en-US",{minimumFractionDigits:2}),amount:parseFloat(e.extension_price).toLocaleString("en-US",{minimumFractionDigits:2})}}))));const v=parseFloat(h)+parseFloat(y)+parseFloat(g)+parseFloat(f);return console.log("Other Charges:",f),console.log(h,y,g,f,v),b[0].numberAndKindOfPackages=`${p} pks`,{sellerNameAddress:t,invoiceNumber:`${Tt()} ${o}`,customerOrderNumber:"",otherReferences:"",buyer:"",consigneeNameAddress:e,presentingBank:"",countryOfOrigin:a,incoterms:r,portOfLoading:n,countryOfFinalDestination:s,modeOfTransport:l,currencyOfSale:c,otherTransportInformation:i,marksAndNumbers:"As Addressed",descriptionOfGoods:u,grossWeight:d.toLocaleString("en-US",{minimumFractionDigits:2}),packages:b,fob:h.toLocaleString("en-US",{minimumFractionDigits:2}),packaging:"0.00",freight:y.toLocaleString("en-US",{minimumFractionDigits:2}),insurance:g.toLocaleString("en-US",{minimumFractionDigits:2}),otherCharges:f.toLocaleString("en-US",{minimumFractionDigits:2}),invoiceTotal:v.toLocaleString("en-US",{minimumFractionDigits:2})}},xt=()=>({exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT"});var Nt=o(4874),At=o.n(Nt);function Ot(e){At().fire({position:"top-end",toast:!0,icon:"success",title:e,showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}function wt(){At().close()}function Pt(e){At().fire({icon:"error",title:"Oops...",text:e})}function Vt(e){At().fire({title:"One moment...",html:e,allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{At().showLoading()}})}async function Rt(e,t){const o=Object.entries(e).map((([e,t])=>`<option value="${e}">${t}</option>`)).join(""),a=t.map((e=>`<option value="${e.id}">${e.name}</option>`)).join("");return await At().fire({title:"Special Exemption Details",html:`\n            <select id="swal-input1" class="swal2-input">\n                <option value="" selected disabled>Please select declaration number</option>\n                ${o}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <select id="swal-input2" class="swal2-input">\n                <option value="" selected disabled>Please select signatory</option>\n                ${a}\n            </select>\n            <div style="margin-top: 15px;"></div>\n            <div id="swal-radio-group" class="swal2-input">\n                <label>Generate Pre-Signed:</label>\n                <div>\n                    <input type="radio" id="generate-yes" name="generate-pre-signed" value="yes">\n                    <label for="generate-yes">Yes</label>\n                    <input type="radio" id="generate-no" name="generate-pre-signed" value="no" checked>\n                    <label for="generate-no">No</label>\n                </div>\n            </div>\n        `,focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const e=At().getPopup().querySelector("#swal-input1").value,t=At().getPopup().querySelector("#swal-input2").value,o=At().getPopup().querySelector('input[name="generate-pre-signed"]:checked').value;return e&&t||At().showValidationMessage("Please select both declaration numbers"),{select1:e,select2:t,generatePreSigned:"yes"===o}}}).then((e=>{if(e.isConfirmed)return e.value}))}async function Ut(){return await At().fire({title:"Cargo Details",html:'\n        <div style="display: flex; flex-direction: column; align-items: center;">\n            <label for="cargo-details" style="margin-bottom: 5px;">Please enter the cargo details:</label>\n            <input type="text" id="cargo-details" class="swal2-input" placeholder="Enter cargo details here..." style="margin-bottom: 15px;">\n            <label for="start-time" style="margin-bottom: 5px;">Please enter the start time:</label>\n            <input type="time" id="start-time" class="swal2-input" value="16:00">\n        </div>\n        ',focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const e=At().getPopup().querySelector("#cargo-details").value,t=At().getPopup().querySelector("#start-time").value;e&&t||At().showValidationMessage("Please enter both cargo details and start time");const[o,a]=t.split(":"),r=parseInt(o,10),n=r>=12?"PM":"AM",s=r%12||12,l=`${s}:${a} ${n}`;return{cargoDetails:e,startTime:l}}}).then((e=>{if(e.isConfirmed)return console.log("Cargo Details:",e.value.cargoDetails),console.log("Start Time:",e.value.startTime),e.value}))}async function Bt(){return await At().fire({title:"Enter Cargo Details",input:"text",inputLabel:"Cargo Details",inputPlaceholder:"Enter the cargo details here...",showCancelButton:!0,inputValidator:e=>{if(!e)return"Cargo details are required!"}}).then((e=>{if(e.isConfirmed)return e.value}))}async function jt(){return await At().fire({title:"Select Reason for Deposit",input:"select",inputOptions:{"PENDING CARICOM AREA INVOICE":"PENDING CARICOM AREA INVOICE","PENDING STATUS OF SIGNATORY ON CARICOM CARE INVOICE":"PENDING STATUS OF SIGNATORY ON CARICOM CARE INVOICE"},inputPlaceholder:"Select a reason...",showCancelButton:!0,inputValidator:e=>{if(!e)return"You need to select a reason!"}}).then((e=>{if(e.isConfirmed)return e.value}))}var Wt=o(144);function $t(){const e=(0,Wt.KR)([{value:"1A",text:"Drum, steel"},{value:"1B",text:"Drum, aluminium"},{value:"1D",text:"Drum, plywood"},{value:"1G",text:"Drum, fibre"},{value:"1W",text:"Drum, wooden"},{value:"2C",text:"Barrel, wooden"},{value:"3A",text:"Jerrican, steel"},{value:"3H",text:"Jerrican, plastic"},{value:"43",text:"Bag, super bulk"},{value:"4A",text:"Box, steel"},{value:"4B",text:"Box, aluminium"},{value:"4C",text:"Box, natural wood"},{value:"4D",text:"Box, plywood"},{value:"4F",text:"Box, reconstituted wood"},{value:"4G",text:"Box, fibreboard"},{value:"4H",text:"Box, plastic"},{value:"5H",text:"Bag, woven plastic"},{value:"5L",text:"Bag, textile"},{value:"5M",text:"Bag, paper"},{value:"6H",text:"Composite packaging, plastic receptacle"},{value:"6P",text:"Composite packaging, glass receptacle"},{value:"AA",text:"Intermediate bulk container, rigid"},{value:"AB",text:"Receptacle, fibre"},{value:"AC",text:"Receptacle, paper"},{value:"AD",text:"Receptacle, wooden"},{value:"AE",text:"Aerosol"},{value:"AF",text:"Pallet, modular, collars 80cms * 6"},{value:"AG",text:"Pallet, shrinkwrapped"},{value:"AH",text:"Pallet, 100cms * 110cms"},{value:"AI",text:"Clamshell"},{value:"AJ",text:"Cone"},{value:"AM",text:"Ampoule, non-protected"},{value:"AP",text:"Ampoule, protected"},{value:"AT",text:"Atomizer"},{value:"AV",text:"Capsule"},{value:"BA",text:"Barrel"},{value:"BB",text:"Bobbin"},{value:"BC",text:"Bottlecrate / bottlerack"},{value:"BD",text:"Board"},{value:"BE",text:"Bundle"},{value:"BF",text:"Balloon, non-protected"},{value:"BG",text:"Bag"},{value:"BH",text:"Bunch"},{value:"BI",text:"Bin"},{value:"BJ",text:"Bucket"},{value:"BK",text:"Basket"},{value:"BL",text:"Bale, compressed"},{value:"BM",text:"Basin"},{value:"BN",text:"Bale, non-compressed"},{value:"BO",text:"Bottle, non-protected, cylindrical"},{value:"BP",text:"Balloon, protected"},{value:"BQ",text:"Bottle, protected cylindrical"},{value:"BR",text:"Bar"},{value:"BS",text:"Bottle, non-protected, bulbous"},{value:"BT",text:"Bolt"},{value:"BU",text:"Butt"},{value:"BV",text:"Bottle, protected bulbous"},{value:"BW",text:"Box, for liquids"},{value:"BX",text:"Box"},{value:"BY",text:"Board, in bundle/bunch/truss"},{value:"BZ",text:"Bars, in bundle/bunch/truss"},{value:"CA",text:"Can, rectangular"},{value:"CB",text:"Crate, beer"},{value:"CC",text:"Churn"},{value:"CD",text:"Can, with handle and spout"},{value:"CE",text:"Creel"},{value:"CF",text:"Coffer"},{value:"CG",text:"Cage"},{value:"CH",text:"Chest"},{value:"CI",text:"Canister"},{value:"CJ",text:"Coffin"},{value:"CK",text:"Cask"},{value:"CL",text:"Coil"},{value:"CM",text:"Card"},{value:"CN",text:"Container, not otherwise specified"},{value:"CO",text:"Carboy, non-protected"},{value:"CP",text:"Carboy, protected"},{value:"CQ",text:"Cartridge"},{value:"CR",text:"Crate"},{value:"CS",text:"Case"},{value:"CT",text:"Carton"},{value:"CU",text:"Cup"},{value:"CV",text:"Cover"},{value:"CW",text:"Cage, roll"},{value:"CX",text:"Can, cylindrical"},{value:"CY",text:"Cylinder"},{value:"CZ",text:"Canvas"},{value:"DA",text:"Crate, multiple layer, plastic"},{value:"DB",text:"Crate, multiple layer, wooden"},{value:"DC",text:"Crate, multiple layer, cardboard"},{value:"DG",text:"Cage, Commonwealth Handling Equipment"},{value:"DH",text:"Box, Commonwealth Handling Equipment"},{value:"DI",text:"Drum, iron"},{value:"DJ",text:"Demijohn, non-protected"},{value:"DK",text:"Crate, bulk, cardboard"},{value:"DL",text:"Crate, bulk, plastic"},{value:"DM",text:"Crate, bulk, wooden"},{value:"DN",text:"Dispenser"},{value:"DP",text:"Demijohn, protected"},{value:"DR",text:"Drum"},{value:"DS",text:"Tray, one layer no cover, plastic"},{value:"DT",text:"Tray, one layer no cover, wooden"},{value:"DU",text:"Tray, one layer no cover, polystyrene"},{value:"DV",text:"Tray, one layer no cover, cardboard"},{value:"DW",text:"Tray, two layers no cover, plastic"},{value:"DX",text:"Tray, two layers no cover, wooden"},{value:"DY",text:"Tray, two layers no cover, cardboard"},{value:"EC",text:"Bag, plastic"},{value:"ED",text:"Case, with pallet base"},{value:"EE",text:"Case, with pallet base, wooden"},{value:"EF",text:"Case, with pallet base, cardboard"},{value:"EG",text:"Case, with pallet base, plastic"},{value:"EH",text:"Case, with pallet base, metal"},{value:"EI",text:"Case, isothermic"},{value:"EN",text:"Envelope"},{value:"FC",text:"Crate, fruit"},{value:"FD",text:"Crate, framed"},{value:"FI",text:"Firkin"},{value:"FL",text:"Flask"},{value:"FO",text:"Footlocker"},{value:"FP",text:"Filmpack"},{value:"FR",text:"Frame"},{value:"FT",text:"Foodtainer"},{value:"FW",text:"Cart, flatbed"},{value:"FX",text:"Bag, flexible container"},{value:"GB",text:"Bottle, gas"},{value:"GI",text:"Girder"},{value:"GR",text:"Receptacle, glass"},{value:"GU",text:"Tray, containing horizontally stacked"},{value:"GZ",text:"Girders, in bundle/bunch/truss"},{value:"HA",text:"Basket, with handle, plastic"},{value:"HB",text:"Basket, with handle, wooden"},{value:"HC",text:"Basket, with handle, cardboard"},{value:"HG",text:"Hogshead"},{value:"HR",text:"Hamper"},{value:"IA",text:"Package, display, wooden"},{value:"IB",text:"Package, display, cardboard"},{value:"IC",text:"Package, display, plastic"},{value:"ID",text:"Package, display, metal"},{value:"IE",text:"Package, show"},{value:"IF",text:"Package, flow"},{value:"IG",text:"Package, paper wrapped"},{value:"IH",text:"Drum, plastic"},{value:"IK",text:"Package, cardboard, with bottle grip"},{value:"IL",text:"Tray, rigid, lidded stackable (CEN)"},{value:"IN",text:"Ingot"},{value:"IZ",text:"Ingots, in bundle/bunch/truss"},{value:"JC",text:"Jerrican, rectangular"},{value:"JG",text:"Jug"},{value:"JR",text:"Jar"},{value:"JT",text:"Jutebag"},{value:"JY",text:"Jerrican, cylindrical"},{value:"KG",text:"Keg"},{value:"LG",text:"Log"},{value:"LT",text:"Lot"},{value:"LV",text:"Liftvan"},{value:"LZ",text:"Logs, in bundle/bunch/truss"},{value:"MB",text:"Bag, multiply"},{value:"MC",text:"Crate, milk"},{value:"MR",text:"Receptacle, metal"},{value:"MS",text:"Sack, multi-wall"},{value:"MT",text:"Mat"},{value:"MW",text:"Receptacle, plastic wrapped"},{value:"MX",text:"Matchbox"},{value:"NA",text:"Not available"},{value:"NE",text:"Unpacked or unpackaged"},{value:"NF",text:"Unpacked or unpackaged, single unit"},{value:"NG",text:"Unpacked or unpackaged, multiple units"},{value:"NS",text:"Nest"},{value:"NT",text:"Net"},{value:"NU",text:"Net, tube, plastic"},{value:"NV",text:"Net, tube, textile"},{value:"OA",text:"Pallet, CHEP 40 cm x 60 cm"},{value:"OB",text:"Pallet, CHEP 80 cm x 120 cm"},{value:"OC",text:"Pallet, CHEP 100 cm x 120 cm"},{value:"OD",text:"Pallet, AS 4068-1993"},{value:"OE",text:"Pallet, ISO T11"},{value:"OF",text:"Platform, unspecified weight or dimensions"},{value:"OK",text:"Block"},{value:"PA",text:"Packet"},{value:"PB",text:"Pallet, box Combined open-ended box"},{value:"PC",text:"Parcel"},{value:"PD",text:"Pallet, modular, collars 80cms * 1"},{value:"PE",text:"Pallet, modular, collars 80cms * 1"},{value:"PF",text:"Pen"},{value:"PG",text:"Plate"},{value:"PH",text:"Pitcher"},{value:"PI",text:"Pipe"},{value:"PJ",text:"Punnet"},{value:"PK",text:"Package"},{value:"PL",text:"Pail"},{value:"PN",text:"Plank"},{value:"PO",text:"Pouch"},{value:"PR",text:"Receptacle, plastic"},{value:"PT",text:"Pot"},{value:"PU",text:"Tray"},{value:"PV",text:"Pipes, in bundle/bunch/truss"},{value:"PX",text:"Pallet"},{value:"PY",text:"Plates, in bundle/bunch/truss"},{value:"PZ",text:"Planks, in bundle/bunch/truss"},{value:"QA",text:"Drum, steel, non-removable head"},{value:"QB",text:"Drum, steel, removable head"},{value:"QC",text:"Drum, aluminium, non-removable head"},{value:"QD",text:"Drum, aluminium, removable head"},{value:"QF",text:"Drum, plastic, non-removable head"},{value:"QG",text:"Drum, plastic, removable head"},{value:"QH",text:"Barrel, wooden, bung type"},{value:"QJ",text:"Barrel, wooden, removable head"},{value:"QK",text:"Jerrican, steel, non-removable head"},{value:"QL",text:"Jerrican, steel, removable head"},{value:"QM",text:"Jerrican, plastic, non-removable head"},{value:"QN",text:"Jerrican, plastic, removable head"},{value:"QP",text:"Box, wooden, natural wood, ordinary"},{value:"QQ",text:"Box, wooden, natural wood, with side"},{value:"QR",text:"Box, plastic, expanded"},{value:"QS",text:"Box, plastic, solid"},{value:"RD",text:"Rod"},{value:"RG",text:"Ring"},{value:"RJ",text:"Rack, clothing hanger"},{value:"RK",text:"Rack"},{value:"RL",text:"Reel"},{value:"RO",text:"Roll"},{value:"RT",text:"Rednet"},{value:"RZ",text:"Rods, in bundle/bunch/truss"},{value:"SA",text:"Sack"},{value:"SB",text:"Slab"},{value:"SC",text:"Crate, shallow"},{value:"SD",text:"Spindle"},{value:"SE",text:"Sea-chest"},{value:"SH",text:"Sachet"},{value:"SI",text:"Skid"},{value:"SK",text:"Case, skeleton"},{value:"SL",text:"Slipsheet"},{value:"SM",text:"Sheetmetal"},{value:"SO",text:"Spool"},{value:"SP",text:"Sheet, plastic wrapping"},{value:"SS",text:"Case, steel"},{value:"ST",text:"Sheet"},{value:"SU",text:"Suitcase"},{value:"SV",text:"Envelope, steel"},{value:"SW",text:"Shrinkwrapped"},{value:"SX",text:"Set"},{value:"SY",text:"Sleeve"},{value:"SZ",text:"Sheets, in bundle/bunch/truss"},{value:"TB",text:"Tub"},{value:"TC",text:"Tea-chest"},{value:"TD",text:"Tube, collapsible"},{value:"TI",text:"Tierce"},{value:"TK",text:"Tank, rectangular"},{value:"TL",text:"Tub, with lid"},{value:"TN",text:"Tin"},{value:"TO",text:"Tun"},{value:"TR",text:"Trunk"},{value:"TS",text:"Truss"},{value:"TU",text:"Tube"},{value:"TV",text:"Tube, with nozzle"},{value:"TY",text:"Tank, cylindrical"},{value:"TZ",text:"Tubes, in bundle/bunch/truss"},{value:"UC",text:"Uncaged"},{value:"UN",text:"Unit (single item or object)"},{value:"VA",text:"Vat"},{value:"VG",text:"Bulk, gas (at 1031 mbar and 15Â°C)"},{value:"VI",text:"Vial"},{value:"VK",text:"Vanpack"},{value:"VL",text:"Bulk, liquid"},{value:"VN",text:"Vehicle"},{value:"VO",text:"Bulk, solid, large particles"},{value:"VP",text:"Vacuum-packed"},{value:"VQ",text:"Bulk, liquefied gas (at abnormal temperature/pressure)"},{value:"VR",text:"Bulk, solid, granular particles (i.e., granulates)"},{value:"VY",text:"Bulk, solid, fine particles (i.e., powdered)"},{value:"WA",text:"Intermediate bulk container"},{value:"WB",text:"Wickerbottle"},{value:"WC",text:"Intermediate bulk container, steel"},{value:"WD",text:"Intermediate bulk container, aluminium"},{value:"WF",text:"Intermediate bulk container, metal"},{value:"WG",text:"Intermediate bulk container, steel"},{value:"WH",text:"Intermediate bulk container, aluminium"},{value:"WJ",text:"Intermediate bulk container, metal"},{value:"WK",text:"Intermediate bulk container, steel"},{value:"WL",text:"Intermediate bulk container, aluminium"},{value:"WM",text:"Intermediate bulk container, metal"},{value:"WN",text:"Intermediate bulk container, woven"},{value:"WP",text:"Intermediate bulk container, woven"},{value:"WQ",text:"Intermediate bulk container, woven"},{value:"WR",text:"Intermediate bulk container, woven"},{value:"WS",text:"Intermediate bulk container, plastic"},{value:"WT",text:"Intermediate bulk container, textile"},{value:"WU",text:"Intermediate bulk container, natural"},{value:"WV",text:"Intermediate bulk container, textile"},{value:"WW",text:"Intermediate bulk container, textile"},{value:"WX",text:"Intermediate bulk container, textile"},{value:"WY",text:"Intermediate bulk container, plywood"},{value:"WZ",text:"Intermediate bulk container, reconstructed"},{value:"XA",text:"Bag, woven plastic, without inner coat"},{value:"XB",text:"Bag, woven plastic, sift proof"},{value:"XC",text:"Bag, woven plastic, water resistant"},{value:"XD",text:"Bag, plastics film"},{value:"XF",text:"Bag, textile, without inner coat"},{value:"XG",text:"Bag, textile, sift proof"},{value:"XH",text:"Bag, textile, water resistant"},{value:"XJ",text:"Bag, paper, multi-wall"},{value:"XK",text:"Bag, paper, multi-wall, water resistant"},{value:"YA",text:"Composite packaging, plastic receptacle"},{value:"YB",text:"Composite packaging, plastic receptacle"},{value:"YC",text:"Composite packaging, plastic receptacle"},{value:"YD",text:"Composite packaging, plastic receptacle"},{value:"YF",text:"Composite packaging, plastic receptacle"},{value:"YG",text:"Composite packaging, plastic receptacle"},{value:"YH",text:"Composite packaging, plastic receptacle"},{value:"YJ",text:"Composite packaging, plastic receptacle"},{value:"YK",text:"Composite packaging, plastic receptacle"},{value:"YL",text:"Composite packaging, plastic receptacle"},{value:"YM",text:"Composite packaging, plastic receptacle"},{value:"YN",text:"Composite packaging, glass receptacle"},{value:"YP",text:"Composite packaging, glass receptacle"},{value:"YQ",text:"Composite packaging, glass receptacle"},{value:"YR",text:"Composite packaging, glass receptacle"},{value:"YS",text:"Composite packaging, glass receptacle"},{value:"YT",text:"Composite packaging, glass receptacle"},{value:"YV",text:"Composite packaging, glass receptacle"},{value:"YW",text:"Composite packaging, glass receptacle"},{value:"YX",text:"Composite packaging, glass receptacle"},{value:"YY",text:"Composite packaging, glass receptacle"},{value:"YZ",text:"Composite packaging, glass receptacle"},{value:"ZA",text:"Intermediate bulk container, paper"},{value:"ZB",text:"Bag, large"},{value:"ZC",text:"Intermediate bulk container, paper"},{value:"ZD",text:"Intermediate bulk container, rigid"},{value:"ZF",text:"Intermediate bulk container, rigid"},{value:"ZG",text:"Intermediate bulk container, rigid"},{value:"ZH",text:"Intermediate bulk container, rigid"},{value:"ZJ",text:"Intermediate bulk container, rigid"},{value:"ZK",text:"Intermediate bulk container, rigid"},{value:"ZL",text:"Intermediate bulk container, composite"},{value:"ZM",text:"Intermediate bulk container, composite"},{value:"ZN",text:"Intermediate bulk container, composite"},{value:"ZP",text:"Intermediate bulk container, composite"},{value:"ZQ",text:"Intermediate bulk container, composite"},{value:"ZR",text:"Intermediate bulk container, fibre"},{value:"ZS",text:"Intermediate bulk container, fibre"},{value:"ZT",text:"Intermediate bulk container, fibre"},{value:"ZU",text:"Intermediate bulk container, flexible"},{value:"ZV",text:"Intermediate bulk container, metal"},{value:"ZW",text:"Intermediate bulk container, natural"},{value:"ZX",text:"Intermediate bulk container, plywood"},{value:"ZY",text:"Intermediate bulk container, reconstructed"},{value:"ZZ",text:"Mutually defined"}]);return e}function Xt(){const e=(0,Wt.KR)([{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"},{code:"TTD",name:"Trinidad & Tobago Dollar"}]);return e}function Gt(){const e={defaultCPCCode:"4000",defaultRegimeType:"IM4",defaultNPCCode:"000"};return e}function Mt(){const e=[{modeOfTransport:"Ocean",freightTypes:[{code:"12",name:"FCL"},{code:"13",name:"LCL"},{code:"11",name:"Break Bulk"}]},{modeOfTransport:"Air",freightTypes:[{code:"41",name:"Express"},{code:"42",name:"Loose"}]}];return e}const Jt=e=>((0,n.Qi)("data-v-18e31524"),e=e(),(0,n.jt)(),e),qt={class:"customs-entry-form"},Ht={class:"row"},Yt={class:"col-md-3"},Kt={class:"form-group"},zt=Jt((()=>(0,n.Lk)("label",{class:"required",for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"Importer")],-1))),Qt={class:"col-md-3"},Zt={class:"form-group"},eo=Jt((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"Exporter")],-1))),to={class:"col-md-3"},oo={class:"form-group"},ao=Jt((()=>(0,n.Lk)("label",{for:"modeOfTransport"},[(0,n.Lk)("strong",null,"Mode of Transport")],-1))),ro=Jt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Mode of Transport",-1))),no=["value"],so={class:"col-md-3"},lo={class:"form-group"},io=Jt((()=>(0,n.Lk)("label",{for:"freightType"},[(0,n.Lk)("strong",null,"Freight Type")],-1))),co=Jt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Freight Type",-1))),uo=["value"],mo={class:"row"},po={class:"col-md-3"},ho={class:"form-group"},yo=Jt((()=>(0,n.Lk)("label",{for:"waybillNumber"},[(0,n.Lk)("strong",null,"Waybill Numbers")],-1))),go={class:"col-md-3"},fo={class:"form-group"},bo=Jt((()=>(0,n.Lk)("label",{for:"waybillDate"},[(0,n.Lk)("strong",null,"Waybill Date")],-1))),vo={class:"col-md-3"},ko={class:"form-group"},Lo=Jt((()=>(0,n.Lk)("label",{for:"vessel"},[(0,n.Lk)("strong",null,"Vessel")],-1))),Do={class:"col-md-3"},_o={class:"form-group"},Co=Jt((()=>(0,n.Lk)("label",{for:"portOfDischarge"},[(0,n.Lk)("strong",null,"Port of Discharge")],-1))),Fo={class:"row"},Eo={class:"col-md-3"},To={class:"form-group"},So=Jt((()=>(0,n.Lk)("label",{for:"netWeight"},[(0,n.Lk)("strong",null,"Net Weight")],-1))),Io={class:"col-md-3"},xo={class:"form-group"},No=Jt((()=>(0,n.Lk)("label",{for:"grossWeight"},[(0,n.Lk)("strong",null,"Gross Weight")],-1))),Ao={class:"col-md-3"},Oo={class:"form-group"},wo=Jt((()=>(0,n.Lk)("label",{for:"numberOfPackages"},[(0,n.Lk)("strong",null,"Number of Packages")],-1))),Po={class:"col-md-3"},Vo={class:"form-group"},Ro=Jt((()=>(0,n.Lk)("label",{for:"packageType"},[(0,n.Lk)("strong",null,"Package Type")],-1))),Uo={class:"row"},Bo={class:"col-md-3"},jo={class:"form-group"},Wo=Jt((()=>(0,n.Lk)("label",{for:"totalCargoValue"},[(0,n.Lk)("strong",null,"Total Cargo Value")],-1))),$o={class:"col-md-3"},Xo={class:"form-group"},Go=Jt((()=>(0,n.Lk)("label",{for:"freightAmount"},[(0,n.Lk)("strong",null,"Freight Amount")],-1))),Mo={class:"col-md-3"},Jo=Jt((()=>(0,n.Lk)("label",{for:"InsuranceAmount"},[(0,n.Lk)("strong",null,"Insurance Amount")],-1))),qo={class:"col-md-3"},Ho={class:"form-group"},Yo=Jt((()=>(0,n.Lk)("label",{for:"othercharges"},[(0,n.Lk)("strong",null,"Other Charges")],-1))),Ko={class:"row"},zo={class:"col-md-3"},Qo={class:"form-group"},Zo=Jt((()=>(0,n.Lk)("label",{for:"declarant"},[(0,n.Lk)("strong",null,"Declarant")],-1))),ea=Jt((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),ta=["value"],oa={class:"col-md-3"},aa={class:"form-group"},ra=Jt((()=>(0,n.Lk)("label",{for:"regimeType"},[(0,n.Lk)("strong",null,"Regime Type")],-1))),na={class:"col-md-3"},sa=Jt((()=>(0,n.Lk)("label",{for:"incoTerms"},[(0,n.Lk)("strong",null,"Incoterms")],-1))),la={class:"col-md-3"},ia=Jt((()=>(0,n.Lk)("label",{for:"country"},[(0,n.Lk)("strong",null,"Country of Origin")],-1))),ca={class:"row"},ua={class:"col-md-3"},da={class:"form-group"},ma=Jt((()=>(0,n.Lk)("label",{for:"containerCharges"},[(0,n.Lk)("strong",null,"Container Charges")],-1))),pa={class:"col-md-3"},ha={class:"form-group"},ya=Jt((()=>(0,n.Lk)("label",{for:"localFee"},[(0,n.Lk)("strong",null,"Local Fee")],-1))),ga={class:"col-md-3"},fa={class:"form-group"},ba=Jt((()=>(0,n.Lk)("label",{for:"depositAmount"},[(0,n.Lk)("strong",null,"Deposit Amount")],-1))),va={class:"col-md-3"},ka={class:"form-group"},La=Jt((()=>(0,n.Lk)("label",{for:"additionalCharges"},[(0,n.Lk)("strong",null,"Additional Charges")],-1))),Da={class:"row"},_a={class:"col-md-3"},Ca={class:"form-group"},Fa=Jt((()=>(0,n.Lk)("label",{for:"marksAndNumbers"},[(0,n.Lk)("strong",null,"Marks and Numbers")],-1))),Ea={class:"col-md-3"},Ta=Jt((()=>(0,n.Lk)("label",{for:"country"},[(0,n.Lk)("strong",null,"Country of Final Destination")],-1))),Sa={class:"col-md-3"},Ia={class:"form-group"},xa=Jt((()=>(0,n.Lk)("label",{for:"countryLastProvinance"},[(0,n.Lk)("strong",null,"Country of Last Provinance")],-1))),Na={class:"col-md-3"},Aa={class:"form-group"},Oa=Jt((()=>(0,n.Lk)("label",{for:"tradingCountry"},[(0,n.Lk)("strong",null,"Trading Country")],-1)));function wa(e,t,o,a,s,l){const i=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)("div",qt,[(0,n.Lk)("div",Ht,[(0,n.Lk)("div",Yt,[(0,n.Lk)("div",Kt,[zt,(0,n.bF)(i,{options:s.localData.importers,modelValue:s.localData.importerId,"onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.importerId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select an Importer"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Qt,[(0,n.Lk)("div",Zt,[eo,(0,n.bF)(i,{options:s.localData.exporters,modelValue:s.localData.exporterId,"onUpdate:modelValue":t[1]||(t[1]=e=>s.localData.exporterId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select an Exporter"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",to,[(0,n.Lk)("div",oo,[ao,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.modeOfTransport=e),ref:"modeOfTransportSelect"},[ro,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.modeOfTransportOOptions,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.modeOfTransport},(0,E.v_)(e.modeOfTransport),9,no)))),128))],512),[[r.u1,s.localData.modeOfTransport]])])]),(0,n.Lk)("div",so,[(0,n.Lk)("div",lo,[io,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.freightType=e)},[co,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.availableFreightTypes,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.name},(0,E.v_)(e.name),9,uo)))),128))],512),[[r.u1,s.localData.freightType]])])])]),(0,n.Lk)("div",mo,[(0,n.Lk)("div",po,[(0,n.Lk)("div",ho,[yo,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"waybillNumber","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.waybillNumber=e),placeholder:"Please Enter Waybill Number",required:""},null,512),[[r.Jo,s.localData.waybillNumber]])])]),(0,n.Lk)("div",go,[(0,n.Lk)("div",fo,[bo,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"waybillDate","onUpdate:modelValue":t[5]||(t[5]=e=>s.localData.waybillDate=e),required:""},null,512),[[r.Jo,s.localData.waybillDate]])])]),(0,n.Lk)("div",vo,[(0,n.Lk)("div",ko,[Lo,(0,n.bF)(i,{options:s.localData.vessels,modelValue:s.localData.vesselId,"onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.vesselId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select a Vessel"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Do,[(0,n.Lk)("div",_o,[Co,(0,n.bF)(i,{options:s.localData.ports,modelValue:s.localData.portOfDischargeId,"onUpdate:modelValue":t[7]||(t[7]=e=>s.localData.portOfDischargeId=e),label:"name",searchable:!0,reduce:e=>e.id,filterable:!0,placeholder:"Select a Port of Discharge"},null,8,["options","modelValue","reduce"])])])]),(0,n.Lk)("div",Fo,[(0,n.Lk)("div",Eo,[(0,n.Lk)("div",To,[So,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netWeight","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.netWeight=e),required:""},null,512),[[r.Jo,s.localData.netWeight]])])]),(0,n.Lk)("div",Io,[(0,n.Lk)("div",xo,[No,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"grossWeight","onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.grossWeight=e),required:""},null,512),[[r.Jo,s.localData.grossWeight]])])]),(0,n.Lk)("div",Ao,[(0,n.Lk)("div",Oo,[wo,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"numberOfPackages","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.numberOfPackages=e),required:""},null,512),[[r.Jo,s.localData.numberOfPackages]])])]),(0,n.Lk)("div",Po,[(0,n.Lk)("div",Vo,[Ro,(0,n.bF)(i,{options:s.localData.packageTypes,modelValue:s.localData.packageType,"onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.packageType=e),label:"text",searchable:!0,reduce:e=>e.value,filterable:!0,placeholder:"Select a Package Type"},null,8,["options","modelValue","reduce"])])])]),(0,n.Lk)("div",Uo,[(0,n.Lk)("div",Bo,[(0,n.Lk)("div",jo,[Wo,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalCargoValue","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.totalCargoValue=e),required:""},null,512),[[r.Jo,s.localData.totalCargoValue]])])]),(0,n.Lk)("div",$o,[(0,n.Lk)("div",Xo,[Go,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"freightAmount","onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.freightAmount=e),required:""},null,512),[[r.Jo,s.localData.freightAmount]])])]),(0,n.Lk)("div",Mo,[Jo,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"InsuranceAmount","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.insuranceAmount=e),required:""},null,512),[[r.Jo,s.localData.insuranceAmount]])]),(0,n.Lk)("div",qo,[(0,n.Lk)("div",Ho,[Yo,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"otherCharges","onUpdate:modelValue":t[15]||(t[15]=e=>s.localData.otherCharges=e)},null,512),[[r.Jo,s.localData.otherCharges]])])])]),(0,n.Lk)("div",Ko,[(0,n.Lk)("div",zo,[(0,n.Lk)("div",Qo,[Zo,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.declarantId=e)},[ea,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,E.v_)(e.name),9,ta)))),128))],512),[[r.u1,s.localData.declarantId]])])]),(0,n.Lk)("div",oa,[(0,n.Lk)("div",aa,[ra,(0,n.bF)(i,{options:s.localData.regimeTypeOptions,modelValue:s.localData.regimeType,"onUpdate:modelValue":t[17]||(t[17]=e=>s.localData.regimeType=e),label:"regimeType",searchable:!0,reduce:e=>e.regimeTypeId,filterable:!0,placeholder:"Select a Regime Type"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",na,[sa,(0,n.bF)(i,{options:s.localData.incotermsList,modelValue:s.localData.incoTerms,"onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.incoTerms=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select an Incoterm"},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",la,[ia,(0,n.bF)(i,{options:s.countryList,modelValue:s.localData.countryOfOrigin,"onUpdate:modelValue":t[19]||(t[19]=e=>s.localData.countryOfOrigin=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Origin"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",ca,[(0,n.Lk)("div",ua,[(0,n.Lk)("div",da,[ma,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containerCharges","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.containerCharges=e),required:""},null,512),[[r.Jo,s.localData.containerCharges]])])]),(0,n.Lk)("div",pa,[(0,n.Lk)("div",ha,[ya,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"localFee","onUpdate:modelValue":t[21]||(t[21]=e=>s.localData.localFee=e),required:""},null,512),[[r.Jo,s.localData.localFee]])])]),(0,n.Lk)("div",ga,[(0,n.Lk)("div",fa,[ba,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"depositAmount","onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.depositAmount=e),required:""},null,512),[[r.Jo,s.localData.depositAmount]])])]),(0,n.Lk)("div",va,[(0,n.Lk)("div",ka,[La,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"additionalCharges","onUpdate:modelValue":t[23]||(t[23]=e=>s.localData.additionalCharges=e),required:""},null,512),[[r.Jo,s.localData.additionalCharges]])])])]),(0,n.Lk)("div",Da,[(0,n.Lk)("div",_a,[(0,n.Lk)("div",Ca,[Fa,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"marksAndNumbers","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.marksAndNumbers=e),required:""},null,512),[[r.Jo,s.localData.marksAndNumbers]])])]),(0,n.Lk)("div",Ea,[Ta,(0,n.bF)(i,{options:s.countryList,modelValue:s.localData.countryOfFinalDestination,"onUpdate:modelValue":t[25]||(t[25]=e=>s.localData.countryOfFinalDestination=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Destination"},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",Sa,[(0,n.Lk)("div",Ia,[xa,(0,n.bF)(i,{options:s.countryList,modelValue:s.localData.countryLastProvinance,"onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.countryLastProvinance=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Country of Last Provinance"},null,8,["options","modelValue","reduce"])])]),(0,n.Lk)("div",Na,[(0,n.Lk)("div",Aa,[Oa,(0,n.bF)(i,{options:s.countryList,modelValue:s.localData.tradingCountry,"onUpdate:modelValue":t[27]||(t[27]=e=>s.localData.tradingCountry=e),label:"name",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a Trading Country"},null,8,["options","modelValue","reduce"])])])])])}function Pa(){const e=(0,Wt.KR)([{code:"EXW",name:"Ex Works"},{code:"FCA",name:"Free Carrier"},{code:"CPT",name:"Carriage Paid To"},{code:"CIP",name:"Carriage and Insurance Paid To"},{code:"DAP",name:"Delivered At Place"},{code:"DAT",name:"Delivered At Terminal"},{code:"DDP",name:"Delivered Duty Paid"},{code:"FAS",name:"Free Alongside Ship"},{code:"FOB",name:"Free On Board"},{code:"CFR",name:"Cost and Freight"},{code:"CIF",name:"Cost, Insurance and Freight"}]);return e}var Va={name:"CustomsEntryForm",props:["customsEntryForm"],mounted(){console.log("Mounting"),this.getConfigurations(),this.localData.packageTypes=$t(),this.localData.incotermsList=Pa(),this.localData.modeOfTransportOOptions=Mt()},data(){return{freightTypeOptions:[],localData:this.customsEntryForm,countryList:[]}},computed:{availableFreightTypes(){const e=this.localData.modeOfTransportOOptions?.find((e=>e.modeOfTransport===this.localData.modeOfTransport))?.freightTypes;return e}},methods:{setModeOfTransport(e){this.$nextTick((()=>{this.localData.modeOfTransport=e,this.$refs.modeOfTransportSelect.dispatchEvent(new Event("change"))}))},updateModeOfTransport(e){const t=this.localData.modeOfTransportOOptions.find((t=>t.modeOfTransport===e.target.value));this.freightTypeOptions=t.freightTypes},updateField(e,t){this.localData[e]=t,console.log(this.localData),this.$emit("update-section-one",this.localData)},async getConfigurations(){console.log("Fetching configurations..."),this.localData.ports=await Ze(),Promise.all([Me(),$e(),et(),Ge(),qe()]).then((([e,t,o,a,r])=>{this.localData.exporters=e,this.localData.importers=t,this.localData.vessels=o,this.localData.declarants=a,this.countryList=r}))}},watch:{customsEntryForm:{deep:!0,handler(e){this.localData=e,this.localData.portOfDischargeName=this.localData.ports.find((e=>e.id===this.localData.portOfDischargeId))?.name,this.localData.vesselName=this.localData.vessels.find((e=>e.id===this.localData.vesselId))?.name,this.localData.regimeTypeCode=this.localData.regimeTypeOptions.find((e=>e.regimeTypeId===this.localData.regimeType))?.regimeTypeCode;const t=this.localData.importers.find((e=>e.id===this.localData.importerId)),o=this.localData.exporters.find((e=>e.id===this.localData.exporterId));this.localData.importerName=void 0!==t?t.name:"",this.localData.importerTaxIdentificationNumber=void 0!==t?t.taxIdentificationNumber:"",this.localData.exporterName=void 0!==o?o.name:"",this.localData.exporterTaxIdentificationNumber=void 0!==o?o.taxIdentificationNumber:"",this.localData.exporterCountry=void 0!==o?o.country:"",null===this.localData.countryOfOrigin||null!=this.localData.countryLastProvinance&&""!=this.localData.countryLastProvinance&&void 0!=this.localData.countryLastProvinance||(this.localData.countryLastProvinance=this.localData.countryOfOrigin),null===this.localData.countryOfOrigin||null!=this.localData.tradingCountry&&""!=this.localData.tradingCountry&&void 0!=this.localData.tradingCountry||(this.localData.tradingCountry=this.localData.countryOfOrigin)}}}};const Ra=(0,D.A)(Va,[["render",wa],["__scopeId","data-v-18e31524"]]);var Ua=Ra;const Ba={STANDARD:"STANDARD",VEHICLES:"VEHICLES"};var ja={name:"App",components:{CustomsEntryForm:Ua},data(){return{referenceNumber:"",selectedFiles:[],invoiceDataArray:[],isDragOver:!1,isValidReference:!1,waybillNumber:"",waybillDate:(new Date).toISOString().substr(0,10),modeOfTransport:"",freightType:"",marksAndNumbers:"As Addressed",countryOfOrigin:"",cpcCode:"4000",npcCode:"000",kindOfPackage:"CT",numberOfPackages:"",consignee:"",shipper:"",supplier:"",totalCargoValue:0,totalNumberOfLines:0,freightCharge:0,rateOfExchange:1,netWeight:0,grossWeight:0,editableContent:"0",countries:[],modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["000"],packageTypeOptions:[],currencies:[],showModeofTransportDropdown:!1,customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT",countryLastProvinance:"",tradingCountry:""}}},watch:{"customsEntryForm.countryOfOrigin"(e,t){this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.country_of_origin&&0!==t.country_of_origin.trim().length||(t.country_of_origin=e)}))}))}},setup(){return{}},mounted(){this.fetchCountries(),this.packageTypeOptions=$t(),this.currencies=Xt(),this.updateEntryFields("marksAndNumbers","As Addressed"),this.getTotalNumberOfLines(),this.getRegimeTypes(),this.fetchNpcCodes()},computed:{thnCodesCompleted(){return this.invoiceDataArray.some((e=>e.invoice_items.some((e=>!e.thn_code||""===e.thn_code.trim()))))},totalFOBValue(){return this.invoiceDataArray.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},entryButtonDisabled(){return!(this.hasInvoiceNumber||this.waybillNumber.trim().length>0||this.consignee.trim().length>0)},hasInvoiceNumber(){for(let e of this.invoiceDataArray)if(e.invoice_id&&e.invoice_id.trim().length>0)return console.log("Invoice Number Found"),!0;return!1},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},methods:{setDefaults(){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===a.defaultRegimeTypeCode));this.customsEntryForm.regimeType=e.regimeTypeId,console.log("Regime Data: ",e)},async getRegimeTypes(){ze("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e;const t=e.find((e=>e.regimeTypeCode===Gt().defaultRegimeType));this.customsEntryForm.regimeType=t.regimeTypeId}))},async fetchNpcCodes(){Qe().then((e=>{this.npcCodeOptions=e,console.log("NPC Codes: ",e)}))},setInvoiceLineWorksheetData(){let e=[];return this.invoiceDataArray.forEach((t=>{t.invoice_items.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const o=st(t.thn_code.replace(/\./g,"")).then((e=>{let o=kt(e.charges);t.commodity={code:t.thn_code.replace(/\./g,""),id:e.id,charges:o}}));e.push(o)}))})),Promise.all(e)},generateWorkSheet(){console.log("Generating WorkSheet"),this.setInvoiceLineWorksheetData();const e=ft(this.referenceNumber,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee),t=Et(this.invoiceDataArray,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),ot(e).then((e=>{wt(),Ot("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Worksheet - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),Pt("Failed to generate worksheet!")}))},insertFullStops(e){if(11!==e.length)throw new Error("The string must contain exactly 11 numbers.");return e.slice(0,4)+"."+e.slice(4,6)+"."+e.slice(6)},convertAWSData(e){return e.map((e=>e.map((e=>{const t=e.summary_fields,o=e.line_items.map((e=>{const t={product_code:"",quantity:"",unit_price:"",description:"",amount:"",thn_code:""};return e.forEach((e=>{switch(e.field_type){case"PRODUCT_CODE":t.product_code=e.cell_data.text;break;case"QUANTITY":t.quantity=e.cell_data.text;break;case"UNIT_PRICE":t.unit_price=e.cell_data.text;break;case"ITEM":t.description=e.cell_data.text;break;case"PRICE":t.amount=e.cell_data.text;break;case"recommended_commodity_code":console.log("THN Code: ",e.code),t.thn_code=this.insertFullStops(e.code.toString());break}})),console.log("Item: ",e),console.log("Temp Item: ",t),t}));return{vendor_name:t.VENDOR_NAME,subtotal:t.SUBTOTAL,invoice_total:t.TOTAL,customer_name:t.RECEIVER_NAME,invoice_date:t.INVOICE_RECEIPT_DATE,invoice_id:t.INVOICE_RECEIPT_ID,invoice_items:o}})))).flat()},formatInvoiceData(){const e=this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes)),t=e.find((e=>e.code===Gt().defaultCPCCode)).cpcId;console.log("All CPC Codes: ",e),console.log("Default CPC Code: ",t),this.invoiceDataArray.forEach((e=>{e.invoice_total=this.parseFloatFromString(e.invoice_total),e.inland=this.parseFloatFromString(e.inland),e.insurance=this.parseFloatFromString(e.insurance),e.otherCharges=this.parseFloatFromString(e.otherCharges),e.final_total=this.parseFloatFromString(e.final_total),e.invoice_items.forEach((e=>{e.country_of_origin="",e.quantity=this.parseFloatFromString(e.quantity),e.unit_price=this.parseFloatFromString(e.unit_price),e.amount=this.parseFloatFromString(e.amount).toFixed(2),e.vatApplicable=!0,e.cpcCode=t,e.npcCode="000"}))}))},getTotalNumberOfLines(){let e=0;for(let t of this.invoiceDataArray)e+=t.invoice_items.length;this.totalNumberOfLines=e},calculateTotalCargoValue(){let e=0;for(let t of this.invoiceDataArray)e+=this.parseFloatFromString(t.invoice_total);this.customsEntryForm.totalCargoValue=e},validateIntegerInput(e){let t=e.target.innerText.trim();/^\d+$/.test(t)?this.editableContent=t:e.target.innerText=this.editableContent,this.moveCursorToEnd(e.target)},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3.1/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},updateEntryFields(e,t){this[e]=t},selectOption(e){this.$refs.editableDiv.innerText=e,this.showModeofTransportDropdown=!1},verifyData(e){return void 0!==e&&null!==e&&""!==e},validateData(){return console.log("Importer ID: ",this.verifyData(this.customsEntryForm.importerId)),this.verifyData(this.customsEntryForm.importerId)?!!this.verifyData(this.customsEntryForm.exporterId)||(Pt("Please select an exporter"),!1):(Pt("Please select an importer"),!1)},async saveFiles(){console.log("Saving Files...");const e=new FormData;return e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("files",t)})),gt(e).then((e=>e)).catch((e=>{console.error("Failed to upload the files:",e)}))},async createInvoices(e){if(!this.validateData())return;const t={referenceNumber:this.referenceNumber,waybillNumber:this.customsEntryForm.waybillNumber,waybillDate:this.customsEntryForm.waybillDate,modeOfTransport:this.customsEntryForm.modeOfTransport,freightType:this.customsEntryForm.freightType,marksAndNumbers:this.customsEntryForm.marksAndNumbers,countryOfOrigin:this.customsEntryForm.countryOfOrigin,countryOfFinalDestination:this.customsEntryForm.countryOfFinalDestination,countryLastProvenance:this.customsEntryForm.countryLastProvinance,tradingCountry:this.customsEntryForm.tradingCountry,kindOfPackage:this.customsEntryForm.packageType,numberOfPackages:this.customsEntryForm.numberOfPackages,totalCargoValue:this.customsEntryForm.totalCargoValue,freightCharge:this.customsEntryForm.freightAmount??0,insuranceAmount:this.customsEntryForm.insuranceAmount??0,otherCharges:this.customsEntryForm.otherCharges??0,rateOfExchange:this.customsEntryForm.rateOfExchange,netWeight:this.customsEntryForm.netWeight,grossWeight:this.customsEntryForm.grossWeight,invoiceList:e,declarant:this.customsEntryForm.declarantId,incoTerms:this.customsEntryForm.incoTerms,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,portOfDischarge:this.customsEntryForm.portOfDischargeId,regimeType:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,containerCharges:this.customsEntryForm.containerCharges,additionalCharges:this.customsEntryForm.additionalCharges,localFee:this.customsEntryForm.localFee,entryType:Ba.STANDARD};console.log("Entry Data 1: ",t);try{Vt("Saving your Entry..."),this.saveFiles().then((e=>{console.log("Files saved successfully:",e),t.files=e,Ae(t).then((e=>{console.log("Entry created successfully:",e),this.redirectToEntryDetails(e.entryId),wt(),Ot("Entry created successfully")})).catch((e=>{console.error("Failed to create the Entry:",e),Pt("Failed to create the Entry. Please try again.")}))})).catch((e=>{console.error("Failed to save the files:",e),Pt("Failed to save the files. Please try again.")}))}catch(o){console.error("Failed to create the invoice:",o),Pt("Failed to create the Entry. Please try again.")}},redirectToEntryDetails(e){this.$router.push({name:"EntryDetails",params:{entryId:e}})},handleInput(e,t,o){const a=e.target.innerText,r=a.replace(/[^0-9]/g,""),n=this.formatValue(r);e.target.innerText=n,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},truncateString(e){return e.length>13?e.substring(0,14):e},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)},validateInput(){this.isValidReference=this.referenceNumber.trim().length>0},handleFileUpload(e){this.isValidReference&&(this.selectedFiles=Array.from(e.target.files))},dragOver(e){this.isValidReference&&(this.isDragOver=!0)},dragEnter(e){this.isValidReference&&(this.isDragOver=!0)},dragLeave(e){this.isValidReference&&(this.isDragOver=!1)},uploadFilesMicrosoft(){if(!this.isValidReference||0===this.selectedFiles.length)return void alert("Please enter a valid reference number and select files before uploading.");const e=new FormData;e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("files",t)})),console.log("Form Data: ",e),Vt("Reading your invoice..."),fetch("https://gabrielle-flask.azurewebsites.net/read_vendor_invoice",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=e,this.formatInvoiceData(),console.log("Invoice Data: ",this.invoiceDataArray),wt(),Ot("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))},uploadFiles(){if(!this.isValidReference||0===this.selectedFiles.length)return void alert("Please enter a valid reference number and select files before uploading.");const e=new FormData;e.append("reference",this.referenceNumber),this.selectedFiles.forEach((t=>{e.append("commercialInvoice",t)})),Vt("Reading your invoice..."),fetch("https://mary-staging.whitestone-99c262a0.eastus.azurecontainerapps.io//analyze-document",{method:"POST",body:e}).then((e=>e.json())).then((e=>{console.log("Success:",e),this.invoiceDataArray=this.convertAWSData(e),this.formatInvoiceData(),wt(),Ot("Invoice data read successfully."),this.calculateTotalCargoValue(),this.getTotalNumberOfLines()})).catch((e=>{console.error("Error:",e),this.invoiceDataArray=[]}))},removeUnsafeCharacters(e){const t=/^[a-zA-Z0-9-_.~ ]*$/;return Array.from(e).filter((e=>t.test(e))).join("")},async classifyInvoiceItems(){console.log("Classifying Invoice Items");const e=this.invoiceDataArray.flatMap((e=>e.invoice_items.map((e=>({description:e.description})))));return console.log("Descriptions: ",e),mt(e)},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+this.parseFloatFromString(t.amount||0)),0).toFixed(2)},updateData(e,t,o){e[t]=o},updateItem(e,t,o,a){e.invoice_items[t][o]=a},deleteRow(e,t){e.invoice_items.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.invoice_items.push(t)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),o=parseFloat(e.amount).toFixed(2);return[e.unit_price,e.quantity,e.amount].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==o?{"font-weight":"bold",color:"red"}:{}},naStyle(e){return[null,void 0,"",!1].includes(e)?{"font-weight":"bold",color:"#B8860B"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.invoice_items),o=parseFloat(e.invoice_total||0).toFixed(2);return t!==o?{backgroundColor:"red",color:"white"}:{}},parseFloatFromString(e){if(!e||void 0===e||null===e)return 0;if("number"===typeof e)return e;let t=e.replace(/[^0-9.]/g,""),o=parseFloat(t);return o}}};const Wa=(0,D.A)(ja,[["render",Ee]]);var $a=Wa;const Xa=(0,n.Lk)("h1",null,"Entries",-1),Ga={class:"table table-bordered"},Ma=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Entry #"),(0,n.Lk)("th",null,"Consignee"),(0,n.Lk)("th",null,"Invoice Number"),(0,n.Lk)("th",null,"Waybill Number"),(0,n.Lk)("th",null,"Actions")])],-1),Ja=["onClick"],qa={key:0,class:"error-message"};function Ha(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[Xa,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchTerm=e),placeholder:"Search entries"},null,512),[[r.Jo,s.searchTerm]]),(0,n.Lk)("table",Ga,[Ma,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.filteredEntries,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.entry_id},[(0,n.Lk)("td",null,(0,E.v_)(e.entry_number),1),(0,n.Lk)("td",null,(0,E.v_)(e.importerName),1),(0,n.Lk)("td",null,(0,E.v_)(e.invoice_number?e.invoice_number.split("; ")[0]:""),1),(0,n.Lk)("td",null,(0,E.v_)(e.waybill_number),1),(0,n.Lk)("td",null,(0,E.v_)(e.entry_type),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",onClick:t=>l.openEntry(e.entry_id,e.entry_type)},"Edit",8,Ja)])])))),128))])]),s.error?((0,n.uX)(),(0,n.CE)("div",qa,(0,E.v_)(s.error),1)):(0,n.Q3)("",!0)])}var Ya={data(){return{entries:[],error:null,searchTerm:""}},created(){this.fetchEntries()},methods:{openEntry(e,t){t&&t===Ba.VEHICLES?this.$router.push({name:"VehicleEntryEditPage",params:{entryId:e}}):this.$router.push({name:"EntryDetails",params:{entryId:e}})},async fetchEntries(){try{const e=await Se().get("https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/entries");this.entries=e.data}catch(e){this.error=e.message,console.error("There was an error!",e)}}},computed:{filteredEntries(){if(!this.searchTerm)return this.entries;const e=this.searchTerm.toLowerCase();return this.entries.filter((t=>t.entry_number&&t.entry_number.toString().toLowerCase().includes(e)||t.waybill_number&&t.waybill_number.toString().toLowerCase().includes(e)||t.invoice_number&&t.invoice_number.split("; ").some((t=>t.toLowerCase().includes(e)))||t.consignee&&t.consignee.toString().toLowerCase().includes(e)))}}};const Ka=(0,D.A)(Ya,[["render",Ha]]);var za=Ka;const Qa={key:0},Za=(0,n.Lk)("h1",null,"Entry Details",-1),er={key:0},tr=(0,n.Lk)("h3",null,"Commercial Invoices",-1),or=(0,n.Lk)("h3",null,"Header Information",-1),ar={class:"form-row"},rr={class:"row"},nr={class:"col-md-2"},sr=(0,n.Lk)("label",{for:"InvoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),lr=["onUpdate:modelValue"],ir={class:"col-md-2"},cr=(0,n.Lk)("label",{for:"SupplierName",class:"form-label"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),ur=["onUpdate:modelValue"],dr={class:"col-md-2"},mr=(0,n.Lk)("label",{for:"InvoiceDate",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),pr=["onUpdate:modelValue"],hr={class:"col-md-2"},yr=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),gr={class:"col-md-2"},fr=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),br=["onUpdate:modelValue"],vr={class:"col-md-2"},kr=(0,n.Lk)("label",{class:"form-label"},[(0,n.Lk)("strong",null,"Download Invoice")],-1),Lr=["href"],Dr=(0,n.Lk)("i",{class:"fas fa-file-pdf fa-2x"},null,-1),_r=[Dr],Cr=(0,n.Lk)("h3",null,"Line Details",-1),Fr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line Number"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Code"),(0,n.Lk)("th",null,"Unit Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Extension Price"),(0,n.Lk)("th",null,"Country of Origin"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"VAT Applicable"),(0,n.Lk)("th",null,"Actions")])],-1),Er=["onBlur"],Tr=["onBlur"],Sr=["onBlur"],Ir=["onBlur"],xr=["onBlur"],Nr=["onBlur"],Ar={class:"form-check form-switch"},Or=["onUpdate:modelValue"],wr=["onClick"],Pr=(0,n.Lk)("i",{class:"fa fa-trash"},null,-1),Vr=[Pr],Rr={colspan:"7"},Ur=["onClick"],Br=(0,n.Lk)("h3",null,"Footer Information",-1),jr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Invoice Total"),(0,n.Lk)("th",null,"Inland"),(0,n.Lk)("th",null,"Insurance"),(0,n.Lk)("th",null,"Other Charges"),(0,n.Lk)("th",null,"Final Total")])],-1),Wr=["onBlur"],$r=["onBlur"],Xr=["onBlur"],Gr=["onBlur"],Mr=["onBlur"],Jr=(0,n.Lk)("h3",null,"Calculated Check",-1),qr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Total Extension Prices"),(0,n.Lk)("th",null,"Number of Line Items"),(0,n.Lk)("th",null,"Matches Invoice Total?")])],-1),Hr=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),Yr=["disabled"],Kr=["disabled"];function zr(e,t,o,a,s,l){const i=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return s.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",Qa,[Za,(0,n.Lk)("h2",null,"Reference Number: "+(0,E.v_)(this.entryDetails?.entry_number),1),(0,n.bF)(i,{ref:"myCustomsForm",customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[0]||(t[0]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"]),s.dataRetrieved?((0,n.uX)(),(0,n.CE)("div",er,[tr,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.commercialInvoices,((e,o)=>((0,n.uX)(),(0,n.CE)("div",{key:o},[(0,n.Lk)("h2",null,"Invoice Data #"+(0,E.v_)(o+1),1),or,(0,n.Lk)("div",ar,[(0,n.Lk)("div",rr,[(0,n.Lk)("div",nr,[sr,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.invoice_number=t,class:"form-control",id:"InvoiceNumber",placeholder:"Enter Invoice Number"},null,8,lr),[[r.Jo,e.invoice_number]])]),(0,n.Lk)("div",ir,[cr,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vendor_name=t,class:"form-control",id:"SupplierName",placeholder:"Enter Supplier Name"},null,8,ur),[[r.Jo,e.vendor_name]])]),(0,n.Lk)("div",dr,[mr,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t=>e.invoice_date=t,class:"form-control",id:"InvoiceDate"},null,8,pr),[[r.Jo,e.invoice_date]])]),(0,n.Lk)("div",hr,[yr,(0,n.bF)(c,{options:s.currencies,modelValue:e.currency,"onUpdate:modelValue":t=>e.currency=t,label:"name",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("div",gr,[fr,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"rateOfExchange","onUpdate:modelValue":t=>e.rate_of_exchange=t,required:""},null,8,br),[[r.Jo,e.rate_of_exchange]])]),(0,n.Lk)("div",vr,[kr,(0,n.Lk)("div",null,[(0,n.Lk)("a",{href:e.file_url,target:"_blank"},_r,8,Lr)])])])]),Cr,(0,n.Lk)("table",null,[Fr,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.lines,((o,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("td",null,(0,E.v_)(a+1),1),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>l.updateInvoiceData(o,"product_code",e.target.innerText)},(0,E.v_)(o.product_code||"N/A"),41,Er),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>l.updateInvoiceData(o,"description",e.target.innerText)},(0,E.v_)(o.description||"N/A"),41,Tr),(0,n.Lk)("td",{contenteditable:"true",onInput:t[1]||(t[1]=e=>l.handleInput(e)),onBlur:e=>l.updateInvoiceData(o,"tariff_code",e.target.innerText)},(0,E.v_)(o.tariff_code||"N/A"),41,Sr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>l.updateInvoiceData(o,"quantity",e.target.innerText),style:(0,E.Tr)(l.naStyle(o.quantity))},(0,E.v_)(o.quantity||"N/A"),45,Ir),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>l.updateInvoiceData(o,"unit_price",e.target.innerText),style:(0,E.Tr)(l.naStyle(o.unit_price))},(0,E.v_)(o.unit_price||"N/A"),45,xr),(0,n.Lk)("td",{contenteditable:"true",onBlur:e=>l.updateInvoiceData(o,"extension_price",e.target.innerText),style:(0,E.Tr)(l.extensionStyle(o))},(0,E.v_)(o.extension_price||"N/A"),45,Nr),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:s.countries,modelValue:o.country_of_origin,"onUpdate:modelValue":e=>o.country_of_origin=e,label:"code",id:"country",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:l.availableCPCCodes,modelValue:o.cpcCode,"onUpdate:modelValue":e=>o.cpcCode=e,label:"code",id:"cpcCode",searchable:!0,filterable:!0,reduce:e=>e.cpcId},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:o.npcCode,"onUpdate:modelValue":e=>o.npcCode=e,options:s.npcCodeOptions,label:"code",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.Lk)("div",Ar,[(0,n.bo)((0,n.Lk)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault","onUpdate:modelValue":e=>o.vatApplicable=e},null,8,Or),[[r.lH,o.vatApplicable]])])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-danger",onClick:t=>l.deleteRow(e,a)},Vr,8,wr)])])))),128))]),(0,n.Lk)("tfoot",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",Rr,[(0,n.Lk)("button",{onClick:t=>l.addNewLine(e)},"Add New Line",8,Ur)])])])]),Br,(0,n.Lk)("table",null,[jr,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateInvoiceData(e,"invoice_total",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.invoice_total))},(0,E.v_)(e.invoice_total||"N/A"),45,Wr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateInvoiceData(e,"inland",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.inland))},(0,E.v_)(e.inland||"N/A"),45,$r),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateInvoiceData(e,"insurance",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.insurance))},(0,E.v_)(e.insurance||"N/A"),45,Xr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateInvoiceData(e,"other_charges",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.other_charges))},(0,E.v_)(e.other_charges||"N/A"),45,Gr),(0,n.Lk)("td",{contenteditable:"true",onBlur:t=>l.updateInvoiceData(e,"final_total",t.target.innerText),style:(0,E.Tr)(l.naStyle(e.final_total))},(0,E.v_)(e.final_total||"N/A"),45,Mr)])])]),Jr,(0,n.Lk)("table",null,[qr,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",{style:(0,E.Tr)(l.checkInvoiceTotal(e))},[(0,n.Lk)("td",null,(0,E.v_)(l.calculateTotalExtensionPrice(e.lines)),1),(0,n.Lk)("td",null,(0,E.v_)(e.lines.length),1),(0,n.Lk)("td",null,(0,E.v_)(l.calculateTotalExtensionPrice(e.lines)===parseFloat(e.invoice_total).toFixed(2)?"Yes":"No"),1)],4)])])])))),128)),(0,n.Lk)("div",null,[(0,n.Lk)("table",null,[Hr,(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,E.v_)(this.totalNumberOfLines),1),(0,n.Lk)("td",null,(0,E.v_)(this.totalFOBValue),1)])])]),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-success",disabled:l.isGenerateCsvDisabled,onClick:t[2]||(t[2]=(...e)=>l.generateAsycudaXML&&l.generateAsycudaXML(...e))},"Generate Asycuda XML",8,Yr)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>l.saveData&&l.saveData(...e))},"Save Entry")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>l.goToCustomsDeclarationPage(this.entryId))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",disabled:l.isGenerateCsvDisabled,onClick:t[5]||(t[5]=(...e)=>l.generateWorkSheet&&l.generateWorkSheet(...e))},"Generate Worksheet",8,Kr)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>l.generateDepositForm&&l.generateDepositForm(...e))},"Generate Deposit Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>l.generateTTC84&&l.generateTTC84(...e))},"Generate Special Exemption")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>l.generateOvertimeForm&&l.generateOvertimeForm(...e))},"Generate Overtime Form")])]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=(...e)=>l.generateCARICOM&&l.generateCARICOM(...e))},"Generate CARICOM Invoice")])])])])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)}var Qr=o(2830),Zr=o.n(Qr),en={name:"EntryDetails",components:{CustomsEntryForm:Ua},props:{entryId:{type:[String,Number],required:!0}},watch:{totalFOBValue(e){this.customsEntryForm.totalCargoValue=e}},computed:{totalFOBValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.invoice_total)),0).toFixed(2)},toalInsuranceValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.insurance)),0).toFixed(2)},totalInlandValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.inland)),0).toFixed(2)},totalOtherChargesValue(){return this.commercialInvoices.reduce(((e,t)=>e+parseFloat(t.other_charges)),0).toFixed(2)},netInvoicePrice(){return parseFloat(this.totalFOBValue)+parseFloat(this.toalInsuranceValue)+parseFloat(this.totalInlandValue)+parseFloat(this.totalOtherChargesValue)},formattedDate:{get(){const e=new Date(this.entryDetails.waybill_date);return e.toISOString().split("T")[0]},set(e){this.entryDetails.waybill_date=e}},isGenerateCsvDisabled(){return this.commercialInvoices.some((e=>(console.log("Tariff Check"+e),e.lines.some((e=>!e.tariff_code||""===e.tariff_code.trim())))))},availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},data(){return{entryDetails:null,waybill:{},entry:{},commercialInvoices:[],dataRetrieved:!1,loading:!1,error:null,countries:[],totalNumberOfLines:0,modeOfTransportOOptions:["Air","Ocean"],freightTypeOptions:["FCL","LCL","Bulk","Break Bulk"],cpcCodeOptions:["4000"],npcCodeOptions:["000"],packageTypeOptions:[],currencies:[],customsEntryForm:{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:[],importerId:"",exporterId:"",importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantId:"",declarantTaxIdentificationNumber:"",modeOfTransport:"",freightType:"",waybillNumber:"",waybillDate:"",vesselId:"",vesselName:"",incoTerms:"",portOfDischargeId:"",portOfDischargeName:"",netWeight:0,grossWeight:0,numberOfPackages:0,packageType:"",packageTypes:[],marksAndNumbers:"As Addressed",totalCargoValue:0,freightAmount:0,insuranceAmount:0,otherCharges:0,rateOfExchange:0,regimeType:"",regimeTypeCode:"",regimeTypeOptions:[],depositAmount:0,containerCharges:0,additionalCharges:0,localFee:0,countryOfOrigin:"",countryOfFinalDestination:"TT",countryLastProvinance:"",tradingCountry:""}}},mounted(){this.fetchAllDetails(),this.fetchCountries(),this.fetchNpcCodes(),this.packageTypeOptions=$t(),this.currencies=Xt()},methods:{setInvoiceLineWorksheetData(){let e=[];return this.commercialInvoices.forEach((t=>{t.lines.forEach((t=>{t.cpcCodeName=this.availableCPCCodes.find((e=>e.cpcId===t.cpcCode))?.code;const o=st(t.tariff_code.replace(/\./g,"")).then((e=>{let o=kt(e.charges,t.vatApplicable);t.commodity={code:t.tariff_code.replace(/\./g,""),id:e.id,charges:o}})).catch((e=>(wt(),Pt(`The following commodity code does not exist on Asycuda - ${t.tariff_code}. Please update this and try again. `),console.error("Failed to get commodity charges:",e),Promise.reject(e))));e.push(o)}))})),Promise.all(e)},generateCARICOM(){console.log("Generating CARICOM");const e=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin))?.name,t=this.countries.find((e=>e.code===this.customsEntryForm.countryOfFinalDestination))?.name,o=this.customsEntryForm.incotermsList.find((e=>e.code===this.customsEntryForm.incoTerms))?.name,a=this.currencies.find((e=>e.code===this.commercialInvoices[0].currency))?.name,r=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId));console.log("Selected Importer: ",r);const n=void 0===r?"":r.address,s=this.countries.find((e=>e.code===r.country))?.name,l=`${this.customsEntryForm.importerName}\n${n}\n${s}`.toUpperCase(),i=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),c=void 0===i?"":i.address,u=this.countries.find((e=>e.code===i.country))?.name,d=`${this.customsEntryForm.exporterName}\n${c}\n${u}`.toUpperCase();console.log("Other charges: ",this.customsEntryForm.otherCharges),Bt().then((r=>{console.log("Caricom Response: ",r);const n=It(l,d,this.entryDetails.entry_number,e,o,this.customsEntryForm.portOfDischargeName,t,this.customsEntryForm.modeOfTransport,this.customsEntryForm.vesselName,a,r,this.customsEntryForm.grossWeight,this.commercialInvoices,this.customsEntryForm.numberOfPackages,this.customsEntryForm.totalCargoValue,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges);Vt("Generating CARICOM Invoice..."),pt(n).then((e=>{wt(),Ot("CARICOM Invoice Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`CARICOM Invoice - ${this.entryDetails.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate CARICOM Invoice:",e),Pt("Failed to generate CARICOM Invoice!")}))})).catch((e=>{console.error("Failed to generate CARICOM Invoice:",e),Pt("Failed to generate CARICOM Invoice!")}))},generateWorkSheet(){console.log("Generating WorkSheet"),console.log(this.commercialInvoices),Vt("Generating worksheet..."),this.setInvoiceLineWorksheetData().then((()=>{console.log("Setting Invoice Line Worksheet Data");const e=ft(this.entryDetails?.entry_number,"TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges),t=Ft(this.commercialInvoices,this.customsEntryForm.freightAmount,this.totalFOBValue);e.invoices=t,console.log("Worksheet Object: ",e),ot(e).then((e=>{wt(),Ot("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Worksheet - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate worksheet:",e),wt(),Pt("Failed to generate worksheet!")}))})).catch((e=>{console.error("Failed to set invoice line worksheet data:",e)}))},async getPackageTypes(){try{const e=await fetch("./assets/packageTypes.json"),t=await e.json();this.packageTypeOptions=t}catch(e){this.packageTypeOptions=[{value:"CT",text:"Carton"}],console.error("Error fetching data:",e)}},getInvoiceNumbers(){return this.commercialInvoices.map((e=>`${e.invoice_number} \t ${e.invoice_date} \t`)).join("\n")},async generateOvertimeForm(){let e={date:Tt(),request:"TO OBTAIN SERVICES OF ONE CUSTOMS OFFICER TO EXAMINE AND RELEASE",details:"",shipper:this.customsEntryForm.exporterName,importer:this.customsEntryForm.importerName,referenceNumber:this.entryDetails?.entry_number,importerAddress:this.customsEntryForm.importerName,declarantNumber:"BR0285",declarantName:"RAMNARINE RAMPERSAD",port:this.customsEntryForm.portOfDischargeName,startTime:"4:00PM"};Ut().then((t=>{console.log("Importers List: ",this.customsEntryForm.importers);const o=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),a=void 0===o?"":o.address;e.details=t.cargoDetails,e.startTime=t.startTime,e.importerAddress=`${this.customsEntryForm.importerName}\n${a}`,Vt("Generating Overtime Form..."),ct(e).then((e=>{wt(),Ot("Overtime Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Overtime Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate Overtime Form:",e),Pt("Failed to generate Overtime Form!")}))}))},async generateTTC84(){console.log("Generating TTC84");let e={declarationNumber:this.entryDetails?.entry_number,declarationDate:Tt(),regimeCode:"C4",declarantName:"RAMNARINE RAMPERSAD",declarantNumber:"BR0285",referenceNumber:this.entryDetails?.entry_number,importer:this.customsEntryForm.importerName,importNumber:"",declarationContent:"",CPCCode:"4000",extensionCode:"",signatoryName:"",signatoryStatus:"",presigned:!1};const t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=t?.taxIdentificationNumber;e.importNumber=o;let a=await Xe();console.log("Signatories: ",a),a=a.filter((e=>e.importerCode===this.customsEntryForm.importerId)),ut(this.customsEntryForm.importerId).then((t=>{const o=t.map((e=>e.declaration_number));Rt(o,a).then((o=>{e.presigned=o.generatePreSigned;const r=parseInt(o.select1),n=t[r];e.declarationContent=n.content.replace(/\\n/g,"\n"),e.extensionCode=n.extensionCode;const s=a.find((e=>e.id===parseInt(o.select2)));e.signatoryName=s.name,e.signatoryStatus=s.status,it(e).then((e=>{wt(),Ot("C84 Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`C84 Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate C84 Form:",e),Pt("Failed to generate C84 Form!")}))}))})).catch((e=>{console.error("Failed to get special exemption declarations:",e)})),console.log("C84 Object: ",e)},async generateDepositForm(){console.log("Generating Deposit Form");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId)),t=void 0==e?"":e.portCode,o=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin))?.name,a=this.customsEntryForm.modeOfTransportOOptions.find((e=>e.modeOfTransport===this.customsEntryForm.modeOfTransport)),r=a.freightTypes.find((e=>e.name===this.customsEntryForm.freightType))?.code;jt().then((e=>{const a=St(this.customsEntryForm.regimeTypeCode,this.customsEntryForm.waybillNumber,this.customsEntryForm.waybillDate,this.customsEntryForm.incoTerms,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,"Ramnarine Rampersad","BR0285",this.entryDetails?.entry_number,this.customsEntryForm.exporterName,o,this.customsEntryForm.exporterCountry,this.customsEntryForm.vesselName,r,this.customsEntryForm.portOfDischargeName,t,this.customsEntryForm.depositAmount,e);try{Vt("Generating Deposit Form..."),lt(a).then((e=>{wt(),Ot("Deposit Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a"),a=`Deposit Form - ${this.entryDetails?.entry_number}.pdf`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{Pt("Failed to generate Deposit Form!"),console.error("Failed to generate Deposit Form:",e)}))}catch(n){console.error("Failed to generate Deposit Form:",n)}}))},goToCustomsDeclarationPage(){const e=this.getInvoiceNumbers();let t=this.netInvoicePrice;"CIF"===this.customsEntryForm.incoTerms&&(t=t+this.customsEntryForm.freightAmount+this.customsEntryForm.insuranceAmount),console.log("Invoice Numbers: ",e),console.log("Incoterms: ",this.customsEntryForm.incoTerms),console.log("Invoice Total: ",this.netInvoicePrice),this.$router.push({name:"CustomsDeclarationForm",params:{entryId:this.entryId},query:{buyerId:this.customsEntryForm.importerId,sellerId:this.customsEntryForm.exporterId,invoiceNumber:e,invoiceTotal:t,currency:this.commercialInvoices[0].currency,rateOfExchange:this.commercialInvoices[0].rate_of_exchange,freight:this.customsEntryForm.freightAmount*this.commercialInvoices[0].rate_of_exchange,insurance:this.toalInsuranceValue,incoTerms:this.customsEntryForm.incoTerms}})},updateWaybillDate(e){this.entryDetails.waybill_date=e.target.value},countryChange(){this.commercialInvoices.forEach((e=>{e.lines.forEach((e=>{e.country_of_origin&&0!==e.country_of_origin.trim().length&&"N/A"!==e.country_of_origin&&void 0!==e.country_of_origin&&null!==e.country_of_origin||(e.country_of_origin=this.entryDetails.country_of_origin)}))}))},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},formatInvoiceData(e){return{invoice_id:e.invoice_id,invoice_number:e.invoice_number,invoice_date:e.invoice_date,invoice_total:e.invoice_total,sub_total:e.sub_total,supplier_name:e.supplier_name,taxed_amount:e.taxed_amount,supplier_address:e.supplier_address,purchase_order_number:e.purchase_order_number,inland:e.inland,insurance:e.insurance,other_charges:e.other_charges,entry_id:e.entry_id,currency:e.currency,rate_of_exchange:e.rate_of_exchange}},getTotalNumberOfLines(){console.log("Calculating total number of lines"),console.log(this.commercialInvoices);let e=0;for(let t of this.commercialInvoices)e+=t.lines.length;console.log("Total Number of Lines: ",e),this.totalNumberOfLines=e},formatInvoiceLinesData(e){return e.map((e=>({invoice_line_id:e.invoice_line_id,description:e.description,quantity:e.quantity,unit_price:e.unit_price,extension_price:e.extension_price,tariff_code:e.tariff_code,product_code:e.product_code,country_of_origin:e.country_of_origin,cpc_code:e.cpcCode,npc_code:e.npcCode,vat_applicable:e.vatApplicable})))},handleInput(e){const t=e.target.innerText,o=t.replace(/[^0-9]/g,""),a=this.formatValue(o);e.target.innerText=a,this.moveCursorToEnd(e.target)},formatValue(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},truncateString(e){return e.length>14?e.substring(0,14):e},deleteRow(e,t){e.lines.splice(t,1)},addNewLine(e){const t={product_code:"",description:"",thn_code:"",quantity:"",unit_price:"",amount:""};e.lines.push(t)},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)},saveData(){console.log("Saving data..."),this.loading=!0,Vt("Saving Data..."),Promise.all([this.updateEntryData(),this.updateWaybillData(),this.saveInvoiceData()]).then((([e,t])=>{console.log("Entry details updated:",e.data),console.log("Waybill details updated:",t.data),wt(),Ot("All Data Saved successfully!")})).catch((e=>{console.error("There was an error saving the data!",e),Pt("Failed to save Entry Data!")})).finally((()=>{this.loading=!1}))},naStyle(e){return[null,void 0,"",!1].includes(e)?{backgroundColor:"yellow",color:"black"}:{}},calculateTotalExtensionPrice(e){return e.reduce(((e,t)=>e+parseFloat(t.extension_price||0)),0).toFixed(2)},extensionStyle(e){const t=(parseFloat(e.unit_price)*parseFloat(e.quantity)).toFixed(2),o=parseFloat(e.extension_price).toFixed(2);return[e.unit_price,e.quantity,e.extension_price].some((e=>[null,void 0,"",!1].includes(e)))?{"font-weight":"bold",color:"#B8860B"}:t!==o?{"font-weight":"bold",color:"red"}:{}},checkInvoiceTotal(e){const t=this.calculateTotalExtensionPrice(e.lines),o=parseFloat(e.invoice_total||0).toFixed(2);return t!==o?{backgroundColor:"red",color:"white"}:{}},toggleOptions(){console.log(this.freightType)},updateEntryFields(e,t){this.entryDetails[e]=t},updateInvoiceData(e,t,o){e[t]=o,console.log(e)},convertTinyIntoBoolean(e){return 1===e},async fetchAllDetails(){const e="https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/";console.log("Fetching details"),this.loading=!0,this.dataRetrieved=!1;try{const t=Se().get(`${e}entry-details/${this.entryId}`),o=Se().get(`${e}commercial-invoices-with-lines/${this.entryId}`),[a,r]=await Promise.all([t,o]);this.dataRetrieved=!0;let n,s=a.data.waybill_date;if("0000-00-00"!==s&&s){let e=new Date(s);n=isNaN(e)?"":e.toISOString().split("T")[0]}else n="";this.entryDetails=a.data,this.customsEntryForm.importerId=this.entryDetails.importer,this.customsEntryForm.exporterId=this.entryDetails.shipper,this.customsEntryForm.waybillNumber=this.entryDetails.waybill_number,this.customsEntryForm.waybillDate=n,this.customsEntryForm.modeOfTransport=this.entryDetails.mode_of_transport,this.customsEntryForm.freightType=this.entryDetails.freight_type,this.customsEntryForm.vesselId=this.entryDetails.vessel,this.customsEntryForm.portOfDischargeId=this.entryDetails.port_of_discharge,this.customsEntryForm.netWeight=this.entryDetails.net_weight,this.customsEntryForm.grossWeight=this.entryDetails.gross_weight,this.customsEntryForm.numberOfPackages=this.entryDetails.package_quantity,this.customsEntryForm.packageType=this.entryDetails.package_type,this.customsEntryForm.marksAndNumbers=this.entryDetails.marks_and_numbers,this.customsEntryForm.totalCargoValue=this.entryDetails.invoice_total,this.customsEntryForm.freightAmount=this.entryDetails.freight_charge,this.customsEntryForm.insuranceAmount=this.entryDetails.insurance_amount??0,this.customsEntryForm.otherCharges=this.entryDetails.other_charges??0,this.customsEntryForm.rateOfExchange=this.entryDetails.rate_of_exchange,this.customsEntryForm.countryOfOrigin=this.entryDetails.country_of_origin,this.customsEntryForm.countryOfFinalDestination=this.entryDetails.country_of_final_destination,this.customsEntryForm.regimeType=this.entryDetails.regimeType,this.customsEntryForm.regimeTypeCode=this.entryDetails.regimeTypeCode,this.customsEntryForm.depositAmount=this.entryDetails.deposit,this.customsEntryForm.containerCharges=this.entryDetails.container_charges,this.customsEntryForm.additionalCharges=this.entryDetails.additional_charges,this.customsEntryForm.localFee=this.entryDetails.local_fee,this.customsEntryForm.declarantId=this.entryDetails.declarant,this.customsEntryForm.incoTerms=this.entryDetails.incoterms,this.customsEntryForm.countryLastProvinance=this.entryDetails.country_last_provenance,this.customsEntryForm.tradingCountry=this.entryDetails.trading_country,console.log("Commercial Invoice Raw Data: ",r.data),this.commercialInvoices=r.data,this.parseInvoiceData(),this.getTotalNumberOfLines(),this.getRegimeTypes(),console.log("Entry details:",this.entryDetails),console.log("Customs Entry:",this.customsEntryForm),console.log("Commercial invoices:",this.commercialInvoices)}catch(t){this.error="Failed to load entry details: "+(t.response?.data||t.message),console.error("Failed to load entry details:",t),Pt("Failed to load Entry Details! Please Reach out to Administrator")}finally{this.loading=!1}},formatDate(e){const t=new Date(e),o=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${o}-${a}-${r}`},formatDateForInput(e){return Zr()(e).tz("UTC").format("YYYY-MM-DD")},parseInvoiceData(){console.log("Parsing Invoice Data"),this.commercialInvoices.forEach((e=>{e.vendor_name=e.supplier_name,e.lines.forEach((e=>{e.quantity=parseFloat(e.quantity).toFixed(2),e.unit_price=parseFloat(e.unit_price),e.extension_price=parseFloat(e.extension_price).toFixed(2),e.vatApplicable=this.convertTinyIntoBoolean(e.vat_applicable),e.cpcCode=e.cpc_code,e.npcCode=e.npc_code}))}))},async getRegimeTypes(){ze("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e}))},async fetchNpcCodes(){Qe().then((e=>{this.npcCodeOptions=e,console.log("NPC Codes: ",e)}))},async updateWaybillData(){return this.waybill={waybill_number:this.entryDetails.waybill_number,waybill_date:this.entryDetails.waybill_date,mode_of_transport:this.entryDetails.mode_of_transport,freight_type:this.entryDetails.freight_type,marks_and_numbers:this.entryDetails.marks_and_numbers,package_type:this.entryDetails.package_type,cpc_code:this.entryDetails.cpc_code,npc_code:this.entryDetails.npc_code,package_quantity:this.entryDetails.package_quantity,country_of_origin:this.entryDetails.country_of_origin,country_of_final_destination:this.customsEntryForm.countryOfFinalDestination,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,port_of_discharge:this.customsEntryForm.portOfDischargeId,entry_id:this.entryDetails.entry_id,waybill_id:this.entryDetails.waybill_id},console.log("Saving Waybill Data: ",this.waybill),console.log(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/waybill/${this.waybill.waybill_id}`),Se().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/waybill/${this.waybill.waybill_id}`,this.waybill)},async updateEntryData(){return this.entry={mawi_invoice:this.entryDetails.mawi_invoice,entry_date:this.entryDetails.entry_date,invoice_total:this.entryDetails.invoice_total,supplier_name:this.entryDetails.supplier_name,net_weight:this.customsEntryForm.netWeight,gross_weight:this.customsEntryForm.grossWeight,entry_number:this.entryDetails.entry_number,freight_charge:this.customsEntryForm.freightAmount,insurance_amount:this.customsEntryForm.insuranceAmount??0,other_charges:this.customsEntryForm.otherCharges??0,rate_of_exchange:this.entryDetails.rate_of_exchange,consignee:this.entryDetails.consignee,declarant:this.customsEntryForm.declarantId,incoterms:this.customsEntryForm.incoTerms,regime_type:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,container_charges:this.customsEntryForm.containerCharges,additional_charges:this.customsEntryForm.additionalCharges,local_fee:this.customsEntryForm.localFee,country_last_provenance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry},console.log("Saving Entry",this.entry),Se().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/customs-entry/${this.entryDetails.entry_id}`,this.entry)},async saveInvoiceData(){const e=this.commercialInvoices.map((e=>{const t=this.formatInvoiceData(e),o=this.formatInvoiceLinesData(e.lines),a={invoiceData:t,invoiceLines:o};return console.log("Updating invoice and invoice lines:",a),Se().put(`https://mawifrontentcontainerapp.whitestone-99c262a0.eastus.azurecontainerapps.io/api/update-invoice-and-lines/${t.invoice_id}`,a)}));return Promise.all(e)},checkTHNCodes(){let e=this.commercialInvoices;return e.forEach((e=>{e.lines.forEach((e=>{if(!e.tariff_code||""===e.tariff_code.trim()||"N/A"===e.tariff_code||void 0===e.tariff_code||null===e.tariff_code)return!1}))})),!0},generateAsycudaXML(){console.log("Generating Asycuda XML");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId)),t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId));if(void 0===t.taxIdentificationNumber||0===t.taxIdentificationNumber.trim().length)return void Pt("Missing Importer Tax Identification Number! Please Update Importer Details!");const o=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),a=this.customsEntryForm.declarants.find((e=>e.id===this.customsEntryForm.declarantId)),r=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin)),n=Lt(this.commercialInvoices,this.entryDetails?.entry_number,this.customsEntryForm.waybillNumber,this.customsEntryForm.grossWeight,this.customsEntryForm.netWeight,this.customsEntryForm.numberOfPackages,this.customsEntryForm.packageType,this.customsEntryForm.marksAndNumbers,this.customsEntryForm.freightAmount,this.availableCPCCodes,this.totalFOBValue),s=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(0,2),l=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(2),i={reference_number:this.entryDetails?.entry_number,group_items:!0,waybill:{number:this.customsEntryForm.waybillNumber,external_freight:this.customsEntryForm.freightAmount,insurance:void 0==this.customsEntryForm.insuranceAmount?0:this.customsEntryForm.insuranceAmount,other_charges:void 0==this.customsEntryForm.otherCharges?0:this.customsEntryForm.otherCharges,importer:{name:t?.name,tax_identification_number:void 0==t.taxIdentificationNumber?"":t.taxIdentificationNumber},exporter:{name:`${o?.name}\n${o?.address}`,tax_identification_number:void 0==o.taxIdentificationNumber?"":o.taxIdentificationNumber},declarant:{name:a?.name,tax_identification_number:void 0==a.taxIdentificationNumber?"":a.taxIdentificationNumber},mode_of_transport:"Ocean"===this.customsEntryForm.modeOfTransport?"1":"Air"===this.customsEntryForm.modeOfTransport?"4":"",container_flag:!1,vessel:this.customsEntryForm.vesselName,country_of_origin:this.customsEntryForm.countryOfOrigin,country_of_destination:void 0==this.customsEntryForm.countryOfFinalDestination?"":this.customsEntryForm.countryOfFinalDestination,number_of_packages:this.customsEntryForm.numberOfPackages+"",type_of_declaration:s,general_procedural_code:l,office_of_destination:e.asycudaCode,country_last_provinance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry,country_export:this.customsEntryForm.countryOfOrigin,delivery_terms:this.customsEntryForm.incoTerms,delivery_terms_place:this.customsEntryForm.countryOfOrigin,place_of_terms:r?.name,local_currency:"TTD",office_of_entry:e.asycudaCode,location_of_goods:""},invoices:n};console.log("XML Data: ",i),Vt("Generating Asycuda XML..."),nt(i).then((e=>{wt(),Ot("Asycuda XML Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/xml"})),o=document.createElement("a"),a=`Asycuda XML - ${this.entryDetails?.entry_number}.xml`;o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((e=>{console.error("Failed to generate Asycuda XML:",e),Pt("Failed to generate Asycuda XML!")}))},generateCSV(){if(!this.checkTHNCodes())return void alert("Please enter a THN code for all items before generating the CSV file");let e=this.entryDetails,t=this.commercialInvoices;const o=e=>void 0!==e&&null!==e?`"${e.toString().replace(/"/g,'""')}"`:"",a=["reference","waybill_number","Product Code","description","commodity_code","quantity","unitcost","total","gross_weight","net_weight","country_origin_code","package_quantity","kind_of_package","marks_and_numbers","customs_procedure_code","national_procedure_code","exchange_rate","external_freight"];let r=a.join(",")+"\n";console.log(e);let n=0;t.forEach((t=>{let a="0",s="0";0===n&&(a=this.customsEntryForm.numberOfPackages,s=parseFloat(this.customsEntryForm.freightAmount)*parseFloat(t.rate_of_exchange),s=s.toFixed(2)),n++;for(let n=0;n<t.lines.length;n++){const l=t.lines[n],i=[o(e.entry_number),o(this.customsEntryForm.waybillNumber),o(l.product_code),o(l.description),o(l.tariff_code.replace(/\./g,"")),o(l.quantity),o(l.unit_price),o(l.extension_price),o(this.customsEntryForm.grossWeight),o(this.customsEntryForm.netWeight),o(l.country_of_origin),o(a),o(this.customsEntryForm.packageType),o(this.customsEntryForm.marksAndNumbers),o("4000"),o("0000"),o(t.rate_of_exchange),o(s)];r+=i.join(",")+"\n"}}));const s=new Blob([r],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),i=document.createElement("a"),c=`GABRIEL-Export - ${e.entry_number}.csv`;i.setAttribute("href",l),i.setAttribute("download",c),document.body.appendChild(i),i.click(),document.body.removeChild(i),Ot("Successfully Generated CSV File!")}}};const tn=(0,D.A)(en,[["render",zr]]);var on=tn;const an=e=>((0,n.Qi)("data-v-b425655a"),e=e(),(0,n.jt)(),e),rn={class:"container mt-4"},nn=an((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Trinidad & Tobago",-1))),sn=an((()=>(0,n.Lk)("h1",{class:"text-center mb-4"},"Customs Declaration Form E-C75",-1)));function ln(e,t,o,a,s,l){const i=(0,n.g2)("CustomsDeclarationSectionOne"),c=(0,n.g2)("CustomsDeclarationSectionTwo"),u=(0,n.g2)("CustomsDeclarationSectionThree"),d=(0,n.g2)("CustomsDeclarationSectionFour");return(0,n.uX)(),(0,n.CE)("div",rn,[nn,sn,(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>l.generateC75Declaration&&l.generateC75Declaration(...e)),["prevent"])),class:"my-form-container"},[(0,n.bF)(i,{buyerIdProp:this.$route.query.buyerId,customsDeclarationSectionOne:s.form.customsDeclarationSectionOne,onUpdateSectionOne:t[0]||(t[0]=e=>s.form.customsDeclarationSectionOne=e)},null,8,["buyerIdProp","customsDeclarationSectionOne"]),(0,n.bF)(c,{customsDeclarationSectionTwo:s.form.customsDeclarationSectionTwo,customsDeclarationSectionOne:s.form.customsDeclarationSectionOne,onUpdateSectionTwo:t[1]||(t[1]=e=>s.form.customsDeclarationSectionTwo=e)},null,8,["customsDeclarationSectionTwo","customsDeclarationSectionOne"]),(0,n.bF)(u,{customsDeclarationSectionThree:s.form.customsDeclarationSectionThree,onUpdateSectionThree:t[2]||(t[2]=e=>s.form.customsDeclarationSectionThree=e)},null,8,["customsDeclarationSectionThree"]),(0,n.bF)(d,{customsDeclarationSectionFour:s.form.customsDeclarationSectionFour,customsDeclarationSectionThree:s.form.customsDeclarationSectionThree,onUpdateSectionFour:t[3]||(t[3]=e=>s.form.customsDeclarationSectionFour=e)},null,8,["customsDeclarationSectionFour","customsDeclarationSectionThree"])],32),(0,n.Lk)("table",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[5]||(t[5]=(...e)=>l.generateC75Declaration&&l.generateC75Declaration(...e))},"Generate Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>l.generatePreSignedValuation&&l.generatePreSignedValuation(...e))},"Generate Pre-Signed Valuation Form")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>l.generatePreSignedValuationVersionTwo&&l.generatePreSignedValuationVersionTwo(...e))},"Generate Pre-Signed Valuation Form Version 2")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[8]||(t[8]=(...e)=>l.generateBlanlValuationForPreSigning&&l.generateBlanlValuationForPreSigning(...e))},"Generate Blank Valuation for Pre-Signing")])])])])}const cn=e=>((0,n.Qi)("data-v-981f814e"),e=e(),(0,n.jt)(),e),un={class:"row"},dn={class:"col-md-6"},mn={class:"form-group"},pn=cn((()=>(0,n.Lk)("label",{for:"sellerNameAddress"},[(0,n.Lk)("strong",null,"1. Name and Address of Seller (Block Letters)")],-1))),hn=cn((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Seller",-1))),yn=["value"],gn={class:"form-group"},fn=["value"],bn={class:"col-md-6"},vn={class:"form-group"},kn=cn((()=>(0,n.Lk)("label",{for:"buyerNameAddress"},[(0,n.Lk)("strong",null,"2(a) Name and Address of Buyer (Block Letters)")],-1))),Ln=cn((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Buyer",-1))),Dn=["value"],_n={class:"form-group"},Cn=["value"],Fn={class:"row"},En={class:"col-md-6"},Tn={class:"form-group"},Sn=cn((()=>(0,n.Lk)("label",{for:"declarantNameAddress"},[(0,n.Lk)("strong",null,"2(b) Name and Address of Declarant (Block Letters)")],-1))),In=cn((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Declarant",-1))),xn=["value"],Nn={class:"form-group"},An=["value"],On=cn((()=>(0,n.Lk)("div",{class:"col-md-6"},null,-1))),wn={class:"row"},Pn={class:"col-md-4"},Vn={class:"form-group"},Rn=cn((()=>(0,n.Lk)("label",{for:"termsOfDelivery",class:"form-label"},[(0,n.Lk)("strong",null,"3. Terms of Delivery (INCOTERM)")],-1))),Un=cn((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select an Incoterm",-1))),Bn=["value"],jn={class:"col-md-4"},Wn={class:"form-group"},$n=cn((()=>(0,n.Lk)("label",{for:"invoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"4. Number and Date of Invoice")],-1))),Xn={class:"col-md-4"},Gn={class:"form-group"},Mn=cn((()=>(0,n.Lk)("label",{for:"contractNumber",class:"form-label"},[(0,n.Lk)("strong",null,"5. Number and Date of Contract")],-1)));function Jn(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",un,[(0,n.Lk)("div",dn,[(0,n.Lk)("div",mn,[pn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.sellerId=e),onChange:t[1]||(t[1]=e=>l.updateField("sellerNameAddress",e.target.value))},[hn,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,E.v_)(e.name),9,yn)))),128))],544),[[r.u1,s.localData.sellerId]])]),(0,n.Lk)("div",gn,[(0,n.Lk)("textarea",{class:"form-control",id:"sellerNameAddress",rows:"4",onInput:t[2]||(t[2]=e=>l.updateField("sellerNameAddress",e.target.value)),required:"",readonly:"",value:l.selectedSeller},null,40,fn)]),(0,n.eW)('" ')]),(0,n.Lk)("div",bn,[(0,n.Lk)("div",vn,[kn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>s.localData.buyerId=e),onChange:t[4]||(t[4]=e=>l.updateField("buyerNameAddress",e.target.value))},[Ln,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,E.v_)(e.name),9,Dn)))),128))],544),[[r.u1,s.localData.buyerId]])]),(0,n.Lk)("div",_n,[(0,n.Lk)("textarea",{class:"form-control",id:"buyerNameAddress",rows:"4",onInput:t[5]||(t[5]=e=>l.updateField("buyerNameAddress",e.target.value)),required:"",readonly:"",value:l.selectedBuyer},null,40,Cn)])])]),(0,n.Lk)("div",Fn,[(0,n.Lk)("div",En,[(0,n.Lk)("div",Tn,[Sn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.declarantId=e),onChange:t[7]||(t[7]=e=>l.updateField("declarantNameAddress",e.target.value))},[In,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.localData.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.id},(0,E.v_)(e.name),9,xn)))),128))],544),[[r.u1,s.localData.declarantId]])]),(0,n.Lk)("div",Nn,[(0,n.Lk)("textarea",{class:"form-control",id:"declarantNameAddress",rows:"4",onInput:t[8]||(t[8]=e=>l.updateField("declarantNameAddress",e.target.value)),required:"",readonly:"",value:l.selectedDeclarant},null,40,An)])]),On]),(0,n.Lk)("div",wn,[(0,n.Lk)("div",Pn,[(0,n.Lk)("div",Vn,[Rn,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=e=>s.localData.termsOfDelivery=e),onChange:t[10]||(t[10]=e=>l.updateField("termsOfDelivery",e.target.value))},[Un,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.incoterms,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.code},(0,E.v_)(e.code)+" - "+(0,E.v_)(e.name),9,Bn)))),128))],544),[[r.u1,s.localData.termsOfDelivery]])])]),(0,n.Lk)("div",jn,[(0,n.Lk)("div",Wn,[$n,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"invoiceNumber",placeholder:"e.g., 202313 2024/10/20","onUpdate:modelValue":t[11]||(t[11]=e=>s.localData.invoiceNumber=e),onInput:t[12]||(t[12]=e=>l.updateField("invoiceNumber",e.target.value)),required:""},null,544),[[r.Jo,s.localData.invoiceNumber]])])]),(0,n.Lk)("div",Xn,[(0,n.Lk)("div",Gn,[Mn,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"contractNumber",placeholder:"e.g., 123456 2024/10/22","onUpdate:modelValue":t[13]||(t[13]=e=>s.localData.contractNumber=e),onInput:t[14]||(t[14]=e=>l.updateField("contractNumber",e.target.value)),required:""},null,544),[[r.Jo,s.localData.contractNumber]])])])])])}var qn={props:["customsDeclarationSectionOne","buyerIdProp"],name:"CustomsDeclarationSectionOne",mounted(){this.getConfigurations(),this.incoterms=Pa()},data(){return{localData:this.customsDeclarationSectionOne,myBuyerId:this.buyerIdProp,incoterms:[]}},computed:{selectedSeller(){const e=this.localData.sellers.find((e=>e.id===this.localData.sellerId)),t=e?`${e.name} \n ${e.address}`:"";return t},selectedBuyer(){const e=this.localData.buyers.find((e=>e.id===this.localData.buyerId));return e?`${e.name} \n ${e.address}`:""},selectedDeclarant(){const e=this.localData.declarants.find((e=>e.id===this.localData.declarantId));return e?`${e.name} \n ${e.address}`:""},declarantStatus(){const e=this.declarants.find((e=>e.id===this.localData.declarantId));return e?e.status:""}},methods:{updateField(e,t){this.localData[e]=t,this.$emit("update-section-one",this.localData)},async getConfigurations(){console.log("Fetching sellers, buyers, and declarants"),Promise.all([Me(),$e(),et(),Xe(),qe()]).then((([e,t,o,a,r])=>{this.localData.sellers=e,this.localData.buyers=t,this.localData.vessels=o,this.localData.declarants=a,this.countryList=r}))}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){this.localData={...e}}}}};const Hn=(0,D.A)(qn,[["render",Jn],["__scopeId","data-v-981f814e"]]);var Yn=Hn;const Kn=e=>((0,n.Qi)("data-v-54aa40c3"),e=e(),(0,n.jt)(),e),zn={class:"row"},Qn={class:"col-md-6"},Zn={class:"form-group"},es=Kn((()=>(0,n.Lk)("label",null,[(0,n.Lk)("strong",null,"7 (a) Are the buyer and seller RELATED?")],-1))),ts={class:"form-check"},os=Kn((()=>(0,n.Lk)("label",{for:"related-yes"},"YES",-1))),as=Kn((()=>(0,n.Lk)("label",{for:"related-no"},"NO",-1))),rs={key:0},ns=Kn((()=>(0,n.Lk)("label",{for:"influencePrice"},[(0,n.Lk)("strong",null,"7 (b) Did the relationship INFLUENCE the price of the imported goods?")],-1))),ss={class:"form-check"},ls=Kn((()=>(0,n.Lk)("label",{for:"influence-price-yes"},"YES",-1))),is=Kn((()=>(0,n.Lk)("label",{for:"influence-price-no"},"NO",-1))),cs={key:1},us=Kn((()=>(0,n.Lk)("label",{for:"transactionValueApproximate"},[(0,n.Lk)("strong",null,"7 (c) Does the transaction value of the imported goods closely approximate to a value mentioned in Paragraph 3(2)(b)?")],-1))),ds={class:"form-check"},ms=Kn((()=>(0,n.Lk)("label",{for:"transaction-value-yes"},"YES",-1))),ps=Kn((()=>(0,n.Lk)("label",{for:"transaction-value-no"},"NO",-1))),hs={key:2},ys={class:"col-md-6"},gs={class:"form-group"},fs=Kn((()=>(0,n.Lk)("label",{for:"restrictions"},[(0,n.Lk)("strong",null,"8 (a) Are there any RESTRICTIONS to the disposition or use of the goods?")],-1))),bs={class:"form-check"},vs=Kn((()=>(0,n.Lk)("label",{for:"restrictions-yes"},"YES",-1))),ks=Kn((()=>(0,n.Lk)("label",{for:"restrictions-no"},"NO",-1))),Ls={key:0},Ds=Kn((()=>(0,n.Lk)("label",{for:"conditions"},[(0,n.Lk)("strong",null,"8 (b) Is the sale or price subject to some CONDITION or CONSIDERATION?")],-1))),_s={class:"form-check"},Cs=Kn((()=>(0,n.Lk)("label",{for:"conditions-yes"},"YES",-1))),Fs=Kn((()=>(0,n.Lk)("label",{for:"conditions-no"},"NO",-1))),Es={key:1},Ts=Kn((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (a) Are any ROYALTIES AND LICENCE FEES related to the imported goods payable?")],-1))),Ss={class:"form-check"},Is=Kn((()=>(0,n.Lk)("label",{for:"royalties-yes"},"YES",-1))),xs=Kn((()=>(0,n.Lk)("label",{for:"royalties-no"},"NO",-1))),Ns={key:2},As=Kn((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"9 (b) Is the sale subject to an arrangement under which part of the proceeds of any subsequent RESALE, DISPOSAL or USE accures directy or indirectly to the seller?")],-1))),Os={class:"form-check"},ws=Kn((()=>(0,n.Lk)("label",{for:"resale-yes"},"YES",-1))),Ps=Kn((()=>(0,n.Lk)("label",{for:"resale-no"},"NO",-1))),Vs={key:3},Rs={class:"row"},Us={class:"col-md-6"},Bs={class:"form-group"},js=Kn((()=>(0,n.Lk)("label",{for:"signatory_name"},[(0,n.Lk)("strong",null,"Name of Signatory")],-1))),Ws={class:"form-group"},$s=Kn((()=>(0,n.Lk)("label",{for:"date_signed"},[(0,n.Lk)("strong",null,"Date Signed")],-1))),Xs={class:"col-md-6"},Gs={class:"form-group"},Ms=Kn((()=>(0,n.Lk)("label",{for:"status_of_signatory"},[(0,n.Lk)("strong",null,"Status of Signatory")],-1))),Js={class:"form-group"},qs=Kn((()=>(0,n.Lk)("label",{for:"signatory_phone_number"},[(0,n.Lk)("strong",null,"Signatory Phone Number")],-1)));function Hs(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",zn,[(0,n.Lk)("div",Qn,[(0,n.Lk)("div",Zn,[es,(0,n.Lk)("div",ts,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-yes",value:"yes","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.relatedParties=e),onChange:t[1]||(t[1]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.relatedParties]]),os,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"related-no",value:"no","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.relatedParties=e),onChange:t[3]||(t[3]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.relatedParties]]),as]),"yes"===s.localData.relatedParties?((0,n.uX)(),(0,n.CE)("div",rs,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"related-notes",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.relatedDetails=e),rows:"3",onInput:t[5]||(t[5]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.relatedDetails]])])):(0,n.Q3)("",!0),ns,(0,n.Lk)("div",ss,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-yes",value:"yes","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.influencePrice=e),onChange:t[7]||(t[7]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.influencePrice]]),ls,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"influence-price-no",value:"no","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.influencePrice=e),onChange:t[9]||(t[9]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.influencePrice]]),is]),"yes"===s.localData.influencePrice?((0,n.uX)(),(0,n.CE)("div",cs,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"influence-price-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.influencePriceDetails=e),rows:"3",onInput:t[11]||(t[11]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.influencePriceDetails]])])):(0,n.Q3)("",!0),us,(0,n.Lk)("div",ds,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-yes",value:"yes","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.transactionValueApproximate=e),onChange:t[13]||(t[13]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.transactionValueApproximate]]),ms,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"transaction-value-no",value:"no","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.transactionValueApproximate=e),onChange:t[15]||(t[15]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.transactionValueApproximate]]),ps]),"yes"===s.localData.transactionValueApproximate?((0,n.uX)(),(0,n.CE)("div",hs,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"transaction-value-details",placeholder:"If 'YES', give details.","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.transactionValueDetails=e),rows:"3",onInput:t[17]||(t[17]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.transactionValueDetails]])])):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",ys,[(0,n.Lk)("div",gs,[fs,(0,n.Lk)("div",bs,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-yes",value:"yes","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.restrictions=e),onChange:t[19]||(t[19]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.restrictions]]),vs,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"restrictions-no",value:"no","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.restrictions=e),onChange:t[21]||(t[21]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.restrictions]]),ks]),"yes"===s.localData.restrictions?((0,n.uX)(),(0,n.CE)("div",Ls,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"restrictions-details",placeholder:"Specify the nature of the restrictions.","onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.restrictionsDetails=e),rows:"3",onInput:t[23]||(t[23]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.restrictionsDetails]])])):(0,n.Q3)("",!0),Ds,(0,n.Lk)("div",_s,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-yes",value:"yes","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.conditions=e),onChange:t[25]||(t[25]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.conditions]]),Cs,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"conditions-no",value:"no","onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.conditions=e),onChange:t[27]||(t[27]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.conditions]]),Fs]),"yes"===s.localData.conditions?((0,n.uX)(),(0,n.CE)("div",Es,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"conditions-details",placeholder:"Specify the nature of the conditions or considerations.","onUpdate:modelValue":t[28]||(t[28]=e=>s.localData.conditionsDetails=e),rows:"3",onInput:t[29]||(t[29]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.conditionsDetails]])])):(0,n.Q3)("",!0),Ts,(0,n.Lk)("div",Ss,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-yes",value:"yes","onUpdate:modelValue":t[30]||(t[30]=e=>s.localData.royalties=e),onChange:t[31]||(t[31]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.royalties]]),Is,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"royalties-no",value:"no","onUpdate:modelValue":t[32]||(t[32]=e=>s.localData.royalties=e),onChange:t[33]||(t[33]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.royalties]]),xs]),"yes"===s.localData.royalties?((0,n.uX)(),(0,n.CE)("div",Ns,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"royalties-details",placeholder:"Specify conditions and, if possible, amounts.","onUpdate:modelValue":t[34]||(t[34]=e=>s.localData.royaltiesDetails=e),rows:"3",onInput:t[35]||(t[35]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.royaltiesDetails]])])):(0,n.Q3)("",!0),As,(0,n.Lk)("div",Os,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-yes",value:"yes","onUpdate:modelValue":t[36]||(t[36]=e=>s.localData.resale_disposal_boolean=e),onChange:t[37]||(t[37]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.resale_disposal_boolean]]),ws,(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"resale-no",value:"no","onUpdate:modelValue":t[38]||(t[38]=e=>s.localData.resale_disposal_boolean=e),onChange:t[39]||(t[39]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.XL,s.localData.resale_disposal_boolean]]),Ps]),"yes"===s.localData.resale_disposal_boolean?((0,n.uX)(),(0,n.CE)("div",Vs,[(0,n.bo)((0,n.Lk)("textarea",{class:"form-control",id:"resale-details",placeholder:"Please Specify conditions","onUpdate:modelValue":t[40]||(t[40]=e=>s.localData.resaleDetails=e),rows:"3",onInput:t[41]||(t[41]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.resaleDetails]])])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",Rs,[(0,n.Lk)("div",Us,[(0,n.Lk)("div",Bs,[js,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_name","onUpdate:modelValue":t[42]||(t[42]=e=>s.localData.signatory_name=e),onInput:t[43]||(t[43]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.signatory_name]])]),(0,n.Lk)("div",Ws,[$s,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control",id:"date_signed","onUpdate:modelValue":t[44]||(t[44]=e=>s.localData.date_signed=e),onInput:t[45]||(t[45]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.date_signed]])])]),(0,n.Lk)("div",Xs,[(0,n.Lk)("div",Gs,[Ms,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"status_of_signatory","onUpdate:modelValue":t[46]||(t[46]=e=>s.localData.status_of_signatory=e),onInput:t[47]||(t[47]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.status_of_signatory]])]),(0,n.Lk)("div",Js,[qs,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"signatory_phone_number","onUpdate:modelValue":t[48]||(t[48]=e=>s.localData.signatory_phone_number=e),onInput:t[49]||(t[49]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.signatory_phone_number]])])])])])}var Ys={props:["customsDeclarationSectionTwo","customsDeclarationSectionOne"],name:"CustomsDeclarationSectionTwo",data(){return{localData:this.customsDeclarationSectionTwo}},methods:{updateSection(){this.$emit("update-section-two",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionOne:{deep:!0,handler(e){const t=e.declarantId,o=e.declarants?.find((e=>e.id===t));console.log(o),this.localData.status_of_signatory=o?.status,this.localData.signatory_name=o?.name,this.localData.signatory_phone_number=o?.phoneContact}},customsDeclarationSectionTwo:{deep:!0,handler(e){this.localData={...e}}}}};const Ks=(0,D.A)(Ys,[["render",Hs],["__scopeId","data-v-54aa40c3"]]);var zs=Ks;const Qs=e=>((0,n.Qi)("data-v-ba557e10"),e=e(),(0,n.jt)(),e),Zs={class:"row"},el={class:"col-md-4"},tl={class:"form-group"},ol=Qs((()=>(0,n.Lk)("label",{for:"netPrice"},[(0,n.Lk)("strong",null,"11(a) Net price in CURRENCY OF INVOICE")],-1))),al={class:"col-md-4"},rl={class:"form-group"},nl=Qs((()=>(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1))),sl=Qs((()=>(0,n.Lk)("option",{value:"",disabled:""},"Select a Currency",-1))),ll=["value"],il={class:"col-md-4"},cl={class:"form-group"},ul=Qs((()=>(0,n.Lk)("label",{for:"exchangeRate"},[(0,n.Lk)("strong",null,"Rate of exchange")],-1))),dl={class:"row"},ml={class:"col-md-6"},pl={class:"form-group"},hl=Qs((()=>(0,n.Lk)("label",{for:"indirectPayments"},[(0,n.Lk)("strong",null,"11(b) Indirect payments - see box 8 (b)")],-1))),yl={class:"col-md-6"},gl={class:"form-group"},fl=Qs((()=>(0,n.Lk)("label",{for:"totalNationalCurrency"},[(0,n.Lk)("strong",null,"12. TOTAL A in National Currency (TTS)")],-1))),bl={class:"row form-group"},vl=Qs((()=>(0,n.Lk)("label",{for:"costsIncurred"},[(0,n.Lk)("strong",null,"13. Costs incurred by the buyer")],-1))),kl={class:"col-md-4"},Ll={class:"col-md-4"},Dl={class:"col-md-4"},_l={class:"row"},Cl=Qs((()=>(0,n.Lk)("label",{for:"goodsServices"},[(0,n.Lk)("strong",null,"14. Goods and services supplied by the buyer")],-1))),Fl={class:"col-md-6"},El={class:"col-md-6 form-group"},Tl={class:"row form-group"},Sl={class:"col-md-6"},Il=Qs((()=>(0,n.Lk)("label",{for:"royalties"},[(0,n.Lk)("strong",null,"15. Royalties and licence fees")],-1))),xl={class:"col-md-6"},Nl=Qs((()=>(0,n.Lk)("label",{for:"proceedsResale"},[(0,n.Lk)("strong",null,"16. Proceeds of any subsequent resale, disposal or use accruing to the seller")],-1))),Al={class:"row"},Ol=Qs((()=>(0,n.Lk)("label",{for:"costOfDelivery"},[(0,n.Lk)("strong",null,"17. Cost of delivery to Trinidad and Tobago")],-1))),wl={class:"col-md-6"},Pl={class:"form-group"},Vl=Qs((()=>(0,n.Lk)("label",{for:"transport"},[(0,n.Lk)("strong",null,"Transport")],-1))),Rl=["disabled"],Ul={class:"form-group"},Bl={class:"form-check"},jl=Qs((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeTransportInTotal"},"Transportation cost included in the invoice total",-1))),Wl={class:"form-group"},$l=Qs((()=>(0,n.Lk)("label",{for:"loadingHandling"},[(0,n.Lk)("strong",null,"Loading and handling charges")],-1))),Xl={class:"col-md-6"},Gl={class:"form-group"},Ml=Qs((()=>(0,n.Lk)("label",{for:"insurance"},[(0,n.Lk)("strong",null,"Insurance")],-1))),Jl=["disabled"],ql={class:"form-check"},Hl=Qs((()=>(0,n.Lk)("label",{class:"form-check-label",for:"includeInsuranceInTotal"},"Insurance cost included in the invoice total",-1))),Yl={class:"form-group"},Kl=Qs((()=>(0,n.Lk)("label",{for:"totalB"},[(0,n.Lk)("strong",null,"18. TOTAL B")],-1)));function zl(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Zs,[(0,n.Lk)("div",el,[(0,n.Lk)("div",tl,[ol,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"netPrice","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.netPrice=e),onInput:t[1]||(t[1]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.netPrice]])])]),(0,n.Lk)("div",al,[(0,n.Lk)("div",rl,[nl,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.invoiceCurrency=e),onChange:t[3]||(t[3]=e=>l.updateField("invoiceCurrency",e.target.value))},[sl,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.currencies,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.code)+" - "+(0,E.v_)(e.name),9,ll)))),128))],544),[[r.u1,s.localData.invoiceCurrency]])])]),(0,n.Lk)("div",il,[(0,n.Lk)("div",cl,[ul,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"exchangeRate","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.exchangeRate=e),onInput:t[5]||(t[5]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.exchangeRate]])])])]),(0,n.Lk)("div",dl,[(0,n.Lk)("div",ml,[(0,n.Lk)("div",pl,[hl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"indirectPayments","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.indirectPayments=e),onInput:t[7]||(t[7]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.indirectPayments]])])]),(0,n.Lk)("div",yl,[(0,n.Lk)("div",gl,[fl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalNationalCurrency","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.totalNationalCurrency=e),onInput:t[9]||(t[9]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.totalNationalCurrency]])])])]),(0,n.Lk)("div",bl,[vl,(0,n.Lk)("div",kl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"commissions","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.commissions=e),placeholder:"commissions, except buying commissions",onInput:t[11]||(t[11]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.commissions]])]),(0,n.Lk)("div",Ll,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"brokerage","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.brokerage=e),placeholder:"brokerage",onInput:t[13]||(t[13]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.brokerage]])]),(0,n.Lk)("div",Dl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"containersPacking","onUpdate:modelValue":t[14]||(t[14]=e=>s.localData.containersPacking=e),placeholder:"containers and packing",onInput:t[15]||(t[15]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.containersPacking]])])]),(0,n.Lk)("div",_l,[Cl,(0,n.Lk)("div",Fl,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materials","onUpdate:modelValue":t[16]||(t[16]=e=>s.localData.materials=e),placeholder:"materials, component, parts incorporated in the good",onInput:t[17]||(t[17]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.materials]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"tools","onUpdate:modelValue":t[18]||(t[18]=e=>s.localData.tools=e),placeholder:"tools, dies, moulds used in the production",onInput:t[19]||(t[19]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.tools]])]),(0,n.Lk)("div",El,[(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"materialsConsumed","onUpdate:modelValue":t[20]||(t[20]=e=>s.localData.materialsConsumed=e),placeholder:"materials consumed in the production",onInput:t[21]||(t[21]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.materialsConsumed]]),(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"engineering","onUpdate:modelValue":t[22]||(t[22]=e=>s.localData.engineering=e),placeholder:"engineering, development, artwork, design work",onInput:t[23]||(t[23]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.engineering]])])]),(0,n.Lk)("div",Tl,[(0,n.Lk)("div",Sl,[Il,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"royalties","onUpdate:modelValue":t[24]||(t[24]=e=>s.localData.royalties=e),onInput:t[25]||(t[25]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.royalties]])]),(0,n.Lk)("div",xl,[Nl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"proceedsResale","onUpdate:modelValue":t[26]||(t[26]=e=>s.localData.proceedsResale=e),onInput:t[27]||(t[27]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.proceedsResale]])])]),(0,n.Lk)("div",Al,[Ol,(0,n.Lk)("div",wl,[(0,n.Lk)("div",Pl,[Vl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"transport",disabled:s.localData.transportIncluded,"onUpdate:modelValue":t[28]||(t[28]=e=>s.localData.transport=e),placeholder:"transport",onInput:t[29]||(t[29]=(...e)=>l.updateSection&&l.updateSection(...e))},null,40,Rl),[[r.Jo,s.localData.transport]])]),(0,n.Lk)("div",Ul,[(0,n.Lk)("div",Bl,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeTransportInTotal",onChange:t[30]||(t[30]=(...e)=>l.handleTransportCheckboxChange&&l.handleTransportCheckboxChange(...e))},null,32),jl])]),(0,n.Lk)("div",Wl,[$l,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control mb-2",id:"loadingHandling","onUpdate:modelValue":t[31]||(t[31]=e=>s.localData.loadingHandling=e),placeholder:"loading and handling charges",onInput:t[32]||(t[32]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.loadingHandling]])])]),(0,n.Lk)("div",Xl,[(0,n.Lk)("div",Gl,[Ml,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"insurance",disabled:s.localData.insuranceIncluded,"onUpdate:modelValue":t[33]||(t[33]=e=>s.localData.insurance=e),placeholder:"insurance",onInput:t[34]||(t[34]=(...e)=>l.updateSection&&l.updateSection(...e))},null,40,Jl),[[r.Jo,s.localData.insurance]])]),(0,n.Lk)("div",ql,[(0,n.Lk)("input",{type:"checkbox",class:"form-check-input",id:"includeInsuranceInTotal",onChange:t[35]||(t[35]=(...e)=>l.handleInsuranceCheckboxChange&&l.handleInsuranceCheckboxChange(...e))},null,32),Hl]),(0,n.Lk)("div",Yl,[Kl,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",readonly:"",id:"totalB","onUpdate:modelValue":t[36]||(t[36]=e=>s.localData.totalB=e),onInput:t[37]||(t[37]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.totalB]])])])])])}var Ql={props:["customsDeclarationSectionThree"],name:"CustomsDeclarationSectionThree",data(){return{localData:this.customsDeclarationSectionThree,currencies:[{code:"USD",name:"United States Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"GBP",name:"British Pound Sterling"},{code:"AUD",name:"Australian Dollar"},{code:"CAD",name:"Canadian Dollar"},{code:"CHF",name:"Swiss Franc"},{code:"CNY",name:"Chinese Yuan"},{code:"SEK",name:"Swedish Krona"},{code:"NZD",name:"New Zealand Dollar"},{code:"MXN",name:"Mexican Peso"},{code:"SGD",name:"Singapore Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"NOK",name:"Norwegian Krone"},{code:"KRW",name:"South Korean Won"},{code:"TRY",name:"Turkish Lira"},{code:"INR",name:"Indian Rupee"},{code:"RUB",name:"Russian Ruble"},{code:"BRL",name:"Brazilian Real"},{code:"ZAR",name:"South African Rand"},{code:"TTD",name:"Trinidad and Tobago Dollar"}]}},methods:{handleTransportCheckboxChange(e){this.localData.transportIncluded=e.target.checked,this.localData.transportIncluded&&(this.localData.transport=0),this.updateSection()},handleInsuranceCheckboxChange(e){this.localData.insuranceIncluded=e.target.checked,this.localData.insuranceIncluded&&(this.localData.insurance=0),this.updateSection()},updateField(e,t){this.localData[e]=t,this.updateSection()},updateSection(){this.$emit("update-section-three",this.localData),console.log(this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){console.log(this.localData.transportIncluded,e.transportIncluded),this.localData={...e};let t=(parseFloat(this.localData.netPrice)+parseFloat(this.localData.indirectPayments))*parseFloat(this.localData.exchangeRate),o=parseFloat(this.localData.transport)+parseFloat(this.localData.loadingHandling)+parseFloat(this.localData.insurance);console.log(t,o),this.localData.totalNationalCurrency=parseFloat(t).toFixed(2),this.localData.totalB=parseFloat(o).toFixed(2)}}}};const Zl=(0,D.A)(Ql,[["render",zl],["__scopeId","data-v-ba557e10"]]);var ei=Zl;const ti=e=>((0,n.Qi)("data-v-5dd1db7d"),e=e(),(0,n.jt)(),e),oi={class:"row"},ai={class:"col-md-6"},ri={class:"form-group"},ni=ti((()=>(0,n.Lk)("label",{for:"costAfterArrival"},[(0,n.Lk)("strong",null,"19. Cost of transport after arrival at place of introduction on importation")],-1))),si={class:"form-group"},li=ti((()=>(0,n.Lk)("label",{for:"chargesAfterImportation"},[(0,n.Lk)("strong",null,"20. Charges for construction, erection, assembly, maintenance or technical assistance undertaken after importation")],-1))),ii={class:"form-group"},ci=ti((()=>(0,n.Lk)("label",{for:"otherCharges"},[(0,n.Lk)("strong",null,"21. Other charges (specify)")],-1))),ui={class:"col-md-6"},di={class:"form-group"},mi=ti((()=>(0,n.Lk)("label",{for:"customsDutiesTaxes"},[(0,n.Lk)("strong",null,"22. Customs duties and taxes payable in Trinidad and Tobago by reason of the importation or sale of the goods")],-1))),pi={class:"form-group"},hi=ti((()=>(0,n.Lk)("label",{for:"totalC"},[(0,n.Lk)("strong",null,"23. TOTAL C")],-1))),yi={class:"form-group"},gi=ti((()=>(0,n.Lk)("label",{for:"valueDeclared"},[(0,n.Lk)("strong",null,"24. VALUE DECLARED (A + B - C)")],-1))),fi={class:"mb-3"},bi=ti((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"NOTES to Box 10")],-1))),vi=ti((()=>(0,n.Lk)("p",null,"Declaration may be made by:",-1))),ki=ti((()=>(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"(a) the actual importer if an individual;"),(0,n.Lk)("li",null,"(b) a partner in the case of partnership;"),(0,n.Lk)("li",null,"(c) a director or the secretary in the case of an incorporated Company"),(0,n.Lk)("li",null,"(d) any employee duly authorised in writing by one of the aforementioned persons.")],-1))),Li=ti((()=>(0,n.Lk)("p",null,"(*): Where amounts are payable in FOREIGN CURRENCY, indicate in this section the amount in foreign currency and the rate of exchange by reference to each relevant element and item.",-1))),Di=ti((()=>(0,n.Lk)("label",{for:"foreignCurrency",class:"form-label"},"Reference",-1)));function _i(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",oi,[(0,n.Lk)("div",ai,[(0,n.Lk)("div",ri,[ni,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"costAfterArrival","onUpdate:modelValue":t[0]||(t[0]=e=>s.localData.costAfterArrival=e),onInput:t[1]||(t[1]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.costAfterArrival]])]),(0,n.Lk)("div",si,[li,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"chargesAfterImportation","onUpdate:modelValue":t[2]||(t[2]=e=>s.localData.chargesAfterImportation=e),onInput:t[3]||(t[3]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.chargesAfterImportation]])]),(0,n.Lk)("div",ii,[ci,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"otherCharges","onUpdate:modelValue":t[4]||(t[4]=e=>s.localData.otherCharges=e),onInput:t[5]||(t[5]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.otherCharges]])])]),(0,n.Lk)("div",ui,[(0,n.Lk)("div",di,[mi,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"customsDutiesTaxes","onUpdate:modelValue":t[6]||(t[6]=e=>s.localData.customsDutiesTaxes=e),onInput:t[7]||(t[7]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.customsDutiesTaxes]])]),(0,n.Lk)("div",pi,[hi,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"totalC","onUpdate:modelValue":t[8]||(t[8]=e=>s.localData.totalC=e),onInput:t[9]||(t[9]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.totalC]])]),(0,n.Lk)("div",yi,[gi,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control",id:"valueDeclared","onUpdate:modelValue":t[10]||(t[10]=e=>s.localData.valueDeclared=e),onInput:t[11]||(t[11]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.valueDeclared]])])])]),(0,n.Lk)("div",fi,[bi,vi,ki,Li,Di,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control mb-2",id:"foreignCurrency",placeholder:"11(a)","onUpdate:modelValue":t[12]||(t[12]=e=>s.localData.foreignCurrency=e),onInput:t[13]||(t[13]=(...e)=>l.updateSection&&l.updateSection(...e))},null,544),[[r.Jo,s.localData.foreignCurrency]])])])}var Ci={props:["customsDeclarationSectionFour","customsDeclarationSectionThree"],name:"CustomsDeclarationSectionFour",data(){return{localData:this.customsDeclarationSectionFour}},methods:{updateSection(){this.$emit("update-section-four",this.localData)}},watch:{customsDeclarationSectionThree:{deep:!0,handler(e){let t=(parseFloat(e.netPrice)+parseFloat(e.indirectPayments))*parseFloat(e.exchangeRate),o=parseFloat(e.transport)+parseFloat(e.loadingHandling)+parseFloat(e.insurance),a=t+parseFloat(o)-parseFloat(this.localData.totalC);this.localData.valueDeclared=parseFloat(a).toFixed(2)}},customsDeclarationSectionFour:{deep:!0,handler(e){this.localData={...e};let t=(parseFloat(this.customsDeclarationSectionThree.netPrice)+parseFloat(this.customsDeclarationSectionThree.indirectPayments))*parseFloat(this.customsDeclarationSectionThree.exchangeRate),o=parseFloat(this.customsDeclarationSectionThree.transport)+parseFloat(this.customsDeclarationSectionThree.loadingHandling)+parseFloat(this.customsDeclarationSectionThree.insurance),a=parseFloat(this.localData.costAfterArrival)+parseFloat(this.localData.chargesAfterImportation)+parseFloat(this.localData.otherCharges)+parseFloat(this.localData.customsDutiesTaxes);this.localData.totalC=parseFloat(a).toFixed(2);let r=t+o-parseFloat(a).toFixed(2);this.localData.valueDeclared=r.toFixed(2)}}}};const Fi=(0,D.A)(Ci,[["render",_i],["__scopeId","data-v-5dd1db7d"]]);var Ei=Fi,Ti={name:"CustomsDeclarationForm",components:{CustomsDeclarationSectionOne:Yn,CustomsDeclarationSectionTwo:zs,CustomsDeclarationSectionThree:ei,CustomsDeclarationSectionFour:Ei},props:{entryId:{type:[String,Number],required:!0},buyerId:{type:[String,Number],required:!0},sellerId:{type:[String,Number],required:!0},invoiceNumber:{type:[String,Number],required:!0},invoiceTotal:{type:[String,Number],required:!0},currency:{type:[String,Number],required:!0},rateOfExchange:{type:[String,Number],required:!0},freight:{type:[String,Number],required:!0},insurance:{type:[String,Number],required:!0}},mounted(){this.syncData(),this.currencies=Xt(),this.getCountries()},data(){return{newC75:!0,entryNumber:"",currencies:[],countries:[],form:{customsDeclarationSectionOne:{sellers:[],buyers:[],declarants:[],sellerNameAddress:"",buyerNameAddress:"",declarantNameAddress:""},customsDeclarationSectionTwo:{date_signed:this.getCurrentDate(),relatedParties:"no",influencePrice:"no",transactionValueApproximate:"no",restrictions:"no",conditions:"no",royalties:"no",resale_disposal_boolean:"no"},customsDeclarationSectionThree:{totalNationalCurrency:0,netPrice:0,indirectPayments:0,exchangeRate:1,transport:0,loadingHandling:0,insurance:0,totalB:0,transportIncluded:!1,insuranceIncluded:!1,invoiceCurrency:"USD"},customsDeclarationSectionFour:{costAfterArrival:0,chargesAfterImportation:0,otherCharges:0,customsDutiesTaxes:0,totalC:0,valueDeclared:0}}}},methods:{save75Declaration(){this.newC75?this.create75Declaration():this.updateC75Declaration()},getCountries(){qe().then((e=>{this.countries=e})).catch((e=>{console.error("Failed to get countries:",e)}))},getCurrentDate(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${a}-${o}-${t}`},async create75Declaration(){console.log("Saving C75 Declaration...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),o=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),a=e?`${e.name} \n ${e.address}`:"",r=t?`${t.name} \n ${t.address}`:"",n=o?`${o.name} \n ${o.address}`:"",s=o?o.status:"",l=o?.phone?o.phone:"",i=o?o.name:"";Vt("Saving Data...");const c={sellerNameAddress:a,buyerNameAddress:r,declarantNameAddress:n,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:s,signatory_phone_number:l,signatory_name:i,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:"",cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",entryId:this.entryId};try{console.log("Saving customs declaration..."),await je(c),wt(),Ot("All Data Saved successfully!"),console.log("Customs declaration saved successfully."),this.newC75=!1}catch(u){Pt("Failed to save Entry Data!"),console.error("Failed to save the declaration:",u)}},prepareDeclarationObject(){console.log("Prearing Declaration Object...");const e=this.form.customsDeclarationSectionOne.sellers.find((e=>e.id===this.form.customsDeclarationSectionOne.sellerId)),t=this.form.customsDeclarationSectionOne.buyers.find((e=>e.id===this.form.customsDeclarationSectionOne.buyerId)),o=this.form.customsDeclarationSectionOne.declarants.find((e=>e.id===this.form.customsDeclarationSectionOne.declarantId)),a=e.country?this.countries.find((t=>t.code===e.country))?.name:"",r=t.country?this.countries.find((e=>e.code===t.country))?.name:"",n=e?`${e.name}\n${e.address}, ${a}`:"",s=t?`${t.name}\n${t.address}, ${r}`:"",l=o?`${o.name}\n${o.address}\n${o.country}`:"",i=o?o.status:"",c=o?.phoneContact?o.phoneContact:"",u=o?o.name:"",d=this.currencies.find((e=>e.code===this.form.customsDeclarationSectionThree.invoiceCurrency)),m=d?d.name:"",p=void 0!==this.form.customsDeclarationSectionThree.transport?this.form.customsDeclarationSectionThree.transport:0,h=void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:1,y=parseFloat(p);console.log("Transport Converted:",y,p,h),console.log("Selected Seller:",e),console.log("Selected Buyer:",t),console.log("Selected Declarant:",o);let g={sellerNameAddress:n,buyerNameAddress:s,declarantNameAddress:l,incoTerms:void 0!==this.form.customsDeclarationSectionOne.termsOfDelivery?this.form.customsDeclarationSectionOne.termsOfDelivery:"",invoiceNumbersDates:void 0!==this.form.customsDeclarationSectionOne.invoiceNumber?this.form.customsDeclarationSectionOne.invoiceNumber:"",numberAndDateofContract:void 0!==this.form.customsDeclarationSectionOne.contractNumber?this.form.customsDeclarationSectionOne.contractNumber:"",sellerId:void 0!==this.form.customsDeclarationSectionOne.sellerId?this.form.customsDeclarationSectionOne.sellerId:"",buyerId:void 0!==this.form.customsDeclarationSectionOne.buyerId?this.form.customsDeclarationSectionOne.buyerId:"",declarantId:void 0!==this.form.customsDeclarationSectionOne.declarantId?this.form.customsDeclarationSectionOne.declarantId:"",relatedParties:void 0!==this.form.customsDeclarationSectionTwo.relatedParties?this.form.customsDeclarationSectionTwo.relatedParties:"",influencePrice:void 0!==this.form.customsDeclarationSectionTwo.influencePrice?this.form.customsDeclarationSectionTwo.influencePrice:"",transactionValueApproximate:void 0!==this.form.customsDeclarationSectionTwo.transactionValueApproximate?this.form.customsDeclarationSectionTwo.transactionValueApproximate:"",restrictions:void 0!==this.form.customsDeclarationSectionTwo.restrictions?this.form.customsDeclarationSectionTwo.restrictions:"",conditions:void 0!==this.form.customsDeclarationSectionTwo.conditions?this.form.customsDeclarationSectionTwo.conditions:"",royalties_boolean:void 0!==this.form.customsDeclarationSectionTwo.royalties?this.form.customsDeclarationSectionTwo.royalties:"",resale_disposal_boolean:void 0!==this.form.customsDeclarationSectionTwo.resale_disposal_boolean?this.form.customsDeclarationSectionTwo.resale_disposal_boolean:"",date_signed:void 0!==this.form.customsDeclarationSectionTwo.date_signed?this.form.customsDeclarationSectionTwo.date_signed:"",status_of_signatory:i,signatory_phone_number:void 0!==c?c:"",signatory_name:u,net_invoice_price:void 0!==this.form.customsDeclarationSectionThree.netPrice?this.form.customsDeclarationSectionThree.netPrice:"",indirect_payment:void 0!==this.form.customsDeclarationSectionThree.indirectPayment?this.form.customsDeclarationSectionThree.indirectPayment:"",exchange_rate:void 0!==this.form.customsDeclarationSectionThree.exchangeRate?this.form.customsDeclarationSectionThree.exchangeRate:"",costs_commissions:void 0!==this.form.customsDeclarationSectionThree.commissions?this.form.customsDeclarationSectionThree.commissions:"",costs_brokerage:void 0!==this.form.customsDeclarationSectionThree.brokerage?this.form.customsDeclarationSectionThree.brokerage:"",costs_containers_packing:void 0!==this.form.customsDeclarationSectionThree.containersPacking?this.form.customsDeclarationSectionThree.containersPacking:"",goods_free_of_charge_materials:void 0!==this.form.customsDeclarationSectionThree.materials?this.form.customsDeclarationSectionThree.materials:"",goods_free_of_charge_tools:void 0!==this.form.customsDeclarationSectionThree.tools?this.form.customsDeclarationSectionThree.tools:"",goods_free_of_charge_materials_consumed:void 0!==this.form.customsDeclarationSectionThree.materialsConsumed?this.form.customsDeclarationSectionThree.materialsConsumed:"",goods_engineering_development:void 0!==this.form.customsDeclarationSectionThree.engineering?this.form.customsDeclarationSectionThree.engineering:"",royalties_license_fee:void 0!==this.form.customsDeclarationSectionThree.royalties?this.form.customsDeclarationSectionThree.royalties:"",procees_resale_disposal:void 0!==this.form.customsDeclarationSectionThree.proceedsResale?this.form.customsDeclarationSectionThree.proceedsResale:"",cost_delivery_transport:y.toFixed(2),cost_delivery_loading:void 0!==this.form.customsDeclarationSectionThree.loadingHandling?this.form.customsDeclarationSectionThree.loadingHandling:"",cost_delivery_insurance:void 0!==this.form.customsDeclarationSectionThree.insurance?this.form.customsDeclarationSectionThree.insurance:"",cost_transport_after_arrival:void 0!==this.form.customsDeclarationSectionFour.costAfterArrival?this.form.customsDeclarationSectionFour.costAfterArrival:"",charges_construction:void 0!==this.form.customsDeclarationSectionFour.chargesAfterImportation?this.form.customsDeclarationSectionFour.chargesAfterImportation:"",other_charges:void 0!==this.form.customsDeclarationSectionFour.otherCharges?this.form.customsDeclarationSectionFour.otherCharges:"",customs_duties_taxes:void 0!==this.form.customsDeclarationSectionFour.customsDutiesTaxes?this.form.customsDeclarationSectionFour.customsDutiesTaxes:"",transportIncluded:void 0!==this.form.customsDeclarationSectionThree.transportIncluded?this.form.customsDeclarationSectionThree.transportIncluded:"",insuranceIncluded:void 0!==this.form.customsDeclarationSectionThree.insuranceIncluded?this.form.customsDeclarationSectionThree.insuranceIncluded:"",invoice_currency:void 0!==m?m:""};return console.log(g),g},async generateBlanlValuationForPreSigning(){console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),Vt("Generating customs declaration...");const e=await Re();wt(),Ot("Valuation Form Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/pdf"})),o=document.createElement("a");o.href=t;const a="Blank Valuation Form.pdf";o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()}catch(e){Pt("Failed to generate document!"),console.error("Failed to generate the declaration:",e)}},async generateC75Declaration(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),Vt("Generating customs declaration...");const t=await Ve(e);wt(),Ot("C75 Generated Successfully!");const o=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.href=o;const r=`Customs Declaration - ${this.entryNumber}.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()}catch(t){Pt("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async generatePreSignedValuation(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),Vt("Generating customs declaration...");const t=await Ue(e);wt(),Ot("C75 Generated Successfully!");const o=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.href=o;const r=`Customs Declaration - ${this.entryNumber}.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()}catch(t){Pt("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async generatePreSignedValuationVersionTwo(){const e=this.prepareDeclarationObject();console.log("Generating C75 Declaration...");try{console.log("Generating customs declaration..."),Vt("Generating customs declaration...");const t=await Be(e);wt(),Ot("C75 Generated Successfully!");const o=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.href=o;const r=`Customs Declaration - ${this.entryNumber}.pdf`;a.setAttribute("download",r),document.body.appendChild(a),a.click(),a.remove()}catch(t){Pt("Failed to save Entry Data!"),console.error("Failed to generate the declaration:",t)}},async updateC75Declaration(){console.log("Updating C75 Declaration...");const e=this.prepareDeclarationObject();try{Vt("Saving Data..."),console.log("Updating customs declaration..."),await Je(this.entryId,e),wt(),Ot("All Data Saved successfully!"),console.log("Customs declaration updated successfully.")}catch(t){Pt("Failed to save Entry Data!"),console.error("Failed to update the declaration:",t)}},async fetchCustomsDeclarations(){try{console.log("Getting C75 Entry...");const e=await We(this.entryId);if(206===e.status)return console.log("No C75 Entry found."),this.newC75=!0,this.form.customsDeclarationSectionThree.netPrice=e.data.invoiceTotal,this.form.customsDeclarationSectionOne.invoiceNumber=e.data.invoiceNumbers,this.form.customsDeclarationSectionThree.exchangeRate=e.data.rate_of_exchange,this.entryNumber=e.data.entry_number?e.data.entry_number:"",void console.log("Entry Number:",this.entryNumber);this.newC75=!1,console.log("C75 Entry found."),this.updateFields(e.data)}catch(e){console.error("Failed to get the C75 Entry:",e)}},syncData(){this.form.customsDeclarationSectionOne.buyerId=parseInt(this.$route.query.buyerId),this.form.customsDeclarationSectionOne.sellerId=parseInt(this.$route.query.sellerId),this.form.customsDeclarationSectionOne.invoiceNumber=this.$route.query.invoiceNumber,this.form.customsDeclarationSectionThree.netPrice=this.$route.query.invoiceTotal,this.form.customsDeclarationSectionThree.invoiceCurrency=this.$route.query.currency,this.form.customsDeclarationSectionThree.exchangeRate=this.$route.query.rateOfExchange,this.form.customsDeclarationSectionThree.transport=this.$route.query.freight,this.form.customsDeclarationSectionThree.insurance=this.$route.query.insurance,this.form.customsDeclarationSectionOne.termsOfDelivery=this.$route.query.incoTerms?this.$route.query.incoTerms:""},convertTinyIntoString(e){return 1===e?"yes":"no"},updateFields(e){console.log("Updating fields..."),this.form.customsDeclarationSectionOne.sellerNameAddress=e.seller_name_and_address,this.form.customsDeclarationSectionOne.buyerNameAddress=e.buyer_name_address,this.form.customsDeclarationSectionOne.declarantNameAddress=e.declarant_name_address,this.form.customsDeclarationSectionOne.termsOfDelivery=e.terms_of_delivery,this.form.customsDeclarationSectionOne.contractNumber=e.name_date_contract,this.form.customsDeclarationSectionOne.invoiceNumber=e.invoiceNumbers,this.form.customsDeclarationSectionOne.sellerId=e.seller_id,this.form.customsDeclarationSectionOne.buyerId=e.buyer_id,this.form.customsDeclarationSectionOne.declarantId=e.declarant_id,this.form.customsDeclarationSectionTwo.relatedParties=this.convertTinyIntoString(e.related_parties_boolean),this.form.customsDeclarationSectionTwo.influencePrice=this.convertTinyIntoString(e.influence_price_boolean),this.form.customsDeclarationSectionTwo.transactionValueApproximate=this.convertTinyIntoString(e.transaction_value_approximate_boolean),this.form.customsDeclarationSectionTwo.restrictions=this.convertTinyIntoString(e.restrictions_disposal_boolean),this.form.customsDeclarationSectionTwo.conditions=this.convertTinyIntoString(e.sale_price_condition_boolean),this.form.customsDeclarationSectionTwo.royalties=this.convertTinyIntoString(e.royalties_boolean),this.form.customsDeclarationSectionTwo.resale_disposal_boolean=this.convertTinyIntoString(e.resale_disposal_boolean),this.form.customsDeclarationSectionTwo.date_signed=e.date_signed,this.form.customsDeclarationSectionTwo.status_of_signatory=e.status_of_signatory,this.form.customsDeclarationSectionTwo.signatory_phone_number=e.signatory_phone_number,this.form.customsDeclarationSectionTwo.signatory_name=e.signatory_name,this.form.customsDeclarationSectionThree.netPrice=e.invoiceTotal,this.form.customsDeclarationSectionThree.indirectPayment=e.indirect_payment,this.form.customsDeclarationSectionThree.exchangeRate=e.rate_of_exchange,this.form.customsDeclarationSectionThree.commissions=e.costs_commissions,this.form.customsDeclarationSectionThree.brokerage=e.costs_brokerage,this.form.customsDeclarationSectionThree.containersPacking=e.costs_containers_packing,this.form.customsDeclarationSectionThree.materials=e.goods_free_of_charge_materials,this.form.customsDeclarationSectionThree.tools=e.goods_free_of_charge_tools,this.form.customsDeclarationSectionThree.materialsConsumed=e.goods_free_of_charge_materials_consumed,this.form.customsDeclarationSectionThree.engineering=e.goods_engineering_development,this.form.customsDeclarationSectionThree.royalties=e.royalties_license_fee,this.form.customsDeclarationSectionThree.proceedsResale=e.procees_resale_disposal,this.form.customsDeclarationSectionThree.transport=e.cost_delivery_transport,this.form.customsDeclarationSectionThree.loadingHandling=e.cost_delivery_loading,this.form.customsDeclarationSectionThree.insurance=e.cost_delivery_insurance,this.form.customsDeclarationSectionFour.costAfterArrival=e.cost_transport_after_arrival,this.form.customsDeclarationSectionFour.chargesAfterImportation=e.charges_construction,this.form.customsDeclarationSectionFour.otherCharges=e.other_charges,this.form.customsDeclarationSectionFour.customsDutiesTaxes=e.customs_duties_taxes}}};const Si=(0,D.A)(Ti,[["render",ln],["__scopeId","data-v-b425655a"]]);var Ii=Si;const xi=e=>((0,n.Qi)("data-v-b9f2e906"),e=e(),(0,n.jt)(),e),Ni={class:"buyers-page"},Ai=xi((()=>(0,n.Lk)("h1",null,"Importers List",-1))),Oi={class:"row"},wi={class:"col-md-2"},Pi={class:"form-group"},Vi=xi((()=>(0,n.Lk)("label",{for:"buyerName"},[(0,n.Lk)("strong",null,"Name")],-1))),Ri={class:"col-md-2"},Ui={class:"form-group"},Bi=xi((()=>(0,n.Lk)("label",{for:"buyerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),ji={class:"col-md-2"},Wi={class:"form-group"},$i=xi((()=>(0,n.Lk)("label",{for:"buyerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),Xi={class:"col-md-2"},Gi={class:"form-group"},Mi=xi((()=>(0,n.Lk)("label",{for:"buyerCity"},[(0,n.Lk)("strong",null,"City")],-1))),Ji={class:"col-md-2"},qi={class:"form-group"},Hi=xi((()=>(0,n.Lk)("label",{for:"buyerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),Yi=xi((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),Ki=["value"],zi={class:"col-md-1"},Qi={class:"form-group"},Zi=xi((()=>(0,n.Lk)("label",{for:"tinNumber"},[(0,n.Lk)("strong",null,"TIN Number")],-1))),ec=xi((()=>(0,n.Lk)("div",{class:"col-md-1"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Importer")])],-1))),tc={class:"table table-striped"},oc=xi((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"TIN Number")])],-1))),ac={scope:"row"};function rc(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",Ni,[Ai,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>l.addBuyer&&l.addBuyer(...e)),["prevent"]))},[(0,n.Lk)("div",Oi,[(0,n.Lk)("div",wi,[(0,n.Lk)("div",Pi,[Vi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerName",placeholder:"Please Enter Buyer Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.buyerName=e)},null,512),[[r.Jo,s.buyerName]])])]),(0,n.Lk)("div",Ri,[(0,n.Lk)("div",Ui,[Bi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>s.buyerAddressLine1=e)},null,512),[[r.Jo,s.buyerAddressLine1]])])]),(0,n.Lk)("div",ji,[(0,n.Lk)("div",Wi,[$i,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.buyerAddressLine2=e)},null,512),[[r.Jo,s.buyerAddressLine2]])])]),(0,n.Lk)("div",Xi,[(0,n.Lk)("div",Gi,[Mi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"buyerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.buyerCity=e)},null,512),[[r.Jo,s.buyerCity]])])]),(0,n.Lk)("div",Ji,[(0,n.Lk)("div",qi,[Hi,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.buyerCountry=e),id:"buyerCountry"},[Yi,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.code)+" - "+(0,E.v_)(e.name),9,Ki)))),128))],512),[[r.u1,s.buyerCountry]])])]),(0,n.Lk)("div",zi,[(0,n.Lk)("div",Qi,[Zi,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"tinNumber",placeholder:"TIN Number","onUpdate:modelValue":t[5]||(t[5]=e=>s.tinNumber=e)},null,512),[[r.Jo,s.tinNumber]])])]),ec])],32),(0,n.Lk)("table",tc,[oc,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.buyers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",ac,(0,E.v_)(t+1),1),(0,n.Lk)("td",null,(0,E.v_)(e.name),1),(0,n.Lk)("td",null,(0,E.v_)(e.address),1),(0,n.Lk)("td",null,(0,E.v_)(e.country),1),(0,n.Lk)("td",null,(0,E.v_)(e.taxIdentificationNumber),1)])))),128))])])])}var nc={name:"BuyersPage",data(){return{buyers:[],countries:[],buyerName:"",buyerAddressLine1:"",buyerAddressLine2:"",buyerCity:"",buyerCountry:"",tinNumber:""}},methods:{async getBuyers(){this.buyers=await $e(),console.log(this.buyers)},async addBuyer(){const e={name:this.buyerName,address:`${this.buyerAddressLine1}\n${this.buyerAddressLine2}\n${this.buyerCity}`,country:this.buyerCountry,taxIdentificationNumber:this.tinNumber};Vt("Adding Buyer"),He(e).then((()=>{this.buyerName="",this.buyerAddressLine1="",this.buyerAddressLine2="",this.buyerCity="",this.buyerCountry="",Ot("Buyer Added Successfully"),this.getBuyers()})).catch((e=>{Pt("Failed to Add Buyer",e)}))},async getCountries(){this.countries=await qe(),console.log("Countries",this.contries)}},mounted(){this.getBuyers(),this.getCountries()}};const sc=(0,D.A)(nc,[["render",rc],["__scopeId","data-v-b9f2e906"]]);var lc=sc;const ic=e=>((0,n.Qi)("data-v-3fc590de"),e=e(),(0,n.jt)(),e),cc={class:"sellers-page"},uc=ic((()=>(0,n.Lk)("h1",null,"Shippers List",-1))),dc={class:"row"},mc={class:"col-md-2"},pc={class:"form-group"},hc=ic((()=>(0,n.Lk)("label",{for:"sellerName"},[(0,n.Lk)("strong",null,"Name")],-1))),yc={class:"col-md-2"},gc={class:"form-group"},fc=ic((()=>(0,n.Lk)("label",{for:"sellerAddressLine1"},[(0,n.Lk)("strong",null,"Address Line 1")],-1))),bc={class:"col-md-2"},vc={class:"form-group"},kc=ic((()=>(0,n.Lk)("label",{for:"sellerAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),Lc={class:"col-md-2"},Dc={class:"form-group"},_c=ic((()=>(0,n.Lk)("label",{for:"sellerCity"},[(0,n.Lk)("strong",null,"City")],-1))),Cc={class:"col-md-2"},Fc={class:"form-group"},Ec=ic((()=>(0,n.Lk)("label",{for:"sellerCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),Tc=ic((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),Sc=["value"],Ic={class:"col-md-1"},xc={class:"form-group"},Nc=ic((()=>(0,n.Lk)("label",{for:"tinNumber"},[(0,n.Lk)("strong",null,"TIN Number")],-1))),Ac=ic((()=>(0,n.Lk)("div",{class:"col-md-1"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Shipper")])],-1))),Oc={class:"table table-striped"},wc=ic((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"TIN Number")])],-1))),Pc={scope:"row"};function Vc(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",cc,[uc,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>l.addSeller&&l.addSeller(...e)),["prevent"]))},[(0,n.Lk)("div",dc,[(0,n.Lk)("div",mc,[(0,n.Lk)("div",pc,[hc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerName",placeholder:"Please Enter Seller Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.sellerName=e)},null,512),[[r.Jo,s.sellerName]])])]),(0,n.Lk)("div",yc,[(0,n.Lk)("div",gc,[fc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine1",placeholder:"Please Enter Address Line 1","onUpdate:modelValue":t[1]||(t[1]=e=>s.sellerAddressLine1=e)},null,512),[[r.Jo,s.sellerAddressLine1]])])]),(0,n.Lk)("div",bc,[(0,n.Lk)("div",vc,[kc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.sellerAddressLine2=e)},null,512),[[r.Jo,s.sellerAddressLine2]])])]),(0,n.Lk)("div",Lc,[(0,n.Lk)("div",Dc,[_c,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"sellerCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.sellerCity=e)},null,512),[[r.Jo,s.sellerCity]])])]),(0,n.Lk)("div",Cc,[(0,n.Lk)("div",Fc,[Ec,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.sellerCountry=e),id:"sellerCountry"},[Tc,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.code)+" - "+(0,E.v_)(e.name),9,Sc)))),128))],512),[[r.u1,s.sellerCountry]])])]),(0,n.Lk)("div",Ic,[(0,n.Lk)("div",xc,[Nc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"tinNumber",placeholder:"TIN Number","onUpdate:modelValue":t[5]||(t[5]=e=>s.tinNumber=e)},null,512),[[r.Jo,s.tinNumber]])])]),Ac])],32),(0,n.Lk)("table",Oc,[wc,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.sellers,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Pc,(0,E.v_)(t+1),1),(0,n.Lk)("td",null,(0,E.v_)(e.name),1),(0,n.Lk)("td",null,(0,E.v_)(e.address),1),(0,n.Lk)("td",null,(0,E.v_)(e.country),1),(0,n.Lk)("td",null,(0,E.v_)(e.taxIdentificationNumber),1)])))),128))])])])}var Rc={name:"SellersPage",data(){return{sellers:[],countries:[],sellerName:"",sellerAddressLine1:"",sellerAddressLine2:"",sellerCity:"",sellerCountry:"",tinNumber:""}},methods:{async getSellers(){this.sellers=await Me()},async getContries(){this.countries=await qe()},async addSeller(){const e={name:this.sellerName,address:`${this.sellerAddressLine1}\n${this.sellerAddressLine2}\n${this.sellerCity}`,country:this.sellerCountry,phoneContact:"",emailContact:"",taxIdentificationNumber:this.tinNumber};console.log("Seller",e),Vt("Saving Data..."),Ye(e).then((()=>{this.sellerName="",this.sellerAddressLine1="",this.sellerAddressLine2="",this.sellerCity="",this.sellerCountry="",this.tinNumber="",this.getSellers(),Ot("Shipper added successfully")})).catch((e=>{Pt("Error adding shipper",e)}))}},mounted(){this.getSellers(),this.getContries()}};const Uc=(0,D.A)(Rc,[["render",Vc],["__scopeId","data-v-3fc590de"]]);var Bc=Uc;const jc=e=>((0,n.Qi)("data-v-26e81b34"),e=e(),(0,n.jt)(),e),Wc={class:"declarants-page"},$c=jc((()=>(0,n.Lk)("h1",null,"Declarants List",-1))),Xc={class:"row"},Gc={class:"col-md-2"},Mc={class:"form-group"},Jc=jc((()=>(0,n.Lk)("label",{for:"declarantName"},[(0,n.Lk)("strong",null,"Name")],-1))),qc={class:"col-md-2"},Hc={class:"form-group"},Yc=jc((()=>(0,n.Lk)("label",{for:"declarantAddressLine1"},[(0,n.Lk)("strong",null,"Address Line")],-1))),Kc={class:"col-md-2"},zc={class:"form-group"},Qc=jc((()=>(0,n.Lk)("label",{for:"declarantAddressLine2"},[(0,n.Lk)("strong",null,"Address Line 2")],-1))),Zc={class:"col-md-1"},eu={class:"form-group"},tu=jc((()=>(0,n.Lk)("label",{for:"declarantCity"},[(0,n.Lk)("strong",null,"City")],-1))),ou={class:"col-md-1"},au={class:"form-group"},ru=jc((()=>(0,n.Lk)("label",{for:"declarantCountry"},[(0,n.Lk)("strong",null,"Country")],-1))),nu=jc((()=>(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1))),su=["value"],lu={class:"col-md-2"},iu={class:"form-group"},cu=jc((()=>(0,n.Lk)("label",{for:"declarantStatus"},[(0,n.Lk)("strong",null,"Status")],-1))),uu=jc((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add New Declarant")])],-1))),du={class:"table table-striped"},mu=jc((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Name"),(0,n.Lk)("th",{scope:"col"},"Address "),(0,n.Lk)("th",{scope:"col"},"Country"),(0,n.Lk)("th",{scope:"col"},"Status")])],-1))),pu={scope:"row"};function hu(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",Wc,[$c,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>l.addDeclarant&&l.addDeclarant(...e)),["prevent"]))},[(0,n.Lk)("div",Xc,[(0,n.Lk)("div",Gc,[(0,n.Lk)("div",Mc,[Jc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantName",placeholder:"Please Enter Declarant Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.declarantName=e)},null,512),[[r.Jo,s.declarantName]])])]),(0,n.Lk)("div",qc,[(0,n.Lk)("div",Hc,[Yc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine1",placeholder:"Please Enter Address Line","onUpdate:modelValue":t[1]||(t[1]=e=>s.declarantAddressLine1=e)},null,512),[[r.Jo,s.declarantAddressLine1]])])]),(0,n.Lk)("div",Kc,[(0,n.Lk)("div",zc,[Qc,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantAddressLine2",placeholder:"Please Enter Address Line 2","onUpdate:modelValue":t[2]||(t[2]=e=>s.declarantAddressLine2=e)},null,512),[[r.Jo,s.declarantAddressLine2]])])]),(0,n.Lk)("div",Zc,[(0,n.Lk)("div",eu,[tu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantCity",placeholder:"Please Enter City","onUpdate:modelValue":t[3]||(t[3]=e=>s.declarantCity=e)},null,512),[[r.Jo,s.declarantCity]])])]),(0,n.Lk)("div",ou,[(0,n.Lk)("div",au,[ru,(0,n.bo)((0,n.Lk)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>s.declarantCountry=e),id:"declarantCountry"},[nu,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.countries,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.name},(0,E.v_)(e.name),9,su)))),128))],512),[[r.u1,s.declarantCountry]])])]),(0,n.Lk)("div",lu,[(0,n.Lk)("div",iu,[cu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"declarantStatus",placeholder:"Please Enter Status","onUpdate:modelValue":t[5]||(t[5]=e=>s.declarantStatus=e)},null,512),[[r.Jo,s.declarantStatus]])])]),uu])],32),(0,n.Lk)("table",du,[mu,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.declarants,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",pu,(0,E.v_)(t+1),1),(0,n.Lk)("td",null,(0,E.v_)(e.name),1),(0,n.Lk)("td",null,(0,E.v_)(e.address),1),(0,n.Lk)("td",null,(0,E.v_)(e.country),1),(0,n.Lk)("td",null,(0,E.v_)(e.status),1)])))),128))])])])}var yu={name:"DeclarantsPage",data(){return{declarants:[],countries:[],declarantName:"",declarantAddressLine1:"",declarantAddressLine2:"",declarantCity:"",declarantCountry:"",declarantStatus:""}},methods:{async getDeclarants(){this.declarants=await Xe()},async getContries(){this.countries=await qe()},async addDeclarant(){const e={name:this.declarantName,address:`${this.declarantAddressLine1}\n${this.declarantAddressLine2}`,city:this.declarantCity,country:this.declarantCountry,status:this.declarantStatus};Vt("Adding Declarant..."),Ke(e).then((()=>{this.declarantName="",this.declarantAddressLine1="",this.declarantAddressLine2="",this.declarantCity="",this.declarantCountry="",this.declarantStatus="",Ot("Declarant Added Successfully"),this.getDeclarants()})).catch((e=>{Pt("Failed to Add Declarant",e)}))}},mounted(){this.getDeclarants(),this.getContries()}};const gu=(0,D.A)(yu,[["render",hu],["__scopeId","data-v-26e81b34"]]);var fu=gu;const bu=e=>((0,n.Qi)("data-v-167acab7"),e=e(),(0,n.jt)(),e),vu={class:"vessels-page"},ku=bu((()=>(0,n.Lk)("h1",null,"Vessels List",-1))),Lu={class:"row"},Du={class:"col-md-5"},_u={class:"form-group"},Cu=bu((()=>(0,n.Lk)("label",{for:"vesselName"},[(0,n.Lk)("strong",null,"Vessel Name")],-1))),Fu={class:"col-md-5"},Eu={class:"form-group"},Tu=bu((()=>(0,n.Lk)("label",{for:"imoNumber"},[(0,n.Lk)("strong",null,"IMO Number")],-1))),Su=bu((()=>(0,n.Lk)("div",{class:"col-md-2"},[(0,n.Lk)("div",{class:"form-group"},[(0,n.Lk)("p",null,[(0,n.Lk)("strong")]),(0,n.Lk)("button",{class:"btn btn-primary",type:"submit"},"Add Vessel")])],-1))),Iu={class:"table table-striped"},xu=bu((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Vessel Name"),(0,n.Lk)("th",{scope:"col"},"IMO Number ")])],-1))),Nu={scope:"row"};function Au(e,t,o,a,s,l){return(0,n.uX)(),(0,n.CE)("div",vu,[ku,(0,n.Lk)("form",{class:"my-form-container",onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>l.addVessel&&l.addVessel(...e)),["prevent"]))},[(0,n.Lk)("div",Lu,[(0,n.Lk)("div",Du,[(0,n.Lk)("div",_u,[Cu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"vesselName",placeholder:"Please Enter Vessel Name","onUpdate:modelValue":t[0]||(t[0]=t=>e.vesselName=t)},null,512),[[r.Jo,e.vesselName]])])]),(0,n.Lk)("div",Fu,[(0,n.Lk)("div",Eu,[Tu,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control",id:"imoNumber",placeholder:"Please Enter IMO Number","onUpdate:modelValue":t[1]||(t[1]=t=>e.imoNumber=t)},null,512),[[r.Jo,e.imoNumber]])])]),Su])],32),(0,n.Lk)("table",Iu,[xu,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.vessels,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("th",Nu,(0,E.v_)(t+1),1),(0,n.Lk)("td",null,(0,E.v_)(e.name),1),(0,n.Lk)("td",null,(0,E.v_)(e.imoNumber),1)])))),128))])])])}var Ou={name:"VesselsPage",data(){return{vessels:[]}},mounted(){this.getVessels()},methods:{async getVessels(){this.vessels=await et()},async addVessel(){const e={name:this.vesselName,imoNumber:this.imoNumber};Vt("Adding Vessel"),tt(e).then((()=>{Ot("Vessel Added Successfully"),this.vesselName="",this.imoNumber="",this.getVessels()})).catch((e=>{Pt("Failed to Add Vessel",e)}))}}};const wu=(0,D.A)(Ou,[["render",Au],["__scopeId","data-v-167acab7"]]);var Pu=wu;function Vu(e,t,o,a,r,s){const l=(0,n.g2)("VehicleEntry");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{onSubmit:s.handleCreate},null,8,["onSubmit"])])}const Ru=(0,n.Lk)("h1",null,"Entry Details",-1),Uu={key:0},Bu={key:1,class:"vehicle-form"},ju={class:"row vehicleAttchments"},Wu={class:"col-md-3"},$u=(0,n.Lk)("label",{for:"referenceNumber"},[(0,n.Lk)("strong",null,"Reference Number")],-1),Xu={class:"col-md-3"},Gu=(0,n.Lk)("label",{for:"commercialInvoiceAttachment"},[(0,n.Lk)("strong",null,"Commercial Invoice Attachment")],-1),Mu={class:"col-md-3"},Ju=(0,n.Lk)("label",{for:"attachedSheet"},[(0,n.Lk)("strong",null,"Attached Sheet")],-1),qu={class:"col-md-3"},Hu=(0,n.Lk)("label",{for:"instructionSheet"},[(0,n.Lk)("strong",null,"Instruction Sheet")],-1),Yu={class:"row"},Ku={class:"col-md-3"},zu={class:"form-row"},Qu={class:"row"},Zu={class:"col-md-3"},ed=(0,n.Lk)("label",{for:"InvoiceNumber",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Number")],-1),td={class:"col-md-3"},od=(0,n.Lk)("label",{for:"supplierName",class:"form-label"},[(0,n.Lk)("strong",null,"Supplier Name")],-1),ad={class:"col-md-2"},rd=(0,n.Lk)("label",{for:"InvoiceDate",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Date")],-1),nd={class:"col-md-2"},sd=(0,n.Lk)("label",{for:"invoiceCurrency",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Currency")],-1),ld={class:"col-md-2"},id=(0,n.Lk)("label",{for:"rateOfExchange",class:"form-label"},[(0,n.Lk)("strong",null,"Rate of Exchange")],-1),cd=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Line #"),(0,n.Lk)("th",null,"Product Code"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"THN Number"),(0,n.Lk)("th",null,"Quantity"),(0,n.Lk)("th",null,"Unit Price"),(0,n.Lk)("th",null,"Total Cost"),(0,n.Lk)("th",null,"Gross Weight"),(0,n.Lk)("th",null,"Net Weight"),(0,n.Lk)("th",null,"Curb Weight"),(0,n.Lk)("th")])],-1),ud=["onUpdate:modelValue"],dd=["onUpdate:modelValue"],md=["onUpdate:modelValue"],pd=["onUpdate:modelValue"],hd=["onUpdate:modelValue"],yd=["onUpdate:modelValue"],gd=["onUpdate:modelValue"],fd=["onUpdate:modelValue"],bd=["onUpdate:modelValue"],vd=["onClick"],kd={key:0},Ld=(0,n.Lk)("i",{class:"fas fa-chevron-up",style:{color:"gray"}},null,-1),Dd=[Ld],_d={key:1},Cd=(0,n.Lk)("i",{class:"fas fa-chevron-down",style:{color:"gray"}},null,-1),Fd=[Cd],Ed={key:0},Td={colspan:"11"},Sd=(0,n.Lk)("label",{for:""},"Fuel Type",-1),Id=["onUpdate:modelValue"],xd=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Nd=["value"],Ad=(0,n.Lk)("label",{for:""},"Seat Position",-1),Od=["onUpdate:modelValue"],wd=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),Pd=["value"],Vd=(0,n.Lk)("label",{for:"vehicleCode"},"Model Code",-1),Rd=(0,n.Lk)("label",{for:"numberOfSeats"},"Number of Seats",-1),Ud=["onUpdate:modelValue"],Bd=(0,n.Lk)("label",{for:"numberOfDoors"},"Number of Doors",-1),jd=["onUpdate:modelValue"],Wd=(0,n.Lk)("label",{for:"tyreSize"},"Tyre Size",-1),$d=["onUpdate:modelValue"],Xd=(0,n.Lk)("label",{for:"engineDisplacement"},"Engine Displacement",-1),Gd=["onUpdate:modelValue"],Md={key:1},Jd={colspan:"11"},qd=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Chassis Number"),(0,n.Lk)("th",null,"Engine Number"),(0,n.Lk)("th",null,"Exterior Color"),(0,n.Lk)("th",null,"Customer Name"),(0,n.Lk)("th",null,"Customer TIN"),(0,n.Lk)("th",null,"Broker Instructions"),(0,n.Lk)("th",null,"CPC Code"),(0,n.Lk)("th",null,"NPC Code"),(0,n.Lk)("th",null,"ED Number"),(0,n.Lk)("th",null,"Manufacture Year")])],-1),Hd=["onUpdate:modelValue"],Yd=["onUpdate:modelValue"],Kd=["onUpdate:modelValue"],zd=["onUpdate:modelValue"],Qd=["onUpdate:modelValue"],Zd=["onUpdate:modelValue"],em=(0,n.Lk)("option",{disabled:"",value:""},"Please select one",-1),tm=["value"],om=["onUpdate:modelValue"],am={class:"form-row"},rm={class:"row"},nm={class:"col-md-3"},sm=(0,n.Lk)("label",{for:"invoiceTotal",class:"form-label"},[(0,n.Lk)("strong",null,"Invoice Total")],-1),lm={class:"col-md-3"},im=(0,n.Lk)("label",{for:"inlandAmount",class:"form-label"},[(0,n.Lk)("strong",null,"Inland Amount")],-1),cm={class:"col-md-3"},um=(0,n.Lk)("label",{for:"insuranceAmount",class:"form-label"},[(0,n.Lk)("strong",null,"Insurance Amount")],-1),dm={class:"col-md-3"},mm=(0,n.Lk)("label",{for:"otherCharges",class:"form-label"},[(0,n.Lk)("strong",null,"Other Charges")],-1),pm=(0,n.Lk)("h3",null,"Entry Summary",-1),hm=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Number of Lines Read"),(0,n.Lk)("th",null,"Total Number of Vehicles Read"),(0,n.Lk)("th",null,"Total Invoices Value")])],-1),ym=(0,n.Lk)("tr",null,[(0,n.Lk)("td"),(0,n.Lk)("td"),(0,n.Lk)("td")],-1);function gm(e,t,o,a,s,l){const i=(0,n.g2)("CustomsEntryForm"),c=(0,n.g2)("v-select");return(0,n.uX)(),(0,n.CE)(n.FK,null,[Ru,1==o.isEditMode?((0,n.uX)(),(0,n.CE)("h2",Uu,"Reference Number: "+(0,E.v_)(this.referenceNumber),1)):(0,n.Q3)("",!0),0==o.isEditMode?((0,n.uX)(),(0,n.CE)("div",Bu,[(0,n.Lk)("div",ju,[(0,n.Lk)("div",Wu,[$u,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.referenceNumber=e),placeholder:"Enter Reference Number"},null,512),[[r.Jo,s.referenceNumber]])]),(0,n.Lk)("div",Xu,[Gu,(0,n.Lk)("input",{type:"file",id:"commercialInvoiceAttachment",class:"form-control",onChange:t[1]||(t[1]=e=>l.handleFileChange(e,"commercialInvoice"))},null,32)]),(0,n.Lk)("div",Mu,[Ju,(0,n.Lk)("input",{type:"file",id:"attachedSheet",class:"form-control",onChange:t[2]||(t[2]=e=>l.handleFileChange(e,"attachedSheet"))},null,32)]),(0,n.Lk)("div",qu,[Hu,(0,n.Lk)("input",{type:"file",id:"instructionSheet",class:"form-control",onChange:t[3]||(t[3]=e=>l.handleFileChange(e,"instructionSheet"))},null,32)])]),(0,n.Lk)("div",null,[(0,n.Lk)("div",Yu,[(0,n.Lk)("div",Ku,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary upload-button",onClick:t[4]||(t[4]=(...e)=>l.readToyotaFiles&&l.readToyotaFiles(...e))},"Upload Files")])])])])):(0,n.Q3)("",!0),(0,n.bF)(i,{ref:"myCustomsForm",customsEntryForm:s.customsEntryForm,onUpdateCustomsEntryForm:t[5]||(t[5]=e=>s.customsEntryForm=e)},null,8,["customsEntryForm"]),(0,n.Lk)("div",zu,[(0,n.Lk)("div",Qu,[(0,n.Lk)("div",Zu,[ed,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>s.invoiceNumber=e),id:"InvoiceNumber",placeholder:"Please Enter Invoice Number"},null,512),[[r.Jo,s.invoiceNumber]])]),(0,n.Lk)("div",td,[od,(0,n.bo)((0,n.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>s.supplierName=e),id:"supplierName",placeholder:"Please Enter Supplier Name"},null,512),[[r.Jo,s.supplierName]])]),(0,n.Lk)("div",ad,[rd,(0,n.bo)((0,n.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=e=>s.invoiceDate=e),id:"InvoiceDate",placeholder:"Please Enter Invoice Date"},null,512),[[r.Jo,s.invoiceDate]])]),(0,n.Lk)("div",nd,[sd,(0,n.bF)(c,{options:s.currencies,modelValue:s.invoiceCurrency,"onUpdate:modelValue":t[9]||(t[9]=e=>s.invoiceCurrency=e),label:"name",id:"invoiceCurrency",searchable:!0,filterable:!0,reduce:e=>e.code},null,8,["options","modelValue","reduce"])]),(0,n.Lk)("div",ld,[id,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=e=>s.rateOfExchange=e),id:"rateOfExchange",placeholder:"Please Enter Rate of Exchange"},null,512),[[r.Jo,s.rateOfExchange]])])])]),(0,n.Lk)("div",null,[(0,n.Lk)("table",null,[cd,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.vehicles,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,(0,E.v_)(t+1),1),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.vehicleCode=t,class:"form-control",placeholder:"Please Enter Vehicle Code"},null,8,ud),[[r.Jo,e.vehicleCode]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.description=t,class:"form-control",placeholder:"Please Enter Vehicle Model"},null,8,dd),[[r.Jo,e.description]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.thnNumber=t,class:"form-control",placeholder:"Please Enter THN Number"},null,8,md),[[r.Jo,e.thnNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.quantity=t,class:"form-control",placeholder:"Please Enter Quantity"},null,8,pd),[[r.Jo,e.quantity]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.unitPrice=t,class:"form-control",placeholder:"Please Enter Unit Price"},null,8,hd),[[r.Jo,e.unitPrice]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.totalCost=t,class:"form-control",placeholder:"Please Enter Total Cost"},null,8,yd),[[r.Jo,e.totalCost]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.grossWeight=t,class:"form-control",placeholder:"Please Enter Gross Weight"},null,8,gd),[[r.Jo,e.grossWeight]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.netWeight=t,class:"form-control",placeholder:"Please Enter Net Weight"},null,8,fd),[[r.Jo,e.netWeight]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.curbWeight=t,class:"form-control",placeholder:"Please Enter Curb Weight"},null,8,bd),[[r.Jo,e.curbWeight]])]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{onClick:e=>l.toggleDetails(t)},[s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("span",kd,Dd)):((0,n.uX)(),(0,n.CE)("span",_d,Fd))],8,vd)])]),s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("tr",Ed,[(0,n.Lk)("td",Td,[(0,n.Lk)("table",null,[(0,n.Lk)("tbody",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[Sd,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.fuelType=t,class:"form-control"},[xd,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.fuelTypeOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.detail),9,Nd)))),128))],8,Id),[[r.u1,e.fuelType]])]),(0,n.Lk)("td",null,[Ad,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.seatPosition=t,class:"form-control"},[wd,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.seatPositionOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.detail),9,Pd)))),128))],8,Od),[[r.u1,e.seatPosition]])]),(0,n.Lk)("td",null,[Vd,(0,n.bF)(c,{options:s.vehicleCodeOptions,modelValue:e.modelCode,"onUpdate:modelValue":t=>e.modelCode=t,style:{width:"300px"},label:"description",searchable:!0,filterable:!0,placeholder:"Please select one",reduce:e=>e.code},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[Rd,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.numberOfSeats=t,class:"form-control",placeholder:"Please Enter Number of Seats"},null,8,Ud),[[r.Jo,e.numberOfSeats]])]),(0,n.Lk)("td",null,[Bd,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.numberOfDoors=t,class:"form-control",placeholder:"Please Enter Number of Doors"},null,8,jd),[[r.Jo,e.numberOfDoors]])]),(0,n.Lk)("td",null,[Wd,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.tyreSize=t,class:"form-control",placeholder:"Please Enter Tyre Size"},null,8,$d),[[r.Jo,e.tyreSize]])]),(0,n.Lk)("td",null,[Xd,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.engineDisplacement=t,class:"form-control",placeholder:"Please Enter Engine Displacement"},null,8,Gd),[[r.Jo,e.engineDisplacement]])])])])])])])):(0,n.Q3)("",!0),s.expandedIndex===t?((0,n.uX)(),(0,n.CE)("tr",Md,[(0,n.Lk)("td",Jd,[(0,n.Lk)("table",null,[qd,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.details,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.chassisNumber},[(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.chassisNumber=t,class:"form-control",placeholder:"Please Enter Chassis Number"},null,8,Hd),[[r.Jo,e.chassisNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.engineNumber=t,class:"form-control",placeholder:"Please Enter Engine Number"},null,8,Yd),[[r.Jo,e.engineNumber]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.exteriorColor=t,class:"form-control",placeholder:"Please Enter Exterior Color"},null,8,Kd),[[r.Jo,e.exteriorColor]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.customerName=t,class:"form-control",placeholder:"Please Enter Customer Name"},null,8,zd),[[r.Jo,e.customerName]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.customerTIN=t,class:"form-control",placeholder:"Please Enter Customer TIN"},null,8,Qd),[[r.Jo,e.customerTIN]])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.brokerInstructions=t,class:"form-control"},[em,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.instructionList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.code,value:e.code},(0,E.v_)(e.code),9,tm)))),128))],8,Zd),[[r.u1,e.brokerInstructions]])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:l.availableCPCCodes,modelValue:e.cpcCode,"onUpdate:modelValue":t=>e.cpcCode=t,label:"code",id:"cpcCode",searchable:!0,filterable:!0,reduce:e=>e.cpcId},null,8,["options","modelValue","onUpdate:modelValue","reduce"])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{modelValue:e.npcCode,"onUpdate:modelValue":t=>e.npcCode=t,options:s.npcCodeOptions,label:"code",id:"npcCode",searchable:!0,reduce:e=>e.code,filterable:!0,placeholder:"Select a NPC Code"},null,8,["modelValue","onUpdate:modelValue","options","reduce"])]),(0,n.Lk)("td",null,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.edNumber=t,class:"form-control",placeholder:"Please Enter ED Number"},null,8,om),[[r.Jo,e.edNumber]])]),(0,n.Lk)("td",null,[(0,n.bF)(c,{options:s.years,modelValue:e.manufactureYear,"onUpdate:modelValue":t=>e.manufactureYear=t,searchable:!0,filterable:!0,placeholder:"Please select one"},null,8,["options","modelValue","onUpdate:modelValue"])])])))),128))])])])])):(0,n.Q3)("",!0)],64)))),128))])]),(0,n.Lk)("div",am,[(0,n.Lk)("div",rm,[(0,n.Lk)("div",nm,[sm,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=e=>s.invoiceTotal=e),id:"invoiceTotal",placeholder:"Please Enter Invoice Total"},null,512),[[r.Jo,s.invoiceTotal]])]),(0,n.Lk)("div",lm,[im,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>s.inlandAmount=e),id:"inlandAmount",placeholder:"Please Enter Inland Amount"},null,512),[[r.Jo,s.inlandAmount]])]),(0,n.Lk)("div",cm,[um,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=e=>s.insuranceAmount=e),id:"insuranceAmount",placeholder:"Please Enter Insurance Amount"},null,512),[[r.Jo,s.insuranceAmount]])]),(0,n.Lk)("div",dm,[mm,(0,n.bo)((0,n.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>s.otherCharges=e),id:"otherCharges",placeholder:"Please Enter Other Charges"},null,512),[[r.Jo,s.otherCharges]])])])])]),(0,n.Lk)("div",null,[pm,(0,n.Lk)("table",null,[hm,(0,n.Lk)("tbody",null,[ym,(0,n.Lk)("tr",null,[(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[15]||(t[15]=e=>l.handleButtonClick())},(0,E.v_)(o.isEditMode?"Update Entry":"Create Entry"),1)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[16]||(t[16]=e=>l.generateWorksheet())},"Generate WorkSheet")]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:t[17]||(t[17]=e=>l.generateAsycudaXML())},"Generate Asycuda XML")])])])])])],64)}function fm(){const e=(0,Wt.KR)([{code:"328FG18",description:"FORKLIFT TRUCK"},{code:"3BAAGH30W",description:"ALPHARD MINIVAN"},{code:"4RUNNER",description:"4RUNNER"},{code:"6FGL18",description:"FORKLIFT"},{code:"7FBEHU18",description:"ELECTRIC FORKLIFT"},{code:"7FDU70",description:"FORKLIFT"},{code:"86",description:"TOYOTA 86"},{code:"8FBE20U",description:"FORKLIFT"},{code:"8FGC45U",description:"2014 LPG FORKLIFT"},{code:"8FGCU 30",description:"TOYOTA FORKLIFT 8FGCU 30"},{code:"8FGCU25",description:"TOYOTA FORLIFT"},{code:"8FGU15",description:"TOYOTA FORKLIFT TRUCK"},{code:"AGYA",description:"HATCHBACK"},{code:"AQUA",description:"AQUA"},{code:"AURIS",description:"TOYOTA AURIS MOTOR CAR"},{code:"AVALON",description:"AVALON"},{code:"AXIO",description:"TOYOTA AXIO"},{code:"AXIO HYBRID",description:"TOYOTA AXIO GASOLINE ELECTRIC HYBRID"},{code:"AGYO",description:"TOYOTA AYGO"},{code:"B101RAGQSGJ",description:"5 DR RHD"},{code:"B101RAGQSGT",description:"5DR GAS RHD"},{code:"BB",description:"MINI MPV"},{code:"BZ4X PURE",description:"ELECTRIC SUV"},{code:"CALYA ASTRA",description:"SUV"},{code:"CAMRY",description:"CAMRY"},{code:"CAMRY HYBRID",description:"CAMRY HYBRID"},{code:"CAMRY SOLARA",description:"CAMRY SOLARA"},{code:"CELICA",description:"CELICA"},{code:"CHR",description:"CROSSOVER SUV"},{code:"CHR HYBRID",description:"C-HR HYBRID"},{code:"COASTER",description:"COASTER"},{code:"COMMUTER",description:"CUMMUTER PANEL VAN"},{code:"COROLLA",description:"COROLLA"},{code:"COROLLA CROSS",description:"COROLLA CROSS"},{code:"CRESSIDA",description:"CRESSIDA"},{code:"CROWN",description:"SEDAN"},{code:"CROWN HYBRID",description:"TOYOTA CROWN HYBRID"},{code:"DYNA",description:"DYNA TRUCK"},{code:"ECHO",description:"ECHO"},{code:"ESTIMA",description:"SEDAN"},{code:"FIELDER",description:"FIELDER"},{code:"FJ CRUISER",description:"FJ CRUISER"},{code:"FORKLIFT",description:"TOYOTA FORKLIFT"},{code:"FORTUNER",description:"FORTUNER"},{code:"GRAND",description:"GRAND HIACE"},{code:"GRANDE",description:"GRANDE ACE"},{code:"HARRIER",description:"HARRIER SUV"},{code:"HIACE",description:"HIACE"},{code:"HIGHLANDER",description:"HIGHLANDER"},{code:"HIGHLANDER HYBRID",description:"HIGHLANDER HYBRID"},{code:"HILUX",description:"HILUX SINGLE CAB"},{code:"HILUX DOUBLE",description:"HILUX DOUBLE CAB"},{code:"HINO",description:"HINO TRUCK"},{code:"IPSUM",description:"IPSUM"},{code:"IST",description:"IST"},{code:"LAND CRUISER",description:"LAND CRUISER"},{code:"LC200",description:"LC200"},{code:"LC70",description:"LC70"},{code:"LEXUS",description:"LEXUS"},{code:"LITEACE",description:"TOYOTA LITEACE"},{code:"MARKX",description:"MARKX"},{code:"MATRIX",description:"MATRIX"},{code:"MR2",description:"MR2"},{code:"NOAH",description:"NOAH MINIBUS"},{code:"PASEO",description:"PASEO"},{code:"PASSO",description:"TOYOTA PASSO"},{code:"PIXIS EPOCH",description:"PIXIS EPOCH"},{code:"PRADO",description:"PRADO"},{code:"PREVIA",description:"PREVIA"}]);return e}var bm={name:"VehicleEntry",components:{CustomsEntryForm:Ua},props:{record:{type:Object,default:()=>xt()},vehicleDetails:{type:Array,default:()=>[]},isEditMode:{type:Boolean,default:!1},referenceNumberRecord:{type:String,default:""},invoiceDetails:{type:Object,default:()=>({supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0})}},watch:{record:{handler:function(e){this.customsEntryForm=e},deep:!0},vehicleDetails:{handler:function(e){this.vehicles=e},deep:!0},referenceNumberRecord:{handler:function(e){this.referenceNumber=e}},invoiceDetails:{handler:function(e){this.supplierName=e.supplierName,this.invoiceNumber=e.invoiceNumber,this.invoiceDate=e.invoiceDate,this.invoiceCurrency=e.invoiceCurrency,this.rateOfExchange=e.rateOfExchange,this.invoiceTotal=e.invoiceTotal,this.inlandAmount=e.inlandAmount,this.insuranceAmount=e.insuranceAmount,this.otherCharges=e.otherCharges},deep:!0}},emits:["submit"],data(){return{files:{commercialInvoice:null,attachedSheet:null,instructionSheet:null},referenceNumber:"",supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0,vehicles:[],seatPositionOptions:[{detail:"Left Hand Drive",code:"LHD"},{detail:"Right Hand Drive",code:"RHD"}],instructionList:[{detail:"Exempted but Bond then Extract",code:"EB"},{detail:"Exempted clear off the Port",code:"EC"},{detail:"Exempted from all duties and taxes but processing like a duty paid",code:"DP"},{detail:"Bond",code:"B"},{detail:"Duty Paid",code:"DP"}],fuelTypeOptions:[{detail:"CNG",code:"CNG"},{detail:"Diesel",code:"DSL"},{detail:"Electric",code:"ELC"},{detail:"Hybrid",code:"HYB"},{detail:"Petrol",code:"PET"},{detail:"Other",code:"OTH"},{detail:"Liquified Petroleum Gas",code:"LPG"}],vehicleCodeOptions:[],currencies:[],years:[],countries:[],npcCodeOptions:["000"],expandedIndex:null,customsEntryForm:{...this.record}}},mounted(){this.setYears(),this.vehicleCodeOptions=fm(),this.currencies=Xt(),this.pageSetup(),this.fetchNpcCodes(),this.fetchCountries()},computed:{availableCPCCodes(){if(void 0!==this.customsEntryForm.regimeTypeCode&&null!==this.customsEntryForm.regimeTypeCode){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===this.customsEntryForm.regimeTypeCode));return e?e.cpcCodes:[]}return this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes))}},methods:{handleButtonClick(){this.isEditMode?(console.log("Updating Entry"),this.updateEntry()):(console.log("Saving Entry"),this.saveEntry())},sanitizeVehicleData(){return this.vehicles.flatMap((e=>e.details.map((t=>({description:e.description,quantity:t.quantity,unit_price:e.unitPrice,amount:parseFloat(t.quantity)*parseFloat(e.unitPrice),thn_code:e.commodity,product_code:e.vehicleCode,country_of_origin:"",cpcCode:t.cpcCode,npcCode:t.npcCode,vatApplicable:!0,grossWeight:t.grossWeight,netWeight:t.netWeight,curbWeight:t.curbWeight,fuelType:t.fuelType,seatPosition:t.seatPosition,modelCode:t.modelCode,numberOfSeats:t.numberOfSeats,numberOfDoors:t.numberOfDoors,tyreSize:t.tyreSize,engineDisplacement:t.engineDisplacement,chassisNumber:t.chassisNumber,engineNumber:t.engineNumber,exteriorColor:t.exteriorColor,customerName:t.customerName,tinNumber:t.customerTIN,brokerInstructions:t.brokerInstructions,edNumber:t.edNumber,manufactureYear:t.manufactureYear})))))},updateWaybill(){return{waybill_number:this.customsEntryForm.waybillNumber,waybill_date:this.customsEntryForm.waybillDate,mode_of_transport:this.customsEntryForm.modeOfTransport,freight_type:this.customsEntryForm.freightType,marks_and_numbers:this.customsEntryForm.marksAndNumbers,package_type:this.customsEntryForm.packageType,package_quantity:this.customsEntryForm.numberOfPackages,country_of_origin:this.customsEntryForm.country_of_origin,country_of_final_destination:this.customsEntryForm.countryOfFinalDestination,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,port_of_discharge:this.customsEntryForm.portOfDischargeId,waybill_id:this.customsEntryForm.waybill_id}},updateEntryData(){return{net_weight:this.customsEntryForm.netWeight,gross_weight:this.customsEntryForm.grossWeight,entry_number:this.referenceNumber,freight_charge:this.customsEntryForm.freightAmount,declarant:this.customsEntryForm.declarantId,incoterms:this.customsEntryForm.incoTerms,regime_type:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,container_charges:this.customsEntryForm.containerCharges,additional_charges:this.customsEntryForm.additionalCharges,local_fee:this.customsEntryForm.localFee,country_last_provenance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry}},updateEntry(){const e=this.updateWaybill(),t=this.updateEntryData(),o={waybill:e,entry:t};console.log("Generating Payload",o),this.$emit("submit",o)},saveEntry(){const e={invoice_total:this.invoiceTotal,invoice_id:this.invoiceNumber,invoice_date:this.invoiceDate,subtotal:this.invoiceTotal,vendor_name:this.supplierName,total_tax:0,vendor_address:"",purchase_order:"",inland:this.inlandAmount,insurance:this.insuranceAmount,otherCharges:this.otherCharges,currency:this.invoiceCurrency,rate_of_exchange:this.rateOfExchange,invoice_items:this.sanitizeVehicleData()},t={referenceNumber:this.referenceNumber,waybillNumber:this.customsEntryForm.waybillNumber,waybillDate:this.customsEntryForm.waybillDate,modeOfTransport:this.customsEntryForm.modeOfTransport,freightType:this.customsEntryForm.freightType,marksAndNumbers:this.customsEntryForm.marksAndNumbers,countryOfOrigin:this.customsEntryForm.countryOfOrigin,countryOfFinalDestination:this.customsEntryForm.countryOfFinalDestination,countryLastProvenance:this.customsEntryForm.countryLastProvinance,tradingCountry:this.customsEntryForm.tradingCountry,kindOfPackage:this.customsEntryForm.packageType,numberOfPackages:this.customsEntryForm.numberOfPackages,totalCargoValue:this.customsEntryForm.totalCargoValue,freightCharge:this.customsEntryForm.freightAmount,insuranceAmount:this.customsEntryForm.insuranceAmount,otherCharges:this.customsEntryForm.otherCharges,rateOfExchange:this.customsEntryForm.rateOfExchange,netWeight:this.customsEntryForm.netWeight,grossWeight:this.customsEntryForm.grossWeight,declarant:this.customsEntryForm.declarantId,incoTerms:this.customsEntryForm.incoTerms,importer:this.customsEntryForm.importerId,shipper:this.customsEntryForm.exporterId,vessel:this.customsEntryForm.vesselId,portOfDischarge:this.customsEntryForm.portOfDischargeId,regimeType:this.customsEntryForm.regimeType,deposit:this.customsEntryForm.depositAmount,containerCharges:this.customsEntryForm.containerCharges,additionalCharges:this.customsEntryForm.additionalCharges,localFee:this.customsEntryForm.localFee,entryType:Ba.VEHICLES,invoiceList:[e]};console.log("Entry Data",t),this.$emit("submit",t)},pageSetup(){this.getRegimeTypes().then((()=>{this.setDefaults()}))},async fetchCountries(){try{const e=await fetch("https://restcountries.com/v3/all"),t=await e.json();this.countries=t.map((e=>({name:e.name.common,code:e.cca2})))}catch(e){console.error("Failed to fetch countries:",e)}},setDefaults(){const e=this.customsEntryForm.regimeTypeOptions.find((e=>e.regimeTypeCode===Gt().defaultRegimeType));this.customsEntryForm.regimeType=e.regimeTypeId},setYears(){const e=(new Date).getFullYear(),t=1990;for(let o=t;o<=e;o++)this.years.push(o)},async fetchNpcCodes(){Qe().then((e=>{this.npcCodeOptions=e,console.log("NPC Codes: ",e)}))},async getRegimeTypes(){return ze("TT").then((e=>{this.customsEntryForm.regimeTypeOptions=e}))},toggleDetails(e){this.expandedIndex=this.expandedIndex===e?null:e},handleFileChange(e,t){this.files[t]=e.target.files[0]},async readToyotaFiles(){const e=new FormData;e.append("commercialInvoice",this.files.commercialInvoice),e.append("pdfAttachments",this.files.attachedSheet),e.append("toyotaInstructionExcel",this.files.instructionSheet),e.append("reference_number","RLL76568"),Vt("Uploading Files"),dt(e).then((e=>{Ot("Files Uploaded Successfully"),console.log(e),this.vehicles=this.convertVehicleData(e.line_items),this.supplierName=e.summary_fields["VENDOR_NAME"]??"",this.invoiceNumber=e.summary_fields["INVOICE_RECEIPT_ID"]??"",this.invoiceDate=e.summary_fields["INVOICE_RECEIPT_DATE"]??"",this.invoiceTotal=Dt(e.summary_fields["TOTAL"]),this.customsEntryForm.totalCargoValue=this.invoiceTotal})).catch((e=>{Pt("Error Uploading Files"),console.error("Error details:",e),e.response&&(console.error("Error response data:",e.response.data),console.error("Error response status:",e.response.status),console.error("Error response headers:",e.response.headers))}))},convertVehicleData(e){const t=[],o=this.customsEntryForm.regimeTypeOptions.flatMap((e=>e.cpcCodes)),a=o.find((e=>e.code===Gt().defaultCPCCode)).cpcId;return e.forEach((e=>{const o=e["Product Code"].match(/\d{5}/)[0],r={chassisNumber:e.chassis_number,engineNumber:e.engine_number,exteriorColor:e.exterior_color,interiorColor:e.interior_color,customerName:e.customer,customerTIN:e.customer_tin??"",brokerInstructions:e.instruction_code,cpcCode:a,npcCode:"000",edNumber:e["ED No"],quantity:e["quantity"],grossWeight:e["gross_weight"],netWeight:e["net_weight"],engineDisplacement:e["engine_displacement"],manufactureYear:e.manufacture_year??"2000"},n=e["Product Code"].match(/\d{5}/)[0],s=t.find((e=>e.vehicleCode===n));if(s)return s.quantity+=parseInt(e["quantity"]),void s.details.push(r);t.push({vehicleCode:o,description:e["description"],thnNumber:null===e["commodity_code"]?"":e["commodity_code"],quantity:1,unitPrice:e["unitcost"],grossWeight:null===e["gross_weight"]?0:e["gross_weight"],netWeight:null===e["net_weight"]?0:e["net_weight"],curbWeight:null===e["curb_weight"]?0:e["curb_weight"],engineDisplacement:e["engine_displacement"],fuelType:null===e["fuel_type"]?"PET":e["fuel_type"],numberOfSeats:null===e["number_of_seats"]?5:e["number_of_seats"],numberOfDoors:null===e["number_of_doors"]?4:e["number_of_doors"],tyreSize:null===e["tyre_size"]?"":e["tyre_size"],modelCode:null===e["model_code"]?"":e["model_code"],seatPosition:null===e["seat_position"]?"RHD":e["seat_position"],details:[r]})})),console.log("Vehicle Data Read",t),t},commodityCodeChange(e){const t=e.target.innerText,o=t.replace(/[^0-9]/g,""),a=this.includeFullStops(o);e.target.innerText=a,this.moveCursorToEnd(e.target)},includeFullStops(e){let t="";for(let o=0;o<e.length;o++)4!==o&&6!==o&&8!==o||(t+="."),t+=e[o];return this.truncateString(t)},getChargeData(){let e=[];return this.vehicles.forEach((t=>{const o=st(t.thnNumber.replace(/\./g,"")).then((e=>{console.log(e);let o=kt(e.charges,!0);t.commodity={code:t.thnNumber.replace(/\./g,""),id:e.id,charges:o},console.log("Vehicle Commodity",t.commodity)})).catch((e=>(wt(),Pt(`The following commodity code does not exist on Asycuda - ${t.thnNumber}. Please update this and try again. `),console.error("Error details:",e),Promise.reject(e))));e.push(o)})),Promise.all(e)},generateAsycudaXML(){console.log("Generating Asycuda XML"),Vt("Generating Asycuda XML");const e=this.customsEntryForm.ports.find((e=>e.id===this.customsEntryForm.portOfDischargeId));console.log("Selected Port: ",e);const t=this.customsEntryForm.importers.find((e=>e.id===this.customsEntryForm.importerId)),o=this.customsEntryForm.exporters.find((e=>e.id===this.customsEntryForm.exporterId)),a=this.customsEntryForm.declarants.find((e=>e.id===this.customsEntryForm.declarantId)),r=this.countries.find((e=>e.code===this.customsEntryForm.countryOfOrigin)),n=_t(this.vehicles,this.availableCPCCodes),s=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(0,2),l=void 0==this.customsEntryForm.regimeType?"":this.customsEntryForm.regimeTypeCode?.slice(2),i={exworks:this.invoiceTotal,rate_of_exchange:this.rateOfExchange,supplementary_charges_and_deductions:{internal_freight:this.inlandAmount,insurance:this.insuranceAmount,other:this.otherCharges,deductions:0},line_items:n},c={reference_number:"RLL7656",group_items:!0,waybill:{number:this.customsEntryForm.waybillNumber,external_freight:this.customsEntryForm.freightAmount,insurance:void 0==this.customsEntryForm.insuranceAmount?0:this.customsEntryForm.insuranceAmount,other_charges:void 0==this.customsEntryForm.otherCharges?0:this.customsEntryForm.otherCharges,importer:{name:t?.name,tax_identification_number:void 0==t.taxIdentificationNumber?"":t.taxIdentificationNumber},exporter:{name:`${o?.name}\n${o?.address}`,tax_identification_number:void 0==o.taxIdentificationNumber?"":o.taxIdentificationNumber},declarant:{name:a?.name,tax_identification_number:void 0==a.taxIdentificationNumber?"":a.taxIdentificationNumber},mode_of_transport:"Ocean"===this.customsEntryForm.modeOfTransport?"1":"Air"===this.customsEntryForm.modeOfTransport?"4":"",container_flag:!1,vessel:this.customsEntryForm.vesselName,country_of_origin:this.customsEntryForm.countryOfOrigin,country_of_destination:void 0==this.customsEntryForm.countryOfFinalDestination?"":this.customsEntryForm.countryOfFinalDestination,number_of_packages:this.customsEntryForm.numberOfPackages+"",type_of_declaration:s,general_procedural_code:l,office_of_destination:e.asycudaCode,country_last_provinance:this.customsEntryForm.countryLastProvinance,trading_country:this.customsEntryForm.tradingCountry,country_export:this.customsEntryForm.countryOfOrigin,delivery_terms:this.customsEntryForm.incoTerms,delivery_terms_place:this.customsEntryForm.countryOfOrigin,place_of_terms:r?.name,local_currency:"TTD",office_of_entry:e.asycudaCode,location_of_goods:""},invoices:[i]};console.log("Request Data",c),at(c).then((e=>{wt(),Ot("Asycuda XML ZIP File Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/zip"})),o=document.createElement("a"),a="Asycuda-XML.zip";o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()})).catch((()=>{Pt("Error Generating Asycuda XML")}))},generateWorksheet(){console.log("Generating Worksheet"),Vt("Generating Worksheet"),this.getChargeData().then((()=>{const e=ft("RLL7656","TT","Ramnarine Rampersad","BR0285",this.customsEntryForm.regimeTypeCode,this.customsEntryForm.importerName,this.customsEntryForm.importerTaxIdentificationNumber,this.customsEntryForm.exporterName,this.customsEntryForm.exporterTaxIdentificationNumber,this.customsEntryForm.vesselName,this.customsEntryForm.portOfDischargeName,this.customsEntryForm.depositAmount,this.customsEntryForm.containerCharges,this.customsEntryForm.additionalCharges,this.customsEntryForm.localFee,this.customsEntryForm.freightAmount,this.customsEntryForm.insuranceAmount,this.customsEntryForm.otherCharges),t=Ct(this.vehicles);console.log("Vehicle Lines",t);const o={name:this.invoiceNumber,supplier:this.supplierName,exworks:this.invoiceTotal,invoice_currency:this.invoiceCurrency,cif_foreign_currency:0,cif_local_currency:0,rate_of_exchange:this.rateOfExchange,supplementary_charges_and_deductions:{internal_freight:this.inlandAmount,insurance:this.insuranceAmount,other:this.otherCharges,deductions:0},line_items:t};e.invoices=[o],console.log("Worksheet Object",e),rt(e).then((e=>{wt(),Ot("Worksheet Generated Successfully!");const t=window.URL.createObjectURL(new Blob([e],{type:"application/zip"})),o=document.createElement("a"),a="Worksheet.zip";o.href=t,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove()}))})).catch((()=>{Pt("Error Generating Worksheet")}))},truncateString(e){return e.length>14?e.substring(0,14):e},moveCursorToEnd(e){const t=document.createRange(),o=window.getSelection();t.selectNodeContents(e),t.collapse(!1),o.removeAllRanges(),o.addRange(t)}}};const vm=(0,D.A)(bm,[["render",gm]]);var km=vm,Lm={components:{VehicleEntry:km},methods:{async handleCreate(e){try{Vt("Saving your Entry..."),Oe(e).then((e=>{console.log("Entry created successfully:",e),wt(),Ot("Entry created successfully")})).catch((e=>{console.error("Failed to create the Entry:",e),Pt("Failed to create the Entry. Please try again.")}))}catch(t){console.error("Failed to create the invoice:",t),Pt("Failed to create the Entry. Please try again.")}}}};const Dm=(0,D.A)(Lm,[["render",Vu]]);var _m=Dm;function Cm(e,t,o,a,r,s){const l=(0,n.g2)("VehicleEntry");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{record:r.record,vehicleDetails:r.vehicleDetails,invoiceDetails:r.invoiceDetails,referenceNumberRecord:r.referenceNumberRecord,isEditMode:!0,onSubmit:s.handleEdit},null,8,["record","vehicleDetails","invoiceDetails","referenceNumberRecord","onSubmit"])])}var Fm={components:{VehicleEntry:km},data(){return{entryId:"",waybillId:"",record:xt(),vehicleDetails:[],invoiceDetails:{supplierName:"",invoiceNumber:"",invoiceDate:"",invoiceCurrency:"",rateOfExchange:0,invoiceTotal:0,inlandAmount:0,insuranceAmount:0,otherCharges:0},referenceNumberRecord:""}},mounted(){this.entryId=this.$route.params.entryId,this.fetchEntryDetails(),this.getRegimeTypes(),this.fetchPorts()},methods:{async fetchEntryDetails(){console.log("Fetching details for entry ID:",this.entryId),Vt("Fetching Entry details...");try{const e=we(this.entryId),t=Pe(this.entryId),[o,a]=await Promise.all([e,t]);wt(),Ot("Entry details fetched successfully"),console.log("Entry details:",o),this.record=xt(),this.record.incotermsList=Pa(),this.record.modeOfTransportOOptions=Mt(),this.record.packageTypes=$t(),this.record.importerId=o.importer,this.record.exporterId=o.shipper,this.record.waybillNumber=o.waybill_number,this.record.modeOfTransport=o.mode_of_transport,this.record.freightType=o.freight_type,this.record.vesselId=o.vessel,this.record.portOfDischargeId=o.port_of_discharge,this.record.netWeight=o.net_weight,this.record.grossWeight=o.gross_weight,this.record.numberOfPackages=o.package_quantity,this.record.packageType=o.package_type,this.record.marksAndNumbers=o.marks_and_numbers,this.record.totalCargoValue=o.invoice_total??0,this.record.freightAmount=o.freight_charge??0,this.record.insuranceAmount=o.insurance_amount??0,this.record.otherCharges=o.other_charges??0,this.record.rateOfExchange=o.rate_of_exchange,this.record.countryOfOrigin=o.country_of_origin,this.record.countryOfFinalDestination=o.country_of_final_destination,this.record.regimeType=o.regimeType,this.record.regimeTypeCode=o.regimeTypeCode,this.record.depositAmount=o.deposit??0,this.record.containerCharges=o.container_charges??0,this.record.additionalCharges=o.additional_charges??0,this.record.localFee=o.local_fee??0,this.record.declarantId=o.declarant,this.record.incoTerms=o.incoterms,this.record.countryLastProvinance=o.country_last_provenance,this.record.tradingCountry=o.trading_country,this.fetchPorts(),console.log("Commercial Invoice details:",a),this.vehicleDetails=this.processVehicleData(a[0].lines),this.invoiceDetails={supplierName:a[0].supplier_name,invoiceNumber:a[0].invoice_number,invoiceDate:a[0].invoice_date,invoiceCurrency:a[0].currency,rateOfExchange:a[0].rate_of_exchange,invoiceTotal:a[0].invoice_total,inlandAmount:a[0].inland,insuranceAmount:a[0].insurance,otherCharges:a[0].other_charges},this.referenceNumberRecord=o.entry_number,this.waybillId=o.waybill_id,console.log("Vehicle details:",this.vehicleDetails)}catch(e){console.error("Failed to fetch the Entry details:",e),Pt("Failed to fetch the Entry details. Please try again.")}},async getRegimeTypes(){return ze("TT").then((e=>{this.record.regimeTypeOptions=e}))},async fetchPorts(){return Ze().then((e=>{this.record.ports=e}))},processVehicleData(e){const t=[];return e.forEach((e=>{const o=e["product_code"],a={chassisNumber:e.chassis_number,engineNumber:e.engine_number,exteriorColor:e.exterior_color,customerName:e.customer_name??"",customerTIN:e.customer_tin??"",brokerInstructions:e.broker_instructions,cpcCode:e.cpc_code,npcCode:e.npc_code,edNumber:e.ed_number,quantity:e.quantity,grossWeight:e.gross_weight??0,netWeight:e.net_weight??0,engineDisplacement:e.engine_displacement,manufactureYear:e.manufacture_year??"2000",engine_number:e.engine_number},r=e["product_code"],n=t.find((e=>e.vehicleCode===r));if(n)return n.quantity+=parseInt(e["quantity"]),void n.details.push(a);t.push({vehicleCode:o,description:e.description,thnNumber:null===e["tariff_code"]?"":e["tariff_code"],quantity:1,unitPrice:null===e.unit_price?0:e.unit_price,grossWeight:null===e["gross_weight"]?0:e["gross_weight"],netWeight:null===e["net_weight"]?0:e["net_weight"],curbWeight:null===e["curb_weight"]?0:e["curb_weight"],engineDisplacement:e["engine_displacement"],fuelType:null===e["fuel_type"]?"":e["fuel_type"],numberOfSeats:null===e["number_of_seats"]?5:e["number_of_seats"],numberOfDoors:null===e["number_of_doors"]?4:e["number_of_doors"],tyreSize:null===e["tyre_size"]?"":e["tyre_size"],modelCode:null===e["model_code"]?"":e["model_code"],seatPosition:null===e["seat_position"]?"RHD":e["seat_position"],details:[a]})})),t},mapResponseToRecord(e){return{exporters:[],importers:[],vessels:[],ports:[],declarants:[],incotermsList:Pa(),modeOfTransportOOptions:Mt(),importerId:e.importer,exporterId:e.shipper,importerName:"",exporterName:"",importerTaxIdentificationNumber:"",exporterTaxIdentificationNumber:"",exporterCountry:"",declarantTaxIdentificationNumber:"",waybillNumber:e.waybill_number,waybillDate:"",modeOfTransport:e.mode_of_transport,freightType:e.freight_type,vesselId:e.vessel,vesselName:"",packageTypes:$t(),portOfDischargeId:e.port_of_discharge,portOfDischargeName:"",netWeight:e.net_weight,grossWeight:e.gross_weight,numberOfPackages:e.package_quantity,packageType:e.package_type,marksAndNumbers:e.marks_and_numbers,totalCargoValue:e.invoice_total,freightAmount:e.freight_charge,insuranceAmount:e.insurance_amount,otherCharges:e.other_charges,rateOfExchange:e.rate_of_exchange,countryOfOrigin:e.country_of_origin,countryOfFinalDestination:e.country_of_final_destination,regimeType:e.regimeType,regimeTypeCode:e.regimeTypeCode,regimeTypeOptions:[],depositAmount:e.deposit,containerCharges:e.container_charges,additionalCharges:e.additional_charges,localFee:e.local_fee,declarantId:e.declarant,incoTerms:e.incoterms,countryLastProvinance:e.country_last_provenance,tradingCountry:e.trading_country}},async handleEdit(e){console.log("Edit payload:",e);const t=e.waybill;console.log("Waybill data:",t);const o=e.entry;console.log("Entry data:",o),Vt("Updating Entry details..."),Promise.all([ht(this.entryId,o),yt(this.waybillId,t)]).then((()=>{wt(),Ot("Entry details updated successfully")})).catch((e=>{console.error("Failed to update the Entry details:",e),Pt("Failed to update the Entry details. Please try again.")}))}}};const Em=(0,D.A)(Fm,[["render",Cm]]);var Tm=Em;const Sm=[{path:"/",name:"NewEntry",component:$a},{path:"/view-entries",name:"ViewEntries",component:za},{path:"/entries/:entryId",name:"EntryDetails",component:on,props:!0},{path:"/customs-declaration/:entryId",name:"CustomsDeclarationForm",component:Ii,props:!0},{path:"/buyers",name:"BuyersPage",component:lc},{path:"/sellers",name:"SellersPage",component:Bc},{path:"/declarants",name:"DeclarantsPage",component:fu},{path:"/vessels",name:"VesselsPage",component:Pu},{path:"/create-vehicle-entry",name:"VehicleEntry",component:_m},{path:"/edit-vehicle-entry/:entryId",name:"VehicleEntryEditPage",component:Tm}],Im=(0,F.aE)({history:(0,F.LA)(),routes:Sm});var xm=Im,Nm=o(6845);const Am=(0,r.Ef)(C);Am.use(xm),Am.component("v-select",Nm.A),Am.mount("#app")}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,n){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],n=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(l=!1,n<s&&(s=n));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,r,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,s=a[0],l=a[1],i=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var u=i(o)}for(t&&t(a);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self["webpackChunkasycuda_xml_automation"]=self["webpackChunkasycuda_xml_automation"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(6957)}));a=o.O(a)})();
//# sourceMappingURL=app.61031dc4.js.map